function Om(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function yd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Am(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,l.get?l:{enumerable:!0,get:function(){return e[r]}})}),n}var xd={exports:{}},Hs={},wd={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),Rm=Symbol.for("react.portal"),Lm=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),Mm=Symbol.for("react.provider"),zm=Symbol.for("react.context"),Dm=Symbol.for("react.forward_ref"),$m=Symbol.for("react.suspense"),Um=Symbol.for("react.memo"),Bm=Symbol.for("react.lazy"),Cu=Symbol.iterator;function Wm(e){return e===null||typeof e!="object"?null:(e=Cu&&e[Cu]||e["@@iterator"],typeof e=="function"?e:null)}var Sd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nd=Object.assign,jd={};function Nr(e,t,n){this.props=e,this.context=t,this.refs=jd,this.updater=n||Sd}Nr.prototype.isReactComponent={};Nr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cd(){}Cd.prototype=Nr.prototype;function ai(e,t,n){this.props=e,this.context=t,this.refs=jd,this.updater=n||Sd}var ii=ai.prototype=new Cd;ii.constructor=ai;Nd(ii,Nr.prototype);ii.isPureReactComponent=!0;var Eu=Array.isArray,Ed=Object.prototype.hasOwnProperty,ui={current:null},kd={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,t,n){var r,l={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Ed.call(t,r)&&!kd.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:El,type:e,key:s,ref:a,props:l,_owner:ui.current}}function Vm(e,t){return{$$typeof:El,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ci(e){return typeof e=="object"&&e!==null&&e.$$typeof===El}function Hm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ku=/\/+/g;function go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hm(""+e.key):t.toString(36)}function Zl(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case El:case Rm:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+go(a,0):r,Eu(l)?(n="",e!=null&&(n=e.replace(ku,"$&/")+"/"),Zl(l,t,n,"",function(c){return c})):l!=null&&(ci(l)&&(l=Vm(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(ku,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Eu(e))for(var i=0;i<e.length;i++){s=e[i];var u=r+go(s,i);a+=Zl(s,t,n,u,l)}else if(u=Wm(e),typeof u=="function")for(e=u.call(e),i=0;!(s=e.next()).done;)s=s.value,u=r+go(s,i++),a+=Zl(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Tl(e,t,n){if(e==null)return e;var r=[],l=0;return Zl(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Gm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},es={transition:null},Km={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:es,ReactCurrentOwner:ui};function _d(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Tl,forEach:function(e,t,n){Tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tl(e,function(){t++}),t},toArray:function(e){return Tl(e,function(t){return t})||[]},only:function(e){if(!ci(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Nr;le.Fragment=Lm;le.Profiler=Im;le.PureComponent=ai;le.StrictMode=Tm;le.Suspense=$m;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Km;le.act=_d;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nd({},e.props),l=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=ui.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Ed.call(t,u)&&!kd.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:El,type:e.type,key:l,ref:s,props:r,_owner:a}};le.createContext=function(e){return e={$$typeof:zm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mm,_context:e},e.Consumer=e};le.createElement=bd;le.createFactory=function(e){var t=bd.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Dm,render:e}};le.isValidElement=ci;le.lazy=function(e){return{$$typeof:Bm,_payload:{_status:-1,_result:e},_init:Gm}};le.memo=function(e,t){return{$$typeof:Um,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=es.transition;es.transition={};try{e()}finally{es.transition=t}};le.unstable_act=_d;le.useCallback=function(e,t){return Ke.current.useCallback(e,t)};le.useContext=function(e){return Ke.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};le.useEffect=function(e,t){return Ke.current.useEffect(e,t)};le.useId=function(){return Ke.current.useId()};le.useImperativeHandle=function(e,t,n){return Ke.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Ke.current.useMemo(e,t)};le.useReducer=function(e,t,n){return Ke.current.useReducer(e,t,n)};le.useRef=function(e){return Ke.current.useRef(e)};le.useState=function(e){return Ke.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return Ke.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return Ke.current.useTransition()};le.version="18.3.1";wd.exports=le;var d=wd.exports;const Wr=yd(d),Qm=Om({__proto__:null,default:Wr},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm=d,Ym=Symbol.for("react.element"),Jm=Symbol.for("react.fragment"),Xm=Object.prototype.hasOwnProperty,Zm=qm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eh={key:!0,ref:!0,__self:!0,__source:!0};function Fd(e,t,n){var r,l={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Xm.call(t,r)&&!eh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Ym,type:e,key:s,ref:a,props:l,_owner:Zm.current}}Hs.Fragment=Jm;Hs.jsx=Fd;Hs.jsxs=Fd;xd.exports=Hs;var o=xd.exports,Yo={},Pd={exports:{}},lt={},Od={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,$){var z=k.length;k.push($);e:for(;0<z;){var R=z-1>>>1,L=k[R];if(0<l(L,$))k[R]=$,k[z]=L,z=R;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var $=k[0],z=k.pop();if(z!==$){k[0]=z;e:for(var R=0,L=k.length,K=L>>>1;R<K;){var _=2*(R+1)-1,N=k[_],F=_+1,A=k[F];if(0>l(N,z))F<L&&0>l(A,N)?(k[R]=A,k[F]=z,R=F):(k[R]=N,k[_]=z,R=_);else if(F<L&&0>l(A,z))k[R]=A,k[F]=z,R=F;else break e}}return $}function l(k,$){var z=k.sortIndex-$.sortIndex;return z!==0?z:k.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,i=a.now();e.unstable_now=function(){return a.now()-i}}var u=[],c=[],p=1,f=null,h=3,x=!1,y=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=k)r(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(c)}}function w(k){if(S=!1,v(k),!y)if(n(u)!==null)y=!0,W(b);else{var $=n(c);$!==null&&E(w,$.startTime-k)}}function b(k,$){y=!1,S&&(S=!1,g(O),O=-1),x=!0;var z=h;try{for(v($),f=n(u);f!==null&&(!(f.expirationTime>$)||k&&!G());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var L=R(f.expirationTime<=$);$=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(u)&&r(u),v($)}else r(u);f=n(u)}if(f!==null)var K=!0;else{var _=n(c);_!==null&&E(w,_.startTime-$),K=!1}return K}finally{f=null,h=z,x=!1}}var M=!1,T=null,O=-1,V=5,B=-1;function G(){return!(e.unstable_now()-B<V)}function J(){if(T!==null){var k=e.unstable_now();B=k;var $=!0;try{$=T(!0,k)}finally{$?U():(M=!1,T=null)}}else M=!1}var U;if(typeof m=="function")U=function(){m(J)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,P=C.port2;C.port1.onmessage=J,U=function(){P.postMessage(null)}}else U=function(){j(J,0)};function W(k){T=k,M||(M=!0,U())}function E(k,$){O=j(function(){k(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,W(b))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var z=h;h=$;try{return k()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var z=h;h=k;try{return $()}finally{h=z}},e.unstable_scheduleCallback=function(k,$,z){var R=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?R+z:R):z=R,k){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=z+L,k={id:p++,callback:$,priorityLevel:k,startTime:z,expirationTime:L,sortIndex:-1},z>R?(k.sortIndex=z,t(c,k),n(u)===null&&k===n(c)&&(S?(g(O),O=-1):S=!0,E(w,z-R))):(k.sortIndex=L,t(u,k),y||x||(y=!0,W(b))),k},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(k){var $=h;return function(){var z=h;h=$;try{return k.apply(this,arguments)}finally{h=z}}}})(Ad);Od.exports=Ad;var th=Od.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=d,rt=th;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rd=new Set,rl={};function Bn(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(rl[e]=t,e=0;e<t.length;e++)Rd.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=Object.prototype.hasOwnProperty,rh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bu={},_u={};function lh(e){return Jo.call(_u,e)?!0:Jo.call(bu,e)?!1:rh.test(e)?_u[e]=!0:(bu[e]=!0,!1)}function sh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oh(e,t,n,r){if(t===null||typeof t>"u"||sh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,l,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var di=/[\-:]([a-z])/g;function fi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(di,fi);Le[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(di,fi);Le[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(di,fi);Le[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function pi(e,t,n,r){var l=Le.hasOwnProperty(t)?Le[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oh(t,n,l,r)&&(n=null),r||l===null?lh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kt=nh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Il=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),mi=Symbol.for("react.strict_mode"),Xo=Symbol.for("react.profiler"),Ld=Symbol.for("react.provider"),Td=Symbol.for("react.context"),hi=Symbol.for("react.forward_ref"),Zo=Symbol.for("react.suspense"),ea=Symbol.for("react.suspense_list"),gi=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),Id=Symbol.for("react.offscreen"),Fu=Symbol.iterator;function Or(e){return e===null||typeof e!="object"?null:(e=Fu&&e[Fu]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,vo;function Dr(e){if(vo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vo=t&&t[1]||""}return`
`+vo+e}var yo=!1;function xo(e,t){if(!e||yo)return"";yo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),a=l.length-1,i=s.length-1;1<=a&&0<=i&&l[a]!==s[i];)i--;for(;1<=a&&0<=i;a--,i--)if(l[a]!==s[i]){if(a!==1||i!==1)do if(a--,i--,0>i||l[a]!==s[i]){var u=`
`+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=i);break}}}finally{yo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dr(e):""}function ah(e){switch(e.tag){case 5:return Dr(e.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 2:case 15:return e=xo(e.type,!1),e;case 11:return e=xo(e.type.render,!1),e;case 1:return e=xo(e.type,!0),e;default:return""}}function ta(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qn:return"Fragment";case Kn:return"Portal";case Xo:return"Profiler";case mi:return"StrictMode";case Zo:return"Suspense";case ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Td:return(e.displayName||"Context")+".Consumer";case Ld:return(e._context.displayName||"Context")+".Provider";case hi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gi:return t=e.displayName||null,t!==null?t:ta(e.type)||"Memo";case Xt:t=e._payload,e=e._init;try{return ta(e(t))}catch{}}return null}function ih(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ta(t);case 8:return t===mi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Md(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uh(e){var t=Md(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ml(e){e._valueTracker||(e._valueTracker=uh(e))}function zd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Md(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function na(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dd(e,t){t=t.checked,t!=null&&pi(e,"checked",t,!1)}function ra(e,t){Dd(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?la(e,t.type,n):t.hasOwnProperty("defaultValue")&&la(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ou(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function la(e,t,n){(t!=="number"||fs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $r=Array.isArray;function or(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function sa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Au(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if($r(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function $d(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ru(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zl,Bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zl=zl||document.createElement("div"),zl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ll(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ch=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(e){ch.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vr[t]=Vr[e]})});function Wd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vr.hasOwnProperty(e)&&Vr[e]?(""+t).trim():t+"px"}function Vd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Wd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var dh=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function aa(e,t){if(t){if(dh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=null;function vi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ca=null,ar=null,ir=null;function Lu(e){if(e=_l(e)){if(typeof ca!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Ys(t),ca(e.stateNode,e.type,t))}}function Hd(e){ar?ir?ir.push(e):ir=[e]:ar=e}function Gd(){if(ar){var e=ar,t=ir;if(ir=ar=null,Lu(e),t)for(e=0;e<t.length;e++)Lu(t[e])}}function Kd(e,t){return e(t)}function Qd(){}var wo=!1;function qd(e,t,n){if(wo)return e(t,n);wo=!0;try{return Kd(e,t,n)}finally{wo=!1,(ar!==null||ir!==null)&&(Qd(),Gd())}}function sl(e,t){var n=e.stateNode;if(n===null)return null;var r=Ys(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var da=!1;if(Wt)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){da=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{da=!1}function fh(e,t,n,r,l,s,a,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(p){this.onError(p)}}var Hr=!1,ps=null,ms=!1,fa=null,ph={onError:function(e){Hr=!0,ps=e}};function mh(e,t,n,r,l,s,a,i,u){Hr=!1,ps=null,fh.apply(ph,arguments)}function hh(e,t,n,r,l,s,a,i,u){if(mh.apply(this,arguments),Hr){if(Hr){var c=ps;Hr=!1,ps=null}else throw Error(H(198));ms||(ms=!0,fa=c)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tu(e){if(Wn(e)!==e)throw Error(H(188))}function gh(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Tu(l),e;if(s===r)return Tu(l),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=l,r=s;else{for(var a=!1,i=l.child;i;){if(i===n){a=!0,n=l,r=s;break}if(i===r){a=!0,r=l,n=s;break}i=i.sibling}if(!a){for(i=s.child;i;){if(i===n){a=!0,n=s,r=l;break}if(i===r){a=!0,r=s,n=l;break}i=i.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Jd(e){return e=gh(e),e!==null?Xd(e):null}function Xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xd(e);if(t!==null)return t;e=e.sibling}return null}var Zd=rt.unstable_scheduleCallback,Iu=rt.unstable_cancelCallback,vh=rt.unstable_shouldYield,yh=rt.unstable_requestPaint,Ne=rt.unstable_now,xh=rt.unstable_getCurrentPriorityLevel,yi=rt.unstable_ImmediatePriority,ef=rt.unstable_UserBlockingPriority,hs=rt.unstable_NormalPriority,wh=rt.unstable_LowPriority,tf=rt.unstable_IdlePriority,Gs=null,Lt=null;function Sh(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Gs,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Ch,Nh=Math.log,jh=Math.LN2;function Ch(e){return e>>>=0,e===0?32:31-(Nh(e)/jh|0)|0}var Dl=64,$l=4194304;function Ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var i=a&~l;i!==0?r=Ur(i):(s&=a,s!==0&&(r=Ur(s)))}else a=n&~l,a!==0?r=Ur(a):s!==0&&(r=Ur(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),l=1<<n,r|=e[n],t&=~l;return r}function Eh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-St(s),i=1<<a,u=l[a];u===-1?(!(i&n)||i&r)&&(l[a]=Eh(i,t)):u<=t&&(e.expiredLanes|=i),s&=~i}}function pa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nf(){var e=Dl;return Dl<<=1,!(Dl&4194240)&&(Dl=64),e}function So(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function kl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function bh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-St(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function xi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ue=0;function rf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lf,wi,sf,of,af,ma=!1,Ul=[],un=null,cn=null,dn=null,ol=new Map,al=new Map,en=[],_h="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mu(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(t.pointerId)}}function Rr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=_l(t),t!==null&&wi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Fh(e,t,n,r,l){switch(t){case"focusin":return un=Rr(un,e,t,n,r,l),!0;case"dragenter":return cn=Rr(cn,e,t,n,r,l),!0;case"mouseover":return dn=Rr(dn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return ol.set(s,Rr(ol.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,al.set(s,Rr(al.get(s)||null,e,t,n,r,l)),!0}return!1}function uf(e){var t=Pn(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Yd(n),t!==null){e.blockedOn=t,af(e.priority,function(){sf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ha(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ua=r,n.target.dispatchEvent(r),ua=null}else return t=_l(n),t!==null&&wi(t),e.blockedOn=n,!1;t.shift()}return!0}function zu(e,t,n){ts(e)&&n.delete(t)}function Ph(){ma=!1,un!==null&&ts(un)&&(un=null),cn!==null&&ts(cn)&&(cn=null),dn!==null&&ts(dn)&&(dn=null),ol.forEach(zu),al.forEach(zu)}function Lr(e,t){e.blockedOn===t&&(e.blockedOn=null,ma||(ma=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Ph)))}function il(e){function t(l){return Lr(l,e)}if(0<Ul.length){Lr(Ul[0],e);for(var n=1;n<Ul.length;n++){var r=Ul[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&Lr(un,e),cn!==null&&Lr(cn,e),dn!==null&&Lr(dn,e),ol.forEach(t),al.forEach(t),n=0;n<en.length;n++)r=en[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)uf(n),n.blockedOn===null&&en.shift()}var ur=Kt.ReactCurrentBatchConfig,vs=!0;function Oh(e,t,n,r){var l=ue,s=ur.transition;ur.transition=null;try{ue=1,Si(e,t,n,r)}finally{ue=l,ur.transition=s}}function Ah(e,t,n,r){var l=ue,s=ur.transition;ur.transition=null;try{ue=4,Si(e,t,n,r)}finally{ue=l,ur.transition=s}}function Si(e,t,n,r){if(vs){var l=ha(e,t,n,r);if(l===null)Oo(e,t,r,ys,n),Mu(e,r);else if(Fh(l,e,t,n,r))r.stopPropagation();else if(Mu(e,r),t&4&&-1<_h.indexOf(e)){for(;l!==null;){var s=_l(l);if(s!==null&&lf(s),s=ha(e,t,n,r),s===null&&Oo(e,t,r,ys,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Oo(e,t,r,null,n)}}var ys=null;function ha(e,t,n,r){if(ys=null,e=vi(r),e=Pn(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ys=e,null}function cf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xh()){case yi:return 1;case ef:return 4;case hs:case wh:return 16;case tf:return 536870912;default:return 16}default:return 16}}var nn=null,Ni=null,ns=null;function df(){if(ns)return ns;var e,t=Ni,n=t.length,r,l="value"in nn?nn.value:nn.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[s-r];r++);return ns=l.slice(e,1<r?1-r:void 0)}function rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function Du(){return!1}function st(e){function t(n,r,l,s,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bl:Du,this.isPropagationStopped=Du,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),t}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=st(jr),bl=ye({},jr,{view:0,detail:0}),Rh=st(bl),No,jo,Tr,Ks=ye({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tr&&(Tr&&e.type==="mousemove"?(No=e.screenX-Tr.screenX,jo=e.screenY-Tr.screenY):jo=No=0,Tr=e),No)},movementY:function(e){return"movementY"in e?e.movementY:jo}}),$u=st(Ks),Lh=ye({},Ks,{dataTransfer:0}),Th=st(Lh),Ih=ye({},bl,{relatedTarget:0}),Co=st(Ih),Mh=ye({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),zh=st(Mh),Dh=ye({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$h=st(Dh),Uh=ye({},jr,{data:0}),Uu=st(Uh),Bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vh[e])?!!t[e]:!1}function Ci(){return Hh}var Gh=ye({},bl,{key:function(e){if(e.key){var t=Bh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(e){return e.type==="keypress"?rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kh=st(Gh),Qh=ye({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=st(Qh),qh=ye({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),Yh=st(qh),Jh=ye({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xh=st(Jh),Zh=ye({},Ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eg=st(Zh),tg=[9,13,27,32],Ei=Wt&&"CompositionEvent"in window,Gr=null;Wt&&"documentMode"in document&&(Gr=document.documentMode);var ng=Wt&&"TextEvent"in window&&!Gr,ff=Wt&&(!Ei||Gr&&8<Gr&&11>=Gr),Wu=" ",Vu=!1;function pf(e,t){switch(e){case"keyup":return tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function rg(e,t){switch(e){case"compositionend":return mf(t);case"keypress":return t.which!==32?null:(Vu=!0,Wu);case"textInput":return e=t.data,e===Wu&&Vu?null:e;default:return null}}function lg(e,t){if(qn)return e==="compositionend"||!Ei&&pf(e,t)?(e=df(),ns=Ni=nn=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ff&&t.locale!=="ko"?null:t.data;default:return null}}var sg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sg[e.type]:t==="textarea"}function hf(e,t,n,r){Hd(r),t=xs(t,"onChange"),0<t.length&&(n=new ji("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kr=null,ul=null;function og(e){kf(e,0)}function Qs(e){var t=Xn(e);if(zd(t))return e}function ag(e,t){if(e==="change")return t}var gf=!1;if(Wt){var Eo;if(Wt){var ko="oninput"in document;if(!ko){var Gu=document.createElement("div");Gu.setAttribute("oninput","return;"),ko=typeof Gu.oninput=="function"}Eo=ko}else Eo=!1;gf=Eo&&(!document.documentMode||9<document.documentMode)}function Ku(){Kr&&(Kr.detachEvent("onpropertychange",vf),ul=Kr=null)}function vf(e){if(e.propertyName==="value"&&Qs(ul)){var t=[];hf(t,ul,e,vi(e)),qd(og,t)}}function ig(e,t,n){e==="focusin"?(Ku(),Kr=t,ul=n,Kr.attachEvent("onpropertychange",vf)):e==="focusout"&&Ku()}function ug(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(ul)}function cg(e,t){if(e==="click")return Qs(t)}function dg(e,t){if(e==="input"||e==="change")return Qs(t)}function fg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:fg;function cl(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Jo.call(t,l)||!Ct(e[l],t[l]))return!1}return!0}function Qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qu(e,t){var n=Qu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qu(n)}}function yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xf(){for(var e=window,t=fs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fs(e.document)}return t}function ki(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pg(e){var t=xf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yf(n.ownerDocument.documentElement,n)){if(r!==null&&ki(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=qu(n,s);var a=qu(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mg=Wt&&"documentMode"in document&&11>=document.documentMode,Yn=null,ga=null,Qr=null,va=!1;function Yu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;va||Yn==null||Yn!==fs(r)||(r=Yn,"selectionStart"in r&&ki(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&cl(Qr,r)||(Qr=r,r=xs(ga,"onSelect"),0<r.length&&(t=new ji("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function Wl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jn={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},bo={},wf={};Wt&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function qs(e){if(bo[e])return bo[e];if(!Jn[e])return e;var t=Jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wf)return bo[e]=t[n];return e}var Sf=qs("animationend"),Nf=qs("animationiteration"),jf=qs("animationstart"),Cf=qs("transitionend"),Ef=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Ef.set(e,t),Bn(t,[e])}for(var _o=0;_o<Ju.length;_o++){var Fo=Ju[_o],hg=Fo.toLowerCase(),gg=Fo[0].toUpperCase()+Fo.slice(1);Sn(hg,"on"+gg)}Sn(Sf,"onAnimationEnd");Sn(Nf,"onAnimationIteration");Sn(jf,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Cf,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Xu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,hh(r,t,void 0,e),e.currentTarget=null}function kf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var i=r[a],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==s&&l.isPropagationStopped())break e;Xu(l,i,c),s=u}else for(a=0;a<r.length;a++){if(i=r[a],u=i.instance,c=i.currentTarget,i=i.listener,u!==s&&l.isPropagationStopped())break e;Xu(l,i,c),s=u}}}if(ms)throw e=fa,ms=!1,fa=null,e}function fe(e,t){var n=t[Na];n===void 0&&(n=t[Na]=new Set);var r=e+"__bubble";n.has(r)||(bf(t,e,2,!1),n.add(r))}function Po(e,t,n){var r=0;t&&(r|=4),bf(n,e,r,t)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function dl(e){if(!e[Vl]){e[Vl]=!0,Rd.forEach(function(n){n!=="selectionchange"&&(vg.has(n)||Po(n,!1,e),Po(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vl]||(t[Vl]=!0,Po("selectionchange",!1,t))}}function bf(e,t,n,r){switch(cf(t)){case 1:var l=Oh;break;case 4:l=Ah;break;default:l=Si}n=l.bind(null,t,n,e),l=void 0,!da||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Oo(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;a=a.return}for(;i!==null;){if(a=Pn(i),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}i=i.parentNode}}r=r.return}qd(function(){var c=s,p=vi(n),f=[];e:{var h=Ef.get(e);if(h!==void 0){var x=ji,y=e;switch(e){case"keypress":if(rs(n)===0)break e;case"keydown":case"keyup":x=Kh;break;case"focusin":y="focus",x=Co;break;case"focusout":y="blur",x=Co;break;case"beforeblur":case"afterblur":x=Co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Yh;break;case Sf:case Nf:case jf:x=zh;break;case Cf:x=Xh;break;case"scroll":x=Rh;break;case"wheel":x=eg;break;case"copy":case"cut":case"paste":x=$h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Bu}var S=(t&4)!==0,j=!S&&e==="scroll",g=S?h!==null?h+"Capture":null:h;S=[];for(var m=c,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,g!==null&&(w=sl(m,g),w!=null&&S.push(fl(m,w,v)))),j)break;m=m.return}0<S.length&&(h=new x(h,y,null,n,p),f.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&n!==ua&&(y=n.relatedTarget||n.fromElement)&&(Pn(y)||y[Vt]))break e;if((x||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=c,y=y?Pn(y):null,y!==null&&(j=Wn(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=c),x!==y)){if(S=$u,w="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(S=Bu,w="onPointerLeave",g="onPointerEnter",m="pointer"),j=x==null?h:Xn(x),v=y==null?h:Xn(y),h=new S(w,m+"leave",x,n,p),h.target=j,h.relatedTarget=v,w=null,Pn(p)===c&&(S=new S(g,m+"enter",y,n,p),S.target=v,S.relatedTarget=j,w=S),j=w,x&&y)t:{for(S=x,g=y,m=0,v=S;v;v=Hn(v))m++;for(v=0,w=g;w;w=Hn(w))v++;for(;0<m-v;)S=Hn(S),m--;for(;0<v-m;)g=Hn(g),v--;for(;m--;){if(S===g||g!==null&&S===g.alternate)break t;S=Hn(S),g=Hn(g)}S=null}else S=null;x!==null&&Zu(f,h,x,S,!1),y!==null&&j!==null&&Zu(f,j,y,S,!0)}}e:{if(h=c?Xn(c):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var b=ag;else if(Hu(h))if(gf)b=dg;else{b=ug;var M=ig}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=cg);if(b&&(b=b(e,c))){hf(f,b,n,p);break e}M&&M(e,h,c),e==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&la(h,"number",h.value)}switch(M=c?Xn(c):window,e){case"focusin":(Hu(M)||M.contentEditable==="true")&&(Yn=M,ga=c,Qr=null);break;case"focusout":Qr=ga=Yn=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,Yu(f,n,p);break;case"selectionchange":if(mg)break;case"keydown":case"keyup":Yu(f,n,p)}var T;if(Ei)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else qn?pf(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(ff&&n.locale!=="ko"&&(qn||O!=="onCompositionStart"?O==="onCompositionEnd"&&qn&&(T=df()):(nn=p,Ni="value"in nn?nn.value:nn.textContent,qn=!0)),M=xs(c,O),0<M.length&&(O=new Uu(O,e,null,n,p),f.push({event:O,listeners:M}),T?O.data=T:(T=mf(n),T!==null&&(O.data=T)))),(T=ng?rg(e,n):lg(e,n))&&(c=xs(c,"onBeforeInput"),0<c.length&&(p=new Uu("onBeforeInput","beforeinput",null,n,p),f.push({event:p,listeners:c}),p.data=T))}kf(f,t)})}function fl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xs(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=sl(e,n),s!=null&&r.unshift(fl(e,s,l)),s=sl(e,t),s!=null&&r.push(fl(e,s,l))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zu(e,t,n,r,l){for(var s=t._reactName,a=[];n!==null&&n!==r;){var i=n,u=i.alternate,c=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&c!==null&&(i=c,l?(u=sl(n,s),u!=null&&a.unshift(fl(n,u,i))):l||(u=sl(n,s),u!=null&&a.push(fl(n,u,i)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var yg=/\r\n?/g,xg=/\u0000|\uFFFD/g;function ec(e){return(typeof e=="string"?e:""+e).replace(yg,`
`).replace(xg,"")}function Hl(e,t,n){if(t=ec(t),ec(e)!==t&&n)throw Error(H(425))}function ws(){}var ya=null,xa=null;function wa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sa=typeof setTimeout=="function"?setTimeout:void 0,wg=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,Sg=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(e){return tc.resolve(null).then(e).catch(Ng)}:Sa;function Ng(e){setTimeout(function(){throw e})}function Ao(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),il(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);il(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Cr,pl="__reactProps$"+Cr,Vt="__reactContainer$"+Cr,Na="__reactEvents$"+Cr,jg="__reactListeners$"+Cr,Cg="__reactHandles$"+Cr;function Pn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nc(e);e!==null;){if(n=e[Rt])return n;e=nc(e)}return t}e=n,n=e.parentNode}return null}function _l(e){return e=e[Rt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Ys(e){return e[pl]||null}var ja=[],Zn=-1;function Nn(e){return{current:e}}function pe(e){0>Zn||(e.current=ja[Zn],ja[Zn]=null,Zn--)}function de(e,t){Zn++,ja[Zn]=e.current,e.current=t}var wn={},$e=Nn(wn),Je=Nn(!1),In=wn;function pr(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Xe(e){return e=e.childContextTypes,e!=null}function Ss(){pe(Je),pe($e)}function rc(e,t,n){if($e.current!==wn)throw Error(H(168));de($e,t),de(Je,n)}function _f(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(H(108,ih(e)||"Unknown",l));return ye({},n,r)}function Ns(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,In=$e.current,de($e,e),de(Je,Je.current),!0}function lc(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=_f(e,t,In),r.__reactInternalMemoizedMergedChildContext=e,pe(Je),pe($e),de($e,e)):pe(Je),de(Je,n)}var zt=null,Js=!1,Ro=!1;function Ff(e){zt===null?zt=[e]:zt.push(e)}function Eg(e){Js=!0,Ff(e)}function jn(){if(!Ro&&zt!==null){Ro=!0;var e=0,t=ue;try{var n=zt;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,Js=!1}catch(l){throw zt!==null&&(zt=zt.slice(e+1)),Zd(yi,jn),l}finally{ue=t,Ro=!1}}return null}var er=[],tr=0,js=null,Cs=0,ut=[],ct=0,Mn=null,Dt=1,$t="";function bn(e,t){er[tr++]=Cs,er[tr++]=js,js=e,Cs=t}function Pf(e,t,n){ut[ct++]=Dt,ut[ct++]=$t,ut[ct++]=Mn,Mn=e;var r=Dt;e=$t;var l=32-St(r)-1;r&=~(1<<l),n+=1;var s=32-St(t)+l;if(30<s){var a=l-l%5;s=(r&(1<<a)-1).toString(32),r>>=a,l-=a,Dt=1<<32-St(t)+l|n<<l|r,$t=s+e}else Dt=1<<s|n<<l|r,$t=e}function bi(e){e.return!==null&&(bn(e,1),Pf(e,1,0))}function _i(e){for(;e===js;)js=er[--tr],er[tr]=null,Cs=er[--tr],er[tr]=null;for(;e===Mn;)Mn=ut[--ct],ut[ct]=null,$t=ut[--ct],ut[ct]=null,Dt=ut[--ct],ut[ct]=null}var nt=null,tt=null,me=!1,wt=null;function Of(e,t){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nt=e,tt=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nt=e,tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mn!==null?{id:Dt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,nt=e,tt=null,!0):!1;default:return!1}}function Ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ea(e){if(me){var t=tt;if(t){var n=t;if(!sc(e,t)){if(Ca(e))throw Error(H(418));t=fn(n.nextSibling);var r=nt;t&&sc(e,t)?Of(r,n):(e.flags=e.flags&-4097|2,me=!1,nt=e)}}else{if(Ca(e))throw Error(H(418));e.flags=e.flags&-4097|2,me=!1,nt=e}}}function oc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nt=e}function Gl(e){if(e!==nt)return!1;if(!me)return oc(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wa(e.type,e.memoizedProps)),t&&(t=tt)){if(Ca(e))throw Af(),Error(H(418));for(;t;)Of(e,t),t=fn(t.nextSibling)}if(oc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){tt=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}tt=null}}else tt=nt?fn(e.stateNode.nextSibling):null;return!0}function Af(){for(var e=tt;e;)e=fn(e.nextSibling)}function mr(){tt=nt=null,me=!1}function Fi(e){wt===null?wt=[e]:wt.push(e)}var kg=Kt.ReactCurrentBatchConfig;function Ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var i=l.refs;a===null?delete i[s]:i[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Kl(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ac(e){var t=e._init;return t(e._payload)}function Rf(e){function t(g,m){if(e){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function l(g,m){return g=gn(g,m),g.index=0,g.sibling=null,g}function s(g,m,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function i(g,m,v,w){return m===null||m.tag!==6?(m=$o(v,g.mode,w),m.return=g,m):(m=l(m,v),m.return=g,m)}function u(g,m,v,w){var b=v.type;return b===Qn?p(g,m,v.props.children,w,v.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Xt&&ac(b)===m.type)?(w=l(m,v.props),w.ref=Ir(g,m,v),w.return=g,w):(w=cs(v.type,v.key,v.props,null,g.mode,w),w.ref=Ir(g,m,v),w.return=g,w)}function c(g,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Uo(v,g.mode,w),m.return=g,m):(m=l(m,v.children||[]),m.return=g,m)}function p(g,m,v,w,b){return m===null||m.tag!==7?(m=Ln(v,g.mode,w,b),m.return=g,m):(m=l(m,v),m.return=g,m)}function f(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$o(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Il:return v=cs(m.type,m.key,m.props,null,g.mode,v),v.ref=Ir(g,null,m),v.return=g,v;case Kn:return m=Uo(m,g.mode,v),m.return=g,m;case Xt:var w=m._init;return f(g,w(m._payload),v)}if($r(m)||Or(m))return m=Ln(m,g.mode,v,null),m.return=g,m;Kl(g,m)}return null}function h(g,m,v,w){var b=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:i(g,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Il:return v.key===b?u(g,m,v,w):null;case Kn:return v.key===b?c(g,m,v,w):null;case Xt:return b=v._init,h(g,m,b(v._payload),w)}if($r(v)||Or(v))return b!==null?null:p(g,m,v,w,null);Kl(g,v)}return null}function x(g,m,v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(v)||null,i(m,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Il:return g=g.get(w.key===null?v:w.key)||null,u(m,g,w,b);case Kn:return g=g.get(w.key===null?v:w.key)||null,c(m,g,w,b);case Xt:var M=w._init;return x(g,m,v,M(w._payload),b)}if($r(w)||Or(w))return g=g.get(v)||null,p(m,g,w,b,null);Kl(m,w)}return null}function y(g,m,v,w){for(var b=null,M=null,T=m,O=m=0,V=null;T!==null&&O<v.length;O++){T.index>O?(V=T,T=null):V=T.sibling;var B=h(g,T,v[O],w);if(B===null){T===null&&(T=V);break}e&&T&&B.alternate===null&&t(g,T),m=s(B,m,O),M===null?b=B:M.sibling=B,M=B,T=V}if(O===v.length)return n(g,T),me&&bn(g,O),b;if(T===null){for(;O<v.length;O++)T=f(g,v[O],w),T!==null&&(m=s(T,m,O),M===null?b=T:M.sibling=T,M=T);return me&&bn(g,O),b}for(T=r(g,T);O<v.length;O++)V=x(T,g,O,v[O],w),V!==null&&(e&&V.alternate!==null&&T.delete(V.key===null?O:V.key),m=s(V,m,O),M===null?b=V:M.sibling=V,M=V);return e&&T.forEach(function(G){return t(g,G)}),me&&bn(g,O),b}function S(g,m,v,w){var b=Or(v);if(typeof b!="function")throw Error(H(150));if(v=b.call(v),v==null)throw Error(H(151));for(var M=b=null,T=m,O=m=0,V=null,B=v.next();T!==null&&!B.done;O++,B=v.next()){T.index>O?(V=T,T=null):V=T.sibling;var G=h(g,T,B.value,w);if(G===null){T===null&&(T=V);break}e&&T&&G.alternate===null&&t(g,T),m=s(G,m,O),M===null?b=G:M.sibling=G,M=G,T=V}if(B.done)return n(g,T),me&&bn(g,O),b;if(T===null){for(;!B.done;O++,B=v.next())B=f(g,B.value,w),B!==null&&(m=s(B,m,O),M===null?b=B:M.sibling=B,M=B);return me&&bn(g,O),b}for(T=r(g,T);!B.done;O++,B=v.next())B=x(T,g,O,B.value,w),B!==null&&(e&&B.alternate!==null&&T.delete(B.key===null?O:B.key),m=s(B,m,O),M===null?b=B:M.sibling=B,M=B);return e&&T.forEach(function(J){return t(g,J)}),me&&bn(g,O),b}function j(g,m,v,w){if(typeof v=="object"&&v!==null&&v.type===Qn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Il:e:{for(var b=v.key,M=m;M!==null;){if(M.key===b){if(b=v.type,b===Qn){if(M.tag===7){n(g,M.sibling),m=l(M,v.props.children),m.return=g,g=m;break e}}else if(M.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Xt&&ac(b)===M.type){n(g,M.sibling),m=l(M,v.props),m.ref=Ir(g,M,v),m.return=g,g=m;break e}n(g,M);break}else t(g,M);M=M.sibling}v.type===Qn?(m=Ln(v.props.children,g.mode,w,v.key),m.return=g,g=m):(w=cs(v.type,v.key,v.props,null,g.mode,w),w.ref=Ir(g,m,v),w.return=g,g=w)}return a(g);case Kn:e:{for(M=v.key;m!==null;){if(m.key===M)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=l(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Uo(v,g.mode,w),m.return=g,g=m}return a(g);case Xt:return M=v._init,j(g,m,M(v._payload),w)}if($r(v))return y(g,m,v,w);if(Or(v))return S(g,m,v,w);Kl(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=l(m,v),m.return=g,g=m):(n(g,m),m=$o(v,g.mode,w),m.return=g,g=m),a(g)):n(g,m)}return j}var hr=Rf(!0),Lf=Rf(!1),Es=Nn(null),ks=null,nr=null,Pi=null;function Oi(){Pi=nr=ks=null}function Ai(e){var t=Es.current;pe(Es),e._currentValue=t}function ka(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cr(e,t){ks=e,Pi=nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Pi!==e)if(e={context:e,memoizedValue:t,next:null},nr===null){if(ks===null)throw Error(H(308));nr=e,ks.dependencies={lanes:0,firstContext:e}}else nr=nr.next=e;return t}var On=null;function Ri(e){On===null?On=[e]:On.push(e)}function Tf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ri(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function If(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Ht(e,n)}return l=r.interleaved,l===null?(t.next=t,Ri(r)):(t.next=l.next,l.next=t),r.interleaved=t,Ht(e,n)}function ls(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xi(e,n)}}function ic(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bs(e,t,n,r){var l=e.updateQueue;Zt=!1;var s=l.firstBaseUpdate,a=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var u=i,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==a&&(i===null?p.firstBaseUpdate=c:i.next=c,p.lastBaseUpdate=u))}if(s!==null){var f=l.baseState;a=0,p=c=u=null,i=s;do{var h=i.lane,x=i.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var y=e,S=i;switch(h=t,x=n,S.tag){case 1:if(y=S.payload,typeof y=="function"){f=y.call(x,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,h=typeof y=="function"?y.call(x,f,h):y,h==null)break e;f=ye({},f,h);break e;case 2:Zt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=l.effects,h===null?l.effects=[i]:h.push(i))}else x={eventTime:x,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(c=p=x,u=f):p=p.next=x,a|=h;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;h=i,i=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(p===null&&(u=f),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Dn|=a,e.lanes=a,e.memoizedState=f}}function uc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(H(191,l));l.call(r)}}}var Fl={},Tt=Nn(Fl),ml=Nn(Fl),hl=Nn(Fl);function An(e){if(e===Fl)throw Error(H(174));return e}function Ti(e,t){switch(de(hl,t),de(ml,e),de(Tt,Fl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oa(t,e)}pe(Tt),de(Tt,t)}function gr(){pe(Tt),pe(ml),pe(hl)}function Mf(e){An(hl.current);var t=An(Tt.current),n=oa(t,e.type);t!==n&&(de(ml,e),de(Tt,n))}function Ii(e){ml.current===e&&(pe(Tt),pe(ml))}var he=Nn(0);function _s(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lo=[];function Mi(){for(var e=0;e<Lo.length;e++)Lo[e]._workInProgressVersionPrimary=null;Lo.length=0}var ss=Kt.ReactCurrentDispatcher,To=Kt.ReactCurrentBatchConfig,zn=0,ge=null,Ce=null,be=null,Fs=!1,qr=!1,gl=0,bg=0;function Ie(){throw Error(H(321))}function zi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function Di(e,t,n,r,l,s){if(zn=s,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ss.current=e===null||e.memoizedState===null?Og:Ag,e=n(r,l),qr){s=0;do{if(qr=!1,gl=0,25<=s)throw Error(H(301));s+=1,be=Ce=null,t.updateQueue=null,ss.current=Rg,e=n(r,l)}while(qr)}if(ss.current=Ps,t=Ce!==null&&Ce.next!==null,zn=0,be=Ce=ge=null,Fs=!1,t)throw Error(H(300));return e}function $i(){var e=gl!==0;return gl=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ge.memoizedState=be=e:be=be.next=e,be}function mt(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=be===null?ge.memoizedState:be.next;if(t!==null)be=t,Ce=e;else{if(e===null)throw Error(H(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},be===null?ge.memoizedState=be=e:be=be.next=e}return be}function vl(e,t){return typeof t=="function"?t(e):t}function Io(e){var t=mt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Ce,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var a=l.next;l.next=s.next,s.next=a}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var i=a=null,u=null,c=s;do{var p=c.lane;if((zn&p)===p)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=f,a=r):u=u.next=f,ge.lanes|=p,Dn|=p}c=c.next}while(c!==null&&c!==s);u===null?a=r:u.next=i,Ct(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,ge.lanes|=s,Dn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Mo(e){var t=mt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do s=e(s,a.action),a=a.next;while(a!==l);Ct(s,t.memoizedState)||(Ye=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function zf(){}function Df(e,t){var n=ge,r=mt(),l=t(),s=!Ct(r.memoizedState,l);if(s&&(r.memoizedState=l,Ye=!0),r=r.queue,Ui(Bf.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,yl(9,Uf.bind(null,n,r,l,t),void 0,null),_e===null)throw Error(H(349));zn&30||$f(n,t,l)}return l}function $f(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uf(e,t,n,r){t.value=n,t.getSnapshot=r,Wf(t)&&Vf(e)}function Bf(e,t,n){return n(function(){Wf(t)&&Vf(e)})}function Wf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function Vf(e){var t=Ht(e,1);t!==null&&Nt(t,e,1,-1)}function cc(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Pg.bind(null,ge,e),[t.memoizedState,e]}function yl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hf(){return mt().memoizedState}function os(e,t,n,r){var l=At();ge.flags|=e,l.memoizedState=yl(1|t,n,void 0,r===void 0?null:r)}function Xs(e,t,n,r){var l=mt();r=r===void 0?null:r;var s=void 0;if(Ce!==null){var a=Ce.memoizedState;if(s=a.destroy,r!==null&&zi(r,a.deps)){l.memoizedState=yl(t,n,s,r);return}}ge.flags|=e,l.memoizedState=yl(1|t,n,s,r)}function dc(e,t){return os(8390656,8,e,t)}function Ui(e,t){return Xs(2048,8,e,t)}function Gf(e,t){return Xs(4,2,e,t)}function Kf(e,t){return Xs(4,4,e,t)}function Qf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qf(e,t,n){return n=n!=null?n.concat([e]):null,Xs(4,4,Qf.bind(null,t,e),n)}function Bi(){}function Yf(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jf(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xf(e,t,n){return zn&21?(Ct(n,t)||(n=nf(),ge.lanes|=n,Dn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function _g(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=To.transition;To.transition={};try{e(!1),t()}finally{ue=n,To.transition=r}}function Zf(){return mt().memoizedState}function Fg(e,t,n){var r=hn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ep(e))tp(t,n);else if(n=Tf(e,t,n,r),n!==null){var l=Ge();Nt(n,e,r,l),np(n,t,r)}}function Pg(e,t,n){var r=hn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ep(e))tp(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,i=s(a,n);if(l.hasEagerState=!0,l.eagerState=i,Ct(i,a)){var u=t.interleaved;u===null?(l.next=l,Ri(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Tf(e,t,l,r),n!==null&&(l=Ge(),Nt(n,e,r,l),np(n,t,r))}}function ep(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function tp(e,t){qr=Fs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function np(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xi(e,n)}}var Ps={readContext:pt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Og={readContext:pt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,os(4194308,4,Qf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return os(4194308,4,e,t)},useInsertionEffect:function(e,t){return os(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Fg.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:cc,useDebugValue:Bi,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=cc(!1),t=e[0];return e=_g.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,l=At();if(me){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),_e===null)throw Error(H(349));zn&30||$f(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,dc(Bf.bind(null,r,s,e),[e]),r.flags|=2048,yl(9,Uf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=At(),t=_e.identifierPrefix;if(me){var n=$t,r=Dt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ag={readContext:pt,useCallback:Yf,useContext:pt,useEffect:Ui,useImperativeHandle:qf,useInsertionEffect:Gf,useLayoutEffect:Kf,useMemo:Jf,useReducer:Io,useRef:Hf,useState:function(){return Io(vl)},useDebugValue:Bi,useDeferredValue:function(e){var t=mt();return Xf(t,Ce.memoizedState,e)},useTransition:function(){var e=Io(vl)[0],t=mt().memoizedState;return[e,t]},useMutableSource:zf,useSyncExternalStore:Df,useId:Zf,unstable_isNewReconciler:!1},Rg={readContext:pt,useCallback:Yf,useContext:pt,useEffect:Ui,useImperativeHandle:qf,useInsertionEffect:Gf,useLayoutEffect:Kf,useMemo:Jf,useReducer:Mo,useRef:Hf,useState:function(){return Mo(vl)},useDebugValue:Bi,useDeferredValue:function(e){var t=mt();return Ce===null?t.memoizedState=e:Xf(t,Ce.memoizedState,e)},useTransition:function(){var e=Mo(vl)[0],t=mt().memoizedState;return[e,t]},useMutableSource:zf,useSyncExternalStore:Df,useId:Zf,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ba(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zs={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),l=hn(e),s=Ut(r,l);s.payload=t,n!=null&&(s.callback=n),t=pn(e,s,l),t!==null&&(Nt(t,e,l,r),ls(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),l=hn(e),s=Ut(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=pn(e,s,l),t!==null&&(Nt(t,e,l,r),ls(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=hn(e),l=Ut(n,r);l.tag=2,t!=null&&(l.callback=t),t=pn(e,l,r),t!==null&&(Nt(t,e,r,n),ls(t,e,r))}};function fc(e,t,n,r,l,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!cl(n,r)||!cl(l,s):!0}function rp(e,t,n){var r=!1,l=wn,s=t.contextType;return typeof s=="object"&&s!==null?s=pt(s):(l=Xe(t)?In:$e.current,r=t.contextTypes,s=(r=r!=null)?pr(e,l):wn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function pc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zs.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Li(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=pt(s):(s=Xe(t)?In:$e.current,l.context=pr(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ba(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Zs.enqueueReplaceState(l,l.state,null),bs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function vr(e,t){try{var n="",r=t;do n+=ah(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function zo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Lg=typeof WeakMap=="function"?WeakMap:Map;function lp(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,Da=r),Fa(e,t)},n}function sp(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Fa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fa(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function mc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lg;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Qg.bind(null,e,t,n),t.then(e,e))}function hc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,pn(n,t,1))),n.lanes|=1),e)}var Tg=Kt.ReactCurrentOwner,Ye=!1;function He(e,t,n,r){t.child=e===null?Lf(t,null,n,r):hr(t,e.child,n,r)}function vc(e,t,n,r,l){n=n.render;var s=t.ref;return cr(t,l),r=Di(e,t,n,r,s,l),n=$i(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(me&&n&&bi(t),t.flags|=1,He(e,t,r,l),t.child)}function yc(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Yi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,op(e,t,s,r,l)):(e=cs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(a,r)&&e.ref===t.ref)return Gt(e,t,l)}return t.flags|=1,e=gn(s,r),e.ref=t.ref,e.return=t,t.child=e}function op(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(cl(s,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Gt(e,t,l)}return Pa(e,t,n,r,l)}function ap(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(lr,et),et|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(lr,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(lr,et),et|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,de(lr,et),et|=r;return He(e,t,l,n),t.child}function ip(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pa(e,t,n,r,l){var s=Xe(n)?In:$e.current;return s=pr(t,s),cr(t,l),n=Di(e,t,n,r,s,l),r=$i(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Gt(e,t,l)):(me&&r&&bi(t),t.flags|=1,He(e,t,n,l),t.child)}function xc(e,t,n,r,l){if(Xe(n)){var s=!0;Ns(t)}else s=!1;if(cr(t,l),t.stateNode===null)as(e,t),rp(t,n,r),_a(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,i=t.memoizedProps;a.props=i;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=pt(c):(c=Xe(n)?In:$e.current,c=pr(t,c));var p=n.getDerivedStateFromProps,f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==r||u!==c)&&pc(t,a,r,c),Zt=!1;var h=t.memoizedState;a.state=h,bs(t,r,a,l),u=t.memoizedState,i!==r||h!==u||Je.current||Zt?(typeof p=="function"&&(ba(t,n,p,r),u=t.memoizedState),(i=Zt||fc(t,n,i,r,h,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=i):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,If(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:vt(t.type,i),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=pt(u):(u=Xe(n)?In:$e.current,u=pr(t,u));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(i!==f||h!==u)&&pc(t,a,r,u),Zt=!1,h=t.memoizedState,a.state=h,bs(t,r,a,l);var y=t.memoizedState;i!==f||h!==y||Je.current||Zt?(typeof x=="function"&&(ba(t,n,x,r),y=t.memoizedState),(c=Zt||fc(t,n,c,r,h,y,u)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=u,r=c):(typeof a.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,s,l)}function Oa(e,t,n,r,l,s){ip(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&lc(t,n,!1),Gt(e,t,s);r=t.stateNode,Tg.current=t;var i=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=hr(t,e.child,null,s),t.child=hr(t,null,i,s)):He(e,t,i,s),t.memoizedState=r.state,l&&lc(t,n,!0),t.child}function up(e){var t=e.stateNode;t.pendingContext?rc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rc(e,t.context,!1),Ti(e,t.containerInfo)}function wc(e,t,n,r,l){return mr(),Fi(l),t.flags|=256,He(e,t,n,r),t.child}var Aa={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function cp(e,t,n){var r=t.pendingProps,l=he.current,s=!1,a=(t.flags&128)!==0,i;if((i=a)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),de(he,l&1),e===null)return Ea(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=no(a,r,0,null),e=Ln(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ra(n),t.memoizedState=Aa,e):Wi(t,a));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Ig(e,t,a,r,i,l,n);if(s){s=r.fallback,a=t.mode,l=e.child,i=l.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=gn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?s=gn(i,s):(s=Ln(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Ra(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Aa,r}return s=e.child,e=s.sibling,r=gn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wi(e,t){return t=no({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ql(e,t,n,r){return r!==null&&Fi(r),hr(t,e.child,null,n),e=Wi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ig(e,t,n,r,l,s,a){if(n)return t.flags&256?(t.flags&=-257,r=zo(Error(H(422))),Ql(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=no({mode:"visible",children:r.children},l,0,null),s=Ln(s,l,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&hr(t,e.child,null,a),t.child.memoizedState=Ra(a),t.memoizedState=Aa,s);if(!(t.mode&1))return Ql(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,s=Error(H(419)),r=zo(s,r,void 0),Ql(e,t,a,r)}if(i=(a&e.childLanes)!==0,Ye||i){if(r=_e,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Ht(e,l),Nt(r,e,l,-1))}return qi(),r=zo(Error(H(421))),Ql(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=qg.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,tt=fn(l.nextSibling),nt=t,me=!0,wt=null,e!==null&&(ut[ct++]=Dt,ut[ct++]=$t,ut[ct++]=Mn,Dt=e.id,$t=e.overflow,Mn=t),t=Wi(t,r.children),t.flags|=4096,t)}function Sc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ka(e.return,t,n)}function Do(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function dp(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(He(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,n,t);else if(e.tag===19)Sc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(he,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&_s(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Do(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&_s(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Do(t,!0,n,null,s);break;case"together":Do(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function as(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mg(e,t,n){switch(t.tag){case 3:up(t),mr();break;case 5:Mf(t);break;case 1:Xe(t.type)&&Ns(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;de(Es,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?cp(e,t,n):(de(he,he.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);de(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dp(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),de(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,ap(e,t,n)}return Gt(e,t,n)}var fp,La,pp,mp;fp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};La=function(){};pp=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,An(Tt.current);var s=null;switch(n){case"input":l=na(e,l),r=na(e,r),s=[];break;case"select":l=ye({},l,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":l=sa(e,l),r=sa(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ws)}aa(n,r);var a;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var i=l[c];for(a in i)i.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(i=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(a in i)!i.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&i[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&fe("scroll",e),s||i===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};mp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mr(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zg(e,t,n){var r=t.pendingProps;switch(_i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Xe(t.type)&&Ss(),Me(t),null;case 3:return r=t.stateNode,gr(),pe(Je),pe($e),Mi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(Ba(wt),wt=null))),La(e,t),Me(t),null;case 5:Ii(t);var l=An(hl.current);if(n=t.type,e!==null&&t.stateNode!=null)pp(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Me(t),null}if(e=An(Tt.current),Gl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Rt]=t,r[pl]=s,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(l=0;l<Br.length;l++)fe(Br[l],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Pu(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":Au(r,s),fe("invalid",r)}aa(n,s),l=null;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];a==="children"?typeof i=="string"?r.textContent!==i&&(s.suppressHydrationWarning!==!0&&Hl(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&Hl(r.textContent,i,e),l=["children",""+i]):rl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ml(r),Ou(r,s,!0);break;case"textarea":Ml(r),Ru(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ws)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ud(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Rt]=t,e[pl]=r,fp(e,t,!1,!1),t.stateNode=e;e:{switch(a=ia(n,r),n){case"dialog":fe("cancel",e),fe("close",e),l=r;break;case"iframe":case"object":case"embed":fe("load",e),l=r;break;case"video":case"audio":for(l=0;l<Br.length;l++)fe(Br[l],e);l=r;break;case"source":fe("error",e),l=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),l=r;break;case"details":fe("toggle",e),l=r;break;case"input":Pu(e,r),l=na(e,r),fe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ye({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Au(e,r),l=sa(e,r),fe("invalid",e);break;default:l=r}aa(n,l),i=l;for(s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="style"?Vd(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Bd(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ll(e,u):typeof u=="number"&&ll(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&fe("scroll",e):u!=null&&pi(e,s,u,a))}switch(n){case"input":Ml(e),Ou(e,r,!1);break;case"textarea":Ml(e),Ru(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?or(e,!!r.multiple,s,!1):r.defaultValue!=null&&or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)mp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=An(hl.current),An(Tt.current),Gl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(s=r.nodeValue!==n)&&(e=nt,e!==null))switch(e.tag){case 3:Hl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Me(t),null;case 13:if(pe(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&tt!==null&&t.mode&1&&!(t.flags&128))Af(),mr(),t.flags|=98560,s=!1;else if(s=Gl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Rt]=t}else mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),s=!1}else wt!==null&&(Ba(wt),wt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Ee===0&&(Ee=3):qi())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return gr(),La(e,t),e===null&&dl(t.stateNode.containerInfo),Me(t),null;case 10:return Ai(t.type._context),Me(t),null;case 17:return Xe(t.type)&&Ss(),Me(t),null;case 19:if(pe(he),s=t.memoizedState,s===null)return Me(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Mr(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=_s(e),a!==null){for(t.flags|=128,Mr(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(he,he.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ne()>yr&&(t.flags|=128,r=!0,Mr(s,!1),t.lanes=4194304)}else{if(!r)if(e=_s(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!me)return Me(t),null}else 2*Ne()-s.renderingStartTime>yr&&n!==1073741824&&(t.flags|=128,r=!0,Mr(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ne(),t.sibling=null,n=he.current,de(he,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return Qi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?et&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function Dg(e,t){switch(_i(t),t.tag){case 1:return Xe(t.type)&&Ss(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),pe(Je),pe($e),Mi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ii(t),null;case 13:if(pe(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(he),null;case 4:return gr(),null;case 10:return Ai(t.type._context),null;case 22:case 23:return Qi(),null;case 24:return null;default:return null}}var ql=!1,De=!1,$g=typeof WeakSet=="function"?WeakSet:Set,ee=null;function rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Ta(e,t,n){try{n()}catch(r){we(e,t,r)}}var Nc=!1;function Ug(e,t){if(ya=vs,e=xf(),ki(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,i=-1,u=-1,c=0,p=0,f=e,h=null;t:for(;;){for(var x;f!==n||l!==0&&f.nodeType!==3||(i=a+l),f!==s||r!==0&&f.nodeType!==3||(u=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===e)break t;if(h===n&&++c===l&&(i=a),h===s&&++p===r&&(u=a),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xa={focusedElem:e,selectionRange:n},vs=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,j=y.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?S:vt(t.type,S),j);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){we(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return y=Nc,Nc=!1,y}function Yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Ta(t,n,s)}l=l.next}while(l!==r)}}function eo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ia(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hp(e){var t=e.alternate;t!==null&&(e.alternate=null,hp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[pl],delete t[Na],delete t[jg],delete t[Cg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gp(e){return e.tag===5||e.tag===3||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ma(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ws));else if(r!==4&&(e=e.child,e!==null))for(Ma(e,t,n),e=e.sibling;e!==null;)Ma(e,t,n),e=e.sibling}function za(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(za(e,t,n),e=e.sibling;e!==null;)za(e,t,n),e=e.sibling}var Ae=null,xt=!1;function Jt(e,t,n){for(n=n.child;n!==null;)vp(e,t,n),n=n.sibling}function vp(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Gs,n)}catch{}switch(n.tag){case 5:De||rr(n,t);case 6:var r=Ae,l=xt;Ae=null,Jt(e,t,n),Ae=r,xt=l,Ae!==null&&(xt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(xt?(e=Ae,n=n.stateNode,e.nodeType===8?Ao(e.parentNode,n):e.nodeType===1&&Ao(e,n),il(e)):Ao(Ae,n.stateNode));break;case 4:r=Ae,l=xt,Ae=n.stateNode.containerInfo,xt=!0,Jt(e,t,n),Ae=r,xt=l;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Ta(n,t,a),l=l.next}while(l!==r)}Jt(e,t,n);break;case 1:if(!De&&(rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){we(n,t,i)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,Jt(e,t,n),De=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function Cc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $g),t.forEach(function(r){var l=Yg.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,a=t,i=a;e:for(;i!==null;){switch(i.tag){case 5:Ae=i.stateNode,xt=!1;break e;case 3:Ae=i.stateNode.containerInfo,xt=!0;break e;case 4:Ae=i.stateNode.containerInfo,xt=!0;break e}i=i.return}if(Ae===null)throw Error(H(160));vp(s,a,l),Ae=null,xt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){we(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yp(t,e),t=t.sibling}function yp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Ot(e),r&4){try{Yr(3,e,e.return),eo(3,e)}catch(S){we(e,e.return,S)}try{Yr(5,e,e.return)}catch(S){we(e,e.return,S)}}break;case 1:gt(t,e),Ot(e),r&512&&n!==null&&rr(n,n.return);break;case 5:if(gt(t,e),Ot(e),r&512&&n!==null&&rr(n,n.return),e.flags&32){var l=e.stateNode;try{ll(l,"")}catch(S){we(e,e.return,S)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&Dd(l,s),ia(i,a);var c=ia(i,s);for(a=0;a<u.length;a+=2){var p=u[a],f=u[a+1];p==="style"?Vd(l,f):p==="dangerouslySetInnerHTML"?Bd(l,f):p==="children"?ll(l,f):pi(l,p,f,c)}switch(i){case"input":ra(l,s);break;case"textarea":$d(l,s);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?or(l,!!s.multiple,x,!1):h!==!!s.multiple&&(s.defaultValue!=null?or(l,!!s.multiple,s.defaultValue,!0):or(l,!!s.multiple,s.multiple?[]:"",!1))}l[pl]=s}catch(S){we(e,e.return,S)}}break;case 6:if(gt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(H(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(S){we(e,e.return,S)}}break;case 3:if(gt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{il(t.containerInfo)}catch(S){we(e,e.return,S)}break;case 4:gt(t,e),Ot(e);break;case 13:gt(t,e),Ot(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Gi=Ne())),r&4&&Cc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(De=(c=De)||p,gt(t,e),De=c):gt(t,e),Ot(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!p&&e.mode&1)for(ee=e,p=e.child;p!==null;){for(f=ee=p;ee!==null;){switch(h=ee,x=h.child,h.tag){case 0:case 11:case 14:case 15:Yr(4,h,h.return);break;case 1:rr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(S){we(r,n,S)}}break;case 5:rr(h,h.return);break;case 22:if(h.memoizedState!==null){kc(f);continue}}x!==null?(x.return=h,ee=x):kc(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{l=f.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Wd("display",a))}catch(S){we(e,e.return,S)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){we(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gt(t,e),Ot(e),r&4&&Cc(e);break;case 21:break;default:gt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gp(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ll(l,""),r.flags&=-33);var s=jc(e);za(e,s,l);break;case 3:case 4:var a=r.stateNode.containerInfo,i=jc(e);Ma(e,i,a);break;default:throw Error(H(161))}}catch(u){we(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bg(e,t,n){ee=e,xp(e)}function xp(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var l=ee,s=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||ql;if(!a){var i=l.alternate,u=i!==null&&i.memoizedState!==null||De;i=ql;var c=De;if(ql=a,(De=u)&&!c)for(ee=l;ee!==null;)a=ee,u=a.child,a.tag===22&&a.memoizedState!==null?bc(l):u!==null?(u.return=a,ee=u):bc(l);for(;s!==null;)ee=s,xp(s),s=s.sibling;ee=l,ql=i,De=c}Ec(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,ee=s):Ec(e)}}function Ec(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||eo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&uc(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uc(t,a,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var p=c.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&il(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}De||t.flags&512&&Ia(t)}catch(h){we(t,t.return,h)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function kc(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function bc(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eo(4,t)}catch(u){we(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){we(t,l,u)}}var s=t.return;try{Ia(t)}catch(u){we(t,s,u)}break;case 5:var a=t.return;try{Ia(t)}catch(u){we(t,a,u)}}}catch(u){we(t,t.return,u)}if(t===e){ee=null;break}var i=t.sibling;if(i!==null){i.return=t.return,ee=i;break}ee=t.return}}var Wg=Math.ceil,Os=Kt.ReactCurrentDispatcher,Vi=Kt.ReactCurrentOwner,ft=Kt.ReactCurrentBatchConfig,oe=0,_e=null,je=null,Re=0,et=0,lr=Nn(0),Ee=0,xl=null,Dn=0,to=0,Hi=0,Jr=null,qe=null,Gi=0,yr=1/0,Mt=null,As=!1,Da=null,mn=null,Yl=!1,rn=null,Rs=0,Xr=0,$a=null,is=-1,us=0;function Ge(){return oe&6?Ne():is!==-1?is:is=Ne()}function hn(e){return e.mode&1?oe&2&&Re!==0?Re&-Re:kg.transition!==null?(us===0&&(us=nf()),us):(e=ue,e!==0||(e=window.event,e=e===void 0?16:cf(e.type)),e):1}function Nt(e,t,n,r){if(50<Xr)throw Xr=0,$a=null,Error(H(185));kl(e,n,r),(!(oe&2)||e!==_e)&&(e===_e&&(!(oe&2)&&(to|=n),Ee===4&&tn(e,Re)),Ze(e,r),n===1&&oe===0&&!(t.mode&1)&&(yr=Ne()+500,Js&&jn()))}function Ze(e,t){var n=e.callbackNode;kh(e,t);var r=gs(e,e===_e?Re:0);if(r===0)n!==null&&Iu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Iu(n),t===1)e.tag===0?Eg(_c.bind(null,e)):Ff(_c.bind(null,e)),Sg(function(){!(oe&6)&&jn()}),n=null;else{switch(rf(r)){case 1:n=yi;break;case 4:n=ef;break;case 16:n=hs;break;case 536870912:n=tf;break;default:n=hs}n=bp(n,wp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wp(e,t){if(is=-1,us=0,oe&6)throw Error(H(327));var n=e.callbackNode;if(dr()&&e.callbackNode!==n)return null;var r=gs(e,e===_e?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ls(e,r);else{t=r;var l=oe;oe|=2;var s=Np();(_e!==e||Re!==t)&&(Mt=null,yr=Ne()+500,Rn(e,t));do try{Gg();break}catch(i){Sp(e,i)}while(!0);Oi(),Os.current=s,oe=l,je!==null?t=0:(_e=null,Re=0,t=Ee)}if(t!==0){if(t===2&&(l=pa(e),l!==0&&(r=l,t=Ua(e,l))),t===1)throw n=xl,Rn(e,0),tn(e,r),Ze(e,Ne()),n;if(t===6)tn(e,r);else{if(l=e.current.alternate,!(r&30)&&!Vg(l)&&(t=Ls(e,r),t===2&&(s=pa(e),s!==0&&(r=s,t=Ua(e,s))),t===1))throw n=xl,Rn(e,0),tn(e,r),Ze(e,Ne()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:_n(e,qe,Mt);break;case 3:if(tn(e,r),(r&130023424)===r&&(t=Gi+500-Ne(),10<t)){if(gs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Sa(_n.bind(null,e,qe,Mt),t);break}_n(e,qe,Mt);break;case 4:if(tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-St(r);s=1<<a,a=t[a],a>l&&(l=a),r&=~s}if(r=l,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wg(r/1960))-r,10<r){e.timeoutHandle=Sa(_n.bind(null,e,qe,Mt),r);break}_n(e,qe,Mt);break;case 5:_n(e,qe,Mt);break;default:throw Error(H(329))}}}return Ze(e,Ne()),e.callbackNode===n?wp.bind(null,e):null}function Ua(e,t){var n=Jr;return e.current.memoizedState.isDehydrated&&(Rn(e,t).flags|=256),e=Ls(e,t),e!==2&&(t=qe,qe=n,t!==null&&Ba(t)),e}function Ba(e){qe===null?qe=e:qe.push.apply(qe,e)}function Vg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!Ct(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~Hi,t&=~to,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function _c(e){if(oe&6)throw Error(H(327));dr();var t=gs(e,0);if(!(t&1))return Ze(e,Ne()),null;var n=Ls(e,t);if(e.tag!==0&&n===2){var r=pa(e);r!==0&&(t=r,n=Ua(e,r))}if(n===1)throw n=xl,Rn(e,0),tn(e,t),Ze(e,Ne()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,qe,Mt),Ze(e,Ne()),null}function Ki(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(yr=Ne()+500,Js&&jn())}}function $n(e){rn!==null&&rn.tag===0&&!(oe&6)&&dr();var t=oe;oe|=1;var n=ft.transition,r=ue;try{if(ft.transition=null,ue=1,e)return e()}finally{ue=r,ft.transition=n,oe=t,!(oe&6)&&jn()}}function Qi(){et=lr.current,pe(lr)}function Rn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wg(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(_i(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ss();break;case 3:gr(),pe(Je),pe($e),Mi();break;case 5:Ii(r);break;case 4:gr();break;case 13:pe(he);break;case 19:pe(he);break;case 10:Ai(r.type._context);break;case 22:case 23:Qi()}n=n.return}if(_e=e,je=e=gn(e.current,null),Re=et=t,Ee=0,xl=null,Hi=to=Dn=0,qe=Jr=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=l,r.next=a}n.pending=r}On=null}return e}function Sp(e,t){do{var n=je;try{if(Oi(),ss.current=Ps,Fs){for(var r=ge.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Fs=!1}if(zn=0,be=Ce=ge=null,qr=!1,gl=0,Vi.current=null,n===null||n.return===null){Ee=1,xl=t,je=null;break}e:{var s=e,a=n.return,i=n,u=t;if(t=Re,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,p=i,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=hc(a);if(x!==null){x.flags&=-257,gc(x,a,i,s,t),x.mode&1&&mc(s,c,t),t=x,u=c;var y=t.updateQueue;if(y===null){var S=new Set;S.add(u),t.updateQueue=S}else y.add(u);break e}else{if(!(t&1)){mc(s,c,t),qi();break e}u=Error(H(426))}}else if(me&&i.mode&1){var j=hc(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),gc(j,a,i,s,t),Fi(vr(u,i));break e}}s=u=vr(u,i),Ee!==4&&(Ee=2),Jr===null?Jr=[s]:Jr.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=lp(s,u,t);ic(s,g);break e;case 1:i=u;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mn===null||!mn.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=sp(s,i,t);ic(s,w);break e}}s=s.return}while(s!==null)}Cp(n)}catch(b){t=b,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Np(){var e=Os.current;return Os.current=Ps,e===null?Ps:e}function qi(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),_e===null||!(Dn&268435455)&&!(to&268435455)||tn(_e,Re)}function Ls(e,t){var n=oe;oe|=2;var r=Np();(_e!==e||Re!==t)&&(Mt=null,Rn(e,t));do try{Hg();break}catch(l){Sp(e,l)}while(!0);if(Oi(),oe=n,Os.current=r,je!==null)throw Error(H(261));return _e=null,Re=0,Ee}function Hg(){for(;je!==null;)jp(je)}function Gg(){for(;je!==null&&!vh();)jp(je)}function jp(e){var t=kp(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?Cp(e):je=t,Vi.current=null}function Cp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dg(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,je=null;return}}else if(n=zg(n,t,et),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ee===0&&(Ee=5)}function _n(e,t,n){var r=ue,l=ft.transition;try{ft.transition=null,ue=1,Kg(e,t,n,r)}finally{ft.transition=l,ue=r}return null}function Kg(e,t,n,r){do dr();while(rn!==null);if(oe&6)throw Error(H(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(bh(e,s),e===_e&&(je=_e=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yl||(Yl=!0,bp(hs,function(){return dr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ft.transition,ft.transition=null;var a=ue;ue=1;var i=oe;oe|=4,Vi.current=null,Ug(e,n),yp(n,e),pg(xa),vs=!!ya,xa=ya=null,e.current=n,Bg(n),yh(),oe=i,ue=a,ft.transition=s}else e.current=n;if(Yl&&(Yl=!1,rn=e,Rs=l),s=e.pendingLanes,s===0&&(mn=null),Sh(n.stateNode),Ze(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(As)throw As=!1,e=Da,Da=null,e;return Rs&1&&e.tag!==0&&dr(),s=e.pendingLanes,s&1?e===$a?Xr++:(Xr=0,$a=e):Xr=0,jn(),null}function dr(){if(rn!==null){var e=rf(Rs),t=ft.transition,n=ue;try{if(ft.transition=null,ue=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,Rs=0,oe&6)throw Error(H(331));var l=oe;for(oe|=4,ee=e.current;ee!==null;){var s=ee,a=s.child;if(ee.flags&16){var i=s.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(ee=c;ee!==null;){var p=ee;switch(p.tag){case 0:case 11:case 15:Yr(8,p,s)}var f=p.child;if(f!==null)f.return=p,ee=f;else for(;ee!==null;){p=ee;var h=p.sibling,x=p.return;if(hp(p),p===c){ee=null;break}if(h!==null){h.return=x,ee=h;break}ee=x}}}var y=s.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}ee=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ee=a;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ee=g;break e}ee=s.return}}var m=e.current;for(ee=m;ee!==null;){a=ee;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,ee=v;else e:for(a=m;ee!==null;){if(i=ee,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:eo(9,i)}}catch(b){we(i,i.return,b)}if(i===a){ee=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,ee=w;break e}ee=i.return}}if(oe=l,jn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Gs,e)}catch{}r=!0}return r}finally{ue=n,ft.transition=t}}return!1}function Fc(e,t,n){t=vr(n,t),t=lp(e,t,1),e=pn(e,t,1),t=Ge(),e!==null&&(kl(e,1,t),Ze(e,t))}function we(e,t,n){if(e.tag===3)Fc(e,e,n);else for(;t!==null;){if(t.tag===3){Fc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=vr(n,e),e=sp(t,e,1),t=pn(t,e,1),e=Ge(),t!==null&&(kl(t,1,e),Ze(t,e));break}}t=t.return}}function Qg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Re&n)===n&&(Ee===4||Ee===3&&(Re&130023424)===Re&&500>Ne()-Gi?Rn(e,0):Hi|=n),Ze(e,t)}function Ep(e,t){t===0&&(e.mode&1?(t=$l,$l<<=1,!($l&130023424)&&($l=4194304)):t=1);var n=Ge();e=Ht(e,t),e!==null&&(kl(e,t,n),Ze(e,n))}function qg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ep(e,n)}function Yg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Ep(e,n)}var kp;kp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,Mg(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,me&&t.flags&1048576&&Pf(t,Cs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;as(e,t),e=t.pendingProps;var l=pr(t,$e.current);cr(t,n),l=Di(null,t,r,e,l,n);var s=$i();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(s=!0,Ns(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Li(t),l.updater=Zs,t.stateNode=l,l._reactInternals=t,_a(t,r,e,n),t=Oa(null,t,r,!0,s,n)):(t.tag=0,me&&s&&bi(t),He(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(as(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Xg(r),e=vt(r,e),l){case 0:t=Pa(null,t,r,e,n);break e;case 1:t=xc(null,t,r,e,n);break e;case 11:t=vc(null,t,r,e,n);break e;case 14:t=yc(null,t,r,vt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),Pa(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),xc(e,t,r,l,n);case 3:e:{if(up(t),e===null)throw Error(H(387));r=t.pendingProps,s=t.memoizedState,l=s.element,If(e,t),bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=vr(Error(H(423)),t),t=wc(e,t,r,n,l);break e}else if(r!==l){l=vr(Error(H(424)),t),t=wc(e,t,r,n,l);break e}else for(tt=fn(t.stateNode.containerInfo.firstChild),nt=t,me=!0,wt=null,n=Lf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===l){t=Gt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return Mf(t),e===null&&Ea(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,a=l.children,wa(r,l)?a=null:s!==null&&wa(r,s)&&(t.flags|=32),ip(e,t),He(e,t,a,n),t.child;case 6:return e===null&&Ea(t),null;case 13:return cp(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),vc(e,t,r,l,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,a=l.value,de(Es,r._currentValue),r._currentValue=a,s!==null)if(Ct(s.value,a)){if(s.children===l.children&&!Je.current){t=Gt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){a=s.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ut(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ka(s.return,n,t),i.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(H(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),ka(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}He(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,cr(t,n),l=pt(l),r=r(l),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,l=vt(r,t.pendingProps),l=vt(r.type,l),yc(e,t,r,l,n);case 15:return op(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:vt(r,l),as(e,t),t.tag=1,Xe(r)?(e=!0,Ns(t)):e=!1,cr(t,n),rp(t,r,l),_a(t,r,l,n),Oa(null,t,r,!0,e,n);case 19:return dp(e,t,n);case 22:return ap(e,t,n)}throw Error(H(156,t.tag))};function bp(e,t){return Zd(e,t)}function Jg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,r){return new Jg(e,t,n,r)}function Yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xg(e){if(typeof e=="function")return Yi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hi)return 11;if(e===gi)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cs(e,t,n,r,l,s){var a=2;if(r=e,typeof e=="function")Yi(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Qn:return Ln(n.children,l,s,t);case mi:a=8,l|=8;break;case Xo:return e=dt(12,n,t,l|2),e.elementType=Xo,e.lanes=s,e;case Zo:return e=dt(13,n,t,l),e.elementType=Zo,e.lanes=s,e;case ea:return e=dt(19,n,t,l),e.elementType=ea,e.lanes=s,e;case Id:return no(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ld:a=10;break e;case Td:a=9;break e;case hi:a=11;break e;case gi:a=14;break e;case Xt:a=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=dt(a,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function Ln(e,t,n,r){return e=dt(7,e,r,t),e.lanes=n,e}function no(e,t,n,r){return e=dt(22,e,r,t),e.elementType=Id,e.lanes=n,e.stateNode={isHidden:!1},e}function $o(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function Uo(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zg(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=So(0),this.expirationTimes=So(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ji(e,t,n,r,l,s,a,i,u){return e=new Zg(e,t,n,i,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=dt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(s),e}function ev(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _p(e){if(!e)return wn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Xe(n))return _f(e,n,t)}return t}function Fp(e,t,n,r,l,s,a,i,u){return e=Ji(n,r,!0,e,l,s,a,i,u),e.context=_p(null),n=e.current,r=Ge(),l=hn(n),s=Ut(r,l),s.callback=t??null,pn(n,s,l),e.current.lanes=l,kl(e,l,r),Ze(e,r),e}function ro(e,t,n,r){var l=t.current,s=Ge(),a=hn(l);return n=_p(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pn(l,t,a),e!==null&&(Nt(e,l,a,s),ls(e,l,a)),a}function Ts(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xi(e,t){Pc(e,t),(e=e.alternate)&&Pc(e,t)}function tv(){return null}var Pp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zi(e){this._internalRoot=e}lo.prototype.render=Zi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));ro(e,t,null,null)};lo.prototype.unmount=Zi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){ro(null,e,null,null)}),t[Vt]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=of();e={blockedOn:null,target:e,priority:t};for(var n=0;n<en.length&&t!==0&&t<en[n].priority;n++);en.splice(n,0,e),n===0&&uf(e)}};function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function so(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oc(){}function nv(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=Ts(a);s.call(c)}}var a=Fp(t,r,e,0,null,!1,!1,"",Oc);return e._reactRootContainer=a,e[Vt]=a.current,dl(e.nodeType===8?e.parentNode:e),$n(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var c=Ts(u);i.call(c)}}var u=Ji(e,0,!1,null,null,!1,!1,"",Oc);return e._reactRootContainer=u,e[Vt]=u.current,dl(e.nodeType===8?e.parentNode:e),$n(function(){ro(t,u,n,r)}),u}function oo(e,t,n,r,l){var s=n._reactRootContainer;if(s){var a=s;if(typeof l=="function"){var i=l;l=function(){var u=Ts(a);i.call(u)}}ro(t,a,e,l)}else a=nv(n,t,e,l,r);return Ts(a)}lf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ur(t.pendingLanes);n!==0&&(xi(t,n|1),Ze(t,Ne()),!(oe&6)&&(yr=Ne()+500,jn()))}break;case 13:$n(function(){var r=Ht(e,1);if(r!==null){var l=Ge();Nt(r,e,1,l)}}),Xi(e,1)}};wi=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=Ge();Nt(t,e,134217728,n)}Xi(e,134217728)}};sf=function(e){if(e.tag===13){var t=hn(e),n=Ht(e,t);if(n!==null){var r=Ge();Nt(n,e,t,r)}Xi(e,t)}};of=function(){return ue};af=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};ca=function(e,t,n){switch(t){case"input":if(ra(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Ys(r);if(!l)throw Error(H(90));zd(r),ra(r,l)}}}break;case"textarea":$d(e,n);break;case"select":t=n.value,t!=null&&or(e,!!n.multiple,t,!1)}};Kd=Ki;Qd=$n;var rv={usingClientEntryPoint:!1,Events:[_l,Xn,Ys,Hd,Gd,Ki]},zr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lv={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jd(e),e===null?null:e.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Gs=Jl.inject(lv),Lt=Jl}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rv;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eu(t))throw Error(H(200));return ev(e,t,null,n)};lt.createRoot=function(e,t){if(!eu(e))throw Error(H(299));var n=!1,r="",l=Pp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ji(e,1,!1,null,null,n,!1,r,l),e[Vt]=t.current,dl(e.nodeType===8?e.parentNode:e),new Zi(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Jd(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return $n(e)};lt.hydrate=function(e,t,n){if(!so(t))throw Error(H(200));return oo(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!eu(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",a=Pp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Fp(t,null,e,1,n??null,l,!1,s,a),e[Vt]=t.current,dl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new lo(t)};lt.render=function(e,t,n){if(!so(t))throw Error(H(200));return oo(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!so(e))throw Error(H(40));return e._reactRootContainer?($n(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};lt.unstable_batchedUpdates=Ki;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!so(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return oo(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function Op(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Op)}catch(e){console.error(e)}}Op(),Pd.exports=lt;var Ap=Pd.exports,Ac=Ap;Yo.createRoot=Ac.createRoot,Yo.hydrateRoot=Ac.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(this,arguments)}var ln;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ln||(ln={}));const Rc="popstate";function sv(e){e===void 0&&(e={});function t(l,s){let{pathname:a="/",search:i="",hash:u=""}=Vn(l.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Wa("",{pathname:a,search:i,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(l,s){let a=l.document.querySelector("base"),i="";if(a&&a.getAttribute("href")){let u=l.location.href,c=u.indexOf("#");i=c===-1?u:u.slice(0,c)}return i+"#"+(typeof s=="string"?s:Is(s))}function r(l,s){tu(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return av(t,n,r,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ov(){return Math.random().toString(36).substr(2,8)}function Lc(e,t){return{usr:e.state,key:e.key,idx:t}}function Wa(e,t,n,r){return n===void 0&&(n=null),wl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vn(t):t,{state:n,key:t&&t.key||r||ov()})}function Is(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function av(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,a=l.history,i=ln.Pop,u=null,c=p();c==null&&(c=0,a.replaceState(wl({},a.state,{idx:c}),""));function p(){return(a.state||{idx:null}).idx}function f(){i=ln.Pop;let j=p(),g=j==null?null:j-c;c=j,u&&u({action:i,location:S.location,delta:g})}function h(j,g){i=ln.Push;let m=Wa(S.location,j,g);n&&n(m,j),c=p()+1;let v=Lc(m,c),w=S.createHref(m);try{a.pushState(v,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;l.location.assign(w)}s&&u&&u({action:i,location:S.location,delta:1})}function x(j,g){i=ln.Replace;let m=Wa(S.location,j,g);n&&n(m,j),c=p();let v=Lc(m,c),w=S.createHref(m);a.replaceState(v,"",w),s&&u&&u({action:i,location:S.location,delta:0})}function y(j){let g=l.location.origin!=="null"?l.location.origin:l.location.href,m=typeof j=="string"?j:Is(j);return m=m.replace(/ $/,"%20"),ve(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let S={get action(){return i},get location(){return e(l,a)},listen(j){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(Rc,f),u=j,()=>{l.removeEventListener(Rc,f),u=null}},createHref(j){return t(l,j)},createURL:y,encodeLocation(j){let g=y(j);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:x,go(j){return a.go(j)}};return S}var Tc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tc||(Tc={}));function iv(e,t,n){return n===void 0&&(n="/"),uv(e,t,n)}function uv(e,t,n,r){let l=typeof t=="string"?Vn(t):t,s=xr(l.pathname||"/",n);if(s==null)return null;let a=Rp(e);cv(a);let i=null;for(let u=0;i==null&&u<a.length;++u){let c=Sv(s);i=xv(a[u],c)}return i}function Rp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,a,i)=>{let u={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(ve(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=vn([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Rp(s.children,t,p,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:vv(c,s.index),routesMeta:p})};return e.forEach((s,a)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))l(s,a);else for(let u of Lp(s.path))l(s,a,u)}),t}function Lp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let a=Lp(r.join("/")),i=[];return i.push(...a.map(u=>u===""?s:[s,u].join("/"))),l&&i.push(...a),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function cv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dv=/^:[\w-]+$/,fv=3,pv=2,mv=1,hv=10,gv=-2,Ic=e=>e==="*";function vv(e,t){let n=e.split("/"),r=n.length;return n.some(Ic)&&(r+=gv),t&&(r+=pv),n.filter(l=>!Ic(l)).reduce((l,s)=>l+(dv.test(s)?fv:s===""?mv:hv),r)}function yv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function xv(e,t,n){let{routesMeta:r}=e,l={},s="/",a=[];for(let i=0;i<r.length;++i){let u=r[i],c=i===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",f=Va({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},p),h=u.route;if(!f)return null;Object.assign(l,f.params),a.push({params:l,pathname:vn([s,f.pathname]),pathnameBase:Ev(vn([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=vn([s,f.pathnameBase]))}return a}function Va(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wv(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],a=s.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:r.reduce((c,p,f)=>{let{paramName:h,isOptional:x}=p;if(h==="*"){let S=i[f]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=i[f];return x&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function wv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),tu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,u)=>(r.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Sv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Nv(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Vn(e):e;return{pathname:n?n.startsWith("/")?n:jv(n,t):t,search:kv(r),hash:bv(l)}}function jv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Bo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nu(e,t){let n=Cv(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ru(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Vn(e):(l=wl({},e),ve(!l.pathname||!l.pathname.includes("?"),Bo("?","pathname","search",l)),ve(!l.pathname||!l.pathname.includes("#"),Bo("#","pathname","hash",l)),ve(!l.search||!l.search.includes("#"),Bo("#","search","hash",l)));let s=e===""||l.pathname==="",a=s?"/":l.pathname,i;if(a==null)i=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}i=f>=0?t[f]:"/"}let u=Nv(l,i),c=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||p)&&(u.pathname+="/"),u}const vn=e=>e.join("/").replace(/\/\/+/g,"/"),Ev=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _v(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tp=["post","put","patch","delete"];new Set(Tp);const Fv=["get",...Tp];new Set(Fv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}const ao=d.createContext(null),Ip=d.createContext(null),Qt=d.createContext(null),io=d.createContext(null),Cn=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Mp=d.createContext(null);function Pv(e,t){let{relative:n}=t===void 0?{}:t;Er()||ve(!1);let{basename:r,navigator:l}=d.useContext(Qt),{hash:s,pathname:a,search:i}=uo(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:vn([r,a])),l.createHref({pathname:u,search:i,hash:s})}function Er(){return d.useContext(io)!=null}function Et(){return Er()||ve(!1),d.useContext(io).location}function zp(e){d.useContext(Qt).static||d.useLayoutEffect(e)}function lu(){let{isDataRoute:e}=d.useContext(Cn);return e?Wv():Ov()}function Ov(){Er()||ve(!1);let e=d.useContext(ao),{basename:t,future:n,navigator:r}=d.useContext(Qt),{matches:l}=d.useContext(Cn),{pathname:s}=Et(),a=JSON.stringify(nu(l,n.v7_relativeSplatPath)),i=d.useRef(!1);return zp(()=>{i.current=!0}),d.useCallback(function(c,p){if(p===void 0&&(p={}),!i.current)return;if(typeof c=="number"){r.go(c);return}let f=ru(c,JSON.parse(a),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vn([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,a,s,e])}function uo(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=d.useContext(Qt),{matches:l}=d.useContext(Cn),{pathname:s}=Et(),a=JSON.stringify(nu(l,r.v7_relativeSplatPath));return d.useMemo(()=>ru(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function Av(e,t){return Rv(e,t)}function Rv(e,t,n,r){Er()||ve(!1);let{navigator:l}=d.useContext(Qt),{matches:s}=d.useContext(Cn),a=s[s.length-1],i=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=Et(),p;if(t){var f;let j=typeof t=="string"?Vn(t):t;u==="/"||(f=j.pathname)!=null&&f.startsWith(u)||ve(!1),p=j}else p=c;let h=p.pathname||"/",x=h;if(u!=="/"){let j=u.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let y=iv(e,{pathname:x}),S=zv(y&&y.map(j=>Object.assign({},j,{params:Object.assign({},i,j.params),pathname:vn([u,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:vn([u,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),s,n,r);return t&&S?d.createElement(io.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ln.Pop}},S):S}function Lv(){let e=Bv(),t=_v(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:l},n):null,null)}const Tv=d.createElement(Lv,null);class Iv extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(Cn.Provider,{value:this.props.routeContext},d.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mv(e){let{routeContext:t,match:n,children:r}=e,l=d.useContext(ao);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Cn.Provider,{value:t},r)}function zv(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let p=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);p>=0||ve(!1),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let f=a[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=p),f.route.id){let{loaderData:h,errors:x}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||y){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((p,f,h)=>{let x,y=!1,S=null,j=null;n&&(x=i&&f.route.id?i[f.route.id]:void 0,S=f.route.errorElement||Tv,u&&(c<0&&h===0?(Vv("route-fallback"),y=!0,j=null):c===h&&(y=!0,j=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,h+1)),m=()=>{let v;return x?v=S:y?v=j:f.route.Component?v=d.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=p,d.createElement(Mv,{match:f,routeContext:{outlet:p,matches:g,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?d.createElement(Iv,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Dp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dp||{}),$p=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($p||{});function Dv(e){let t=d.useContext(ao);return t||ve(!1),t}function $v(e){let t=d.useContext(Ip);return t||ve(!1),t}function Uv(e){let t=d.useContext(Cn);return t||ve(!1),t}function Up(e){let t=Uv(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function Bv(){var e;let t=d.useContext(Mp),n=$v(),r=Up();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Wv(){let{router:e}=Dv(Dp.UseNavigateStable),t=Up($p.UseNavigateStable),n=d.useRef(!1);return zp(()=>{n.current=!0}),d.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Sl({fromRouteId:t},s)))},[e,t])}const Mc={};function Vv(e,t,n){Mc[e]||(Mc[e]=!0)}function Hv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bp(e){let{to:t,replace:n,state:r,relative:l}=e;Er()||ve(!1);let{future:s,static:a}=d.useContext(Qt),{matches:i}=d.useContext(Cn),{pathname:u}=Et(),c=lu(),p=ru(t,nu(i,s.v7_relativeSplatPath),u,l==="path"),f=JSON.stringify(p);return d.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:l}),[c,f,l,n,r]),null}function It(e){ve(!1)}function Gv(e){let{basename:t="/",children:n=null,location:r,navigationType:l=ln.Pop,navigator:s,static:a=!1,future:i}=e;Er()&&ve(!1);let u=t.replace(/^\/*/,"/"),c=d.useMemo(()=>({basename:u,navigator:s,static:a,future:Sl({v7_relativeSplatPath:!1},i)}),[u,i,s,a]);typeof r=="string"&&(r=Vn(r));let{pathname:p="/",search:f="",hash:h="",state:x=null,key:y="default"}=r,S=d.useMemo(()=>{let j=xr(p,u);return j==null?null:{location:{pathname:j,search:f,hash:h,state:x,key:y},navigationType:l}},[u,p,f,h,x,y,l]);return S==null?null:d.createElement(Qt.Provider,{value:c},d.createElement(io.Provider,{children:n,value:S}))}function Kv(e){let{children:t,location:n}=e;return Av(Ha(t),n)}new Promise(()=>{});function Ha(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,l)=>{if(!d.isValidElement(r))return;let s=[...t,l];if(r.type===d.Fragment){n.push.apply(n,Ha(r.props.children,s));return}r.type!==It&&ve(!1),!r.props.index||!r.props.children||ve(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ha(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(this,arguments)}function Wp(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,s;for(s=0;s<r.length;s++)l=r[s],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Qv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qv(e,t){return e.button===0&&(!t||t==="_self")&&!Qv(e)}const Yv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Xv="6";try{window.__reactRouterVersion=Xv}catch{}const Zv=d.createContext({isTransitioning:!1}),ey="startTransition",zc=Qm[ey];function ty(e){let{basename:t,children:n,future:r,window:l}=e,s=d.useRef();s.current==null&&(s.current=sv({window:l,v5Compat:!0}));let a=s.current,[i,u]=d.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},p=d.useCallback(f=>{c&&zc?zc(()=>u(f)):u(f)},[u,c]);return d.useLayoutEffect(()=>a.listen(p),[a,p]),d.useEffect(()=>Hv(r),[r]),d.createElement(Gv,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a,future:r})}const ny=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ry=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vp=d.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:s,replace:a,state:i,target:u,to:c,preventScrollReset:p,viewTransition:f}=t,h=Wp(t,Yv),{basename:x}=d.useContext(Qt),y,S=!1;if(typeof c=="string"&&ry.test(c)&&(y=c,ny))try{let v=new URL(window.location.href),w=c.startsWith("//")?new URL(v.protocol+c):new URL(c),b=xr(w.pathname,x);w.origin===v.origin&&b!=null?c=b+w.search+w.hash:S=!0}catch{}let j=Pv(c,{relative:l}),g=sy(c,{replace:a,state:i,target:u,preventScrollReset:p,relative:l,viewTransition:f});function m(v){r&&r(v),v.defaultPrevented||g(v)}return d.createElement("a",Ms({},h,{href:y||j,onClick:S||s?r:m,ref:n,target:u}))}),Ga=d.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:s="",end:a=!1,style:i,to:u,viewTransition:c,children:p}=t,f=Wp(t,Jv),h=uo(u,{relative:f.relative}),x=Et(),y=d.useContext(Ip),{navigator:S,basename:j}=d.useContext(Qt),g=y!=null&&oy(h)&&c===!0,m=S.encodeLocation?S.encodeLocation(h).pathname:h.pathname,v=x.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;l||(v=v.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&j&&(w=xr(w,j)||w);const b=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let M=v===m||!a&&v.startsWith(m)&&v.charAt(b)==="/",T=w!=null&&(w===m||!a&&w.startsWith(m)&&w.charAt(m.length)==="/"),O={isActive:M,isPending:T,isTransitioning:g},V=M?r:void 0,B;typeof s=="function"?B=s(O):B=[s,M?"active":null,T?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(O):i;return d.createElement(Vp,Ms({},f,{"aria-current":V,className:B,ref:n,style:G,to:u,viewTransition:c}),typeof p=="function"?p(O):p)});var Ka;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ka||(Ka={}));var Dc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dc||(Dc={}));function ly(e){let t=d.useContext(ao);return t||ve(!1),t}function sy(e,t){let{target:n,replace:r,state:l,preventScrollReset:s,relative:a,viewTransition:i}=t===void 0?{}:t,u=lu(),c=Et(),p=uo(e,{relative:a});return d.useCallback(f=>{if(qv(f,n)){f.preventDefault();let h=r!==void 0?r:Is(c)===Is(p);u(e,{replace:h,state:l,preventScrollReset:s,relative:a,viewTransition:i})}},[c,u,p,r,l,n,e,s,a,i])}function oy(e,t){t===void 0&&(t={});let n=d.useContext(Zv);n==null&&ve(!1);let{basename:r}=ly(Ka.useViewTransitionState),l=uo(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Va(l.pathname,a)!=null||Va(l.pathname,s)!=null}function su(){const[e,t]=d.useState(()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem("cozygen_gallery_pending")==="1"}catch{return!1}});return d.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1),l=s=>{s.key==="cozygen_gallery_pending"&&t(s.newValue==="1")};return window.addEventListener("cozygen:gallery-pending",n),window.addEventListener("cozygen:gallery-viewed",r),window.addEventListener("storage",l),()=>{window.removeEventListener("cozygen:gallery-pending",n),window.removeEventListener("cozygen:gallery-viewed",r),window.removeEventListener("storage",l)}},[]),e}const Qa="cozygen_token";function ou(){try{return typeof window>"u"?null:localStorage.getItem(Qa)}catch{return null}}function Hp(e){try{if(typeof window>"u")return;e?localStorage.setItem(Qa,e):localStorage.removeItem(Qa)}catch{}}function Wo(){Hp(null)}function kr(){const e=ou();return e?{Authorization:`Bearer ${e}`}:{}}const br=async(e,t)=>{if(t.status===401){const r=new Error("unauthorized");throw r.unauthorized=!0,r.status=401,r}if(!t.ok)throw new Error(`${e} failed`);return(t.headers.get("content-type")||"").includes("application/json")?t.json():t.text()},En=async e=>{const t=await fetch(e,{headers:{...kr()}});return br(e,t)},Pl=async(e,t)=>{const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...kr()},body:JSON.stringify(t),credentials:"include"});return br(e,n)},ay=async e=>{const t=await fetch(e,{method:"DELETE",headers:{...kr()},credentials:"include"});return br(e,t)};async function iy(){return En("/cozygen/workflows")}async function uy(e){return En(`/cozygen/workflows/${encodeURIComponent(e)}`)}async function cy(e){return En(`/cozygen/get_choices?type=${encodeURIComponent(e)}`)}async function Gp(e){const t=await fetch("/prompt",{method:"POST",headers:{"Content-Type":"application/json",...kr()},body:JSON.stringify(e),credentials:"include"});return br("/prompt",t)}async function dy(e){const t=new FormData;t.append("image",e);const n=await fetch("/cozygen/upload_image",{method:"POST",headers:{...kr()},body:t,credentials:"include"});return br("/cozygen/upload_image",n)}async function Kp(e="",t=1,n=50,r=!1,l=!1,s="all",a=""){const i=new URLSearchParams({subfolder:e,page:String(t),per_page:String(n),show_hidden:r?"1":"0",recursive:l?"1":"0",kind:s});return a&&i.set("cache_bust",String(a)),En(`/cozygen/api/gallery?${i.toString()}`)}function fy(e){if(!(typeof window>"u"||typeof window.dispatchEvent!="function"))try{window.dispatchEvent(new CustomEvent("cozygen:preset-changed",{detail:{workflow:e||"default"}}))}catch(t){console.warn("Failed to emit preset change event",t)}}async function Qp(e){return En(`/cozygen/api/presets?workflow=${encodeURIComponent(e||"default")}`)}async function py(e,t,n,r){const l={name:t,values:n};typeof r<"u"&&(l.meta=r);const s=await Pl(`/cozygen/api/presets?workflow=${encodeURIComponent(e||"default")}`,l);return fy(e),s}async function my(){return En("/cozygen/api/aliases")}async function hy(e){return Pl("/cozygen/api/aliases",e||{})}async function gy(){return En("/cozygen/api/workflow_types")}async function vy(e,t){return Pl("/cozygen/api/workflow_types",{workflow:e,mode:t})}async function yy(){return En("/cozygen/api/lora_library")}async function xy(e,t){return Pl("/cozygen/api/lora_library",{id:e,data:t})}async function wy(e){return ay(`/cozygen/api/lora_library/${encodeURIComponent(e)}`)}async function Sy(e,t){return Pl("/cozygen/api/login",{username:e,password:t})}async function Ny(){return fetch("/cozygen/api/auth_status",{headers:{...kr()},credentials:"include"}).then(e=>br("/cozygen/api/auth_status",e))}const jy=30*60*1e3,$c="cozygen_idle_logout",qp=d.createContext(null);function Cy({children:e}){const[t,n]=d.useState(!1),[r,l]=d.useState(null),[s,a]=d.useState(!1),[i,u]=d.useState(null),c=d.useCallback(async()=>{if(!ou()){l(null),a(!1),n(!0);return}try{const y=await Ny();l((y==null?void 0:y.user)||null),a(!!(y!=null&&y.default_credentials))}catch{Wo(),l(null),a(!1)}finally{n(!0)}},[]);d.useEffect(()=>{c()},[c]);const p=d.useCallback(async(x,y)=>{const S=await Sy(x,y);Hp((S==null?void 0:S.token)||""),l((S==null?void 0:S.user)||x),a(!!(S!=null&&S.default_credentials));try{localStorage.removeItem($c)}catch{}return S},[]),f=d.useCallback(()=>{Wo(),l(null),a(!1)},[]);d.useEffect(()=>{if(!t)return;const x=()=>{i&&clearTimeout(i);const S=setTimeout(()=>{Wo(),l(null),a(!1);try{localStorage.setItem($c,"1")}catch{}window.location.hash="#/login"},jy);u(S)};x();const y=["pointerdown","keydown","visibilitychange"];return y.forEach(S=>window.addEventListener(S,x,{passive:!0})),()=>{i&&clearTimeout(i),y.forEach(S=>window.removeEventListener(S,x))}},[t,i]);const h=d.useMemo(()=>({ready:t,user:r,authed:!!r,defaultCreds:s,login:p,logout:f,refresh:c}),[t,r,s,p,f,c]);return o.jsx(qp.Provider,{value:h,children:e})}function co(){const e=d.useContext(qp);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Ey({children:e}){return o.jsx(Cy,{children:e})}const ky=[{to:"/",label:" Studio",end:!0}],by=[{to:"/gallery",label:" Gallery"},{to:"/presets",label:" Presets"},{to:"/lora-library",label:" LoRA"},{to:"/aliases",label:" Aliases"}],Uc=({isActive:e})=>["slim-nav-link btn-touch",e?"is-active":null].filter(Boolean).join(" ");function _y(){const[e,t]=d.useState(!1),n=su(),{logout:r,user:l}=co(),s=()=>t(u=>!u),a=()=>t(!1),i=()=>{try{r()}catch{}window.location.hash="#/login"};return o.jsxs("header",{className:"top-bar",children:[o.jsx("div",{className:"top-bar-shell",children:o.jsxs("div",{className:"brand-row",children:[o.jsxs(Vp,{to:"/",className:"brand-mark",onClick:a,children:[o.jsx("span",{className:"brand-icon",children:"CG"}),o.jsx("span",{className:"brand-text",children:"CozyGen"})]}),o.jsx("div",{className:"flex-1"}),o.jsxs("button",{type:"button",className:"hidden md:inline-flex items-center gap-2 rounded-xl border border-slate-800 bg-slate-900/60 px-3 py-2 text-slate-200 text-sm hover:bg-slate-800 transition",onClick:i,title:"Sign out",children:[o.jsx("span",{className:"text-lg",children:""}),o.jsx("span",{className:"hidden sm:inline text-xs uppercase tracking-wide",children:"Logout"}),l?o.jsxs("span",{className:"text-slate-400 text-xs",children:["@",l]}):null]}),o.jsx("button",{type:"button",className:`mobile-menu-toggle btn-touch ${e?"is-active":""} md:hidden`,onClick:s,"aria-expanded":e,"aria-controls":"cozygen-mobile-nav","aria-label":e?"Close menu":"Open menu",children:o.jsx("span",{className:"mobile-menu-icon",children:o.jsx("span",{})})})]})}),o.jsxs("div",{id:"cozygen-mobile-nav",className:`mobile-nav-drawer md:hidden ${e?"is-open":""}`,role:"menu",children:[o.jsx("div",{className:"mobile-nav-section",children:ky.map(u=>o.jsx(Ga,{to:u.to,end:u.end,className:Uc,onClick:a,role:"menuitem",children:u.label},u.to))}),o.jsxs("div",{className:"mobile-nav-section secondary",children:[by.map(u=>o.jsx(Ga,{to:u.to,end:u.end,className:Uc,onClick:a,role:"menuitem",children:o.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[o.jsx("span",{children:u.label}),u.to==="/gallery"&&n?o.jsx("span",{className:"badge-dot","aria-hidden":"true"}):null]})},u.to)),o.jsx("button",{type:"button",className:"slim-nav-link btn-touch text-left",onClick:()=>{a(),i()},role:"menuitem",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx("span",{children:" Logout"}),l?o.jsxs("span",{className:"text-slate-400 text-xs",children:["@",l]}):null]})})]})]})]})}const Yp="cozygen_last_render_payload";function Fy(e){if(e)try{if(typeof window>"u")return;window.localStorage.setItem(Yp,JSON.stringify(e))}catch{}}function Jp(){try{if(typeof window>"u")return null;const e=window.localStorage.getItem(Yp);return e?JSON.parse(e):null}catch{return null}}async function Py(){const e=Jp();if(!e||!e.workflow)return{success:!1,error:"No previous render to repeat"};try{return window.dispatchEvent(new CustomEvent("cozygen:render-state",{detail:{active:!0}})),await Gp({prompt:e.workflow}),{success:!0}}catch(t){return console.error("Failed to requeue prompt",t),window.dispatchEvent(new CustomEvent("cozygen:render-state",{detail:{active:!1}})),t!=null&&t.unauthorized?(window.location.hash="#/login",{success:!1,error:"Session expired"}):{success:!1,error:"Failed to queue prompt"}}}function Oy(){const e=Jp();return!!(e&&e.workflow)}const Ay=[{to:"/",label:"Studio",icon:"",end:!0},{to:"/gallery",label:"Gallery",icon:""},{to:"/presets",label:"Presets",icon:""},{to:"/aliases",label:"Aliases",icon:""},{to:"#render",label:"Render",icon:"",isAction:!0}],Ry=({isActive:e})=>["bottom-nav-link",e?"is-active":""].filter(Boolean).join(" ");function Ly(){const e=Et(),t=su(),[n,r]=Wr.useState(!1),[l,s]=Wr.useState(!1),a=e.pathname==="/"||e.pathname==="",i=async()=>{if(!(typeof window>"u"))if(r(!0),setTimeout(()=>r(!1),400),a)try{window.dispatchEvent(new CustomEvent("cozygen:request-render"))}catch{}else{if(!Oy())return;const u=await Py();u.success||console.warn("Requeue failed:",u.error)}};return Wr.useEffect(()=>{const u=c=>{var f;const p=!!((f=c==null?void 0:c.detail)!=null&&f.active);s(p),p&&(r(!0),setTimeout(()=>r(!1),400))};return window.addEventListener("cozygen:render-state",u),()=>window.removeEventListener("cozygen:render-state",u)},[]),o.jsx("nav",{className:"bottom-nav md:hidden","aria-label":"Bottom navigation",children:Ay.map(u=>u.isAction?o.jsxs("button",{type:"button",className:`bottom-nav-link is-action ${n?"is-flash":""} ${l?"is-rendering":""}`,onClick:i,"aria-label":"Render",children:[o.jsx("span",{className:"bottom-nav-icon","aria-hidden":"true",children:""}),o.jsx("span",{className:"bottom-nav-label",children:"Render"})]},"render"):o.jsxs(Ga,{to:u.to,end:u.end,className:Ry,children:[o.jsx("span",{className:"bottom-nav-icon","aria-hidden":"true",children:u.icon}),o.jsxs("span",{className:"bottom-nav-label",children:[u.label,u.to==="/gallery"&&t?o.jsx("span",{className:"badge-dot pulse","aria-hidden":"true"}):null]})]},u.to))})}function Ty(e,t){if(!t||t<=0)return null;const n=Number(e)||0,r=Number(t)||0,l=Math.round(n/r*100);return Number.isFinite(l)?Math.max(0,Math.min(100,l)):null}function Iy({busy:e=!1,progressValue:t=0,progressMax:n=0,statusText:r="Idle",statusPhase:l="idle",primaryLabel:s="Render",onPrimary:a,primaryDisabled:i=!1}){const u=Ty(t,n);let c="bg-[#3D4270]";l==="queued"?c="bg-[#FF60D0]":l==="running"?c="bg-[#3EF0FF]":l==="finished"?c="bg-[#5CFF9A]":l==="error"&&(c="bg-[#FF4F88]");const f={idle:"Idle",queued:"Queued",running:"Running",finished:"Finished",error:"Error"}[l]||"Status",h=l==="running"?"animate-pulse":"",x=e||i;return o.jsxs("div",{className:"mt-4 sm:mt-6 pb-4",children:[o.jsx("button",{type:"button",onClick:a,disabled:x,className:`w-full rounded-full px-6 py-3 text-sm sm:text-base font-semibold tracking-[0.25em] uppercase
          bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)]
          text-[#050716]
          shadow-[0_0_35px_rgba(255,96,208,0.45)]
          transition-transform
          disabled:opacity-60 disabled:cursor-not-allowed
          active:translate-y-[1px]`,children:e?"Rendering":s}),o.jsxs("div",{className:"mt-2 flex items-center justify-between text-[10px] sm:text-[11px] text-[#9DA3FFCC]",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`h-2 w-2 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.35)] ${c} ${h}`}),o.jsx("span",{className:"tracking-[0.25em] uppercase",children:f})]}),o.jsxs("span",{className:"flex items-center gap-2",children:[u!=null&&e&&o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"h-1.5 w-10 rounded-full bg-[#1B1F3A] overflow-hidden",children:o.jsx("span",{className:"block h-full bg-[#3EF0FF]",style:{width:`${u}%`}})}),o.jsxs("span",{children:[u,"%"]})]}),o.jsx("span",{className:"truncate max-w-[9rem] text-right",children:r||(e?"Working":"Idle")})]})]})]})}const Xp="jpg,jpeg,png,webp,gif,bmp,tif,tiff",au=(e="")=>/\.(png|jpe?g|gif|webp|bmp|tif?f)$/i.test(e),Zp=(e="")=>/\.(mp4|webm|mov|mkv)$/i.test(e);async function Vo({subfolder:e="",page:t=1,perPage:n=50,exts:r=Xp}={}){const l=new URLSearchParams({subfolder:e,page:String(t),per_page:String(n),exts:r}),s=await fetch(`/cozygen/input?${l.toString()}`);if(!s.ok)throw new Error(`Input list failed: ${s.status}`);return s.json()}const zs=e=>`/cozygen/input/file?path=${encodeURIComponent(e)}`,qa="output::",fo=(e="")=>e.replace(/\\/g,"/").replace(/^\/+/,"").replace(/\/+$/,""),em=(e="")=>{const t=e.replace(/\\/g,"/").split("/").filter(Boolean);return t[t.length-1]||""},My=({subfolder:e="",filename:t=""}={})=>{const n=em(t);if(!n)return"";const r=fo(e);return`${qa}${r}::${n}`},Ya=(e="")=>{if(typeof e!="string"||!e.startsWith(qa))return null;const t=e.slice(qa.length);if(!t)return null;const n=t.lastIndexOf("::"),r=n===-1?t:t.slice(n+2);return r?{subfolder:n===-1?"":t.slice(0,n),filename:r}:null},Ds=({filename:e="",subfolder:t="",type:n="output"}={})=>{const r=em(e);return r?`/view?${new URLSearchParams({filename:r,subfolder:fo(t),type:n||"output"}).toString()}`:""},Ja=(e="")=>e.split("/").slice(0,-1).join("/"),zy=e=>{if(typeof e!="string"||!e)return e!=null&&e.path?Ja(e.path):"";const t=Ya(e);return t?fo(t.subfolder):Ja(e)},Bc=(e=[])=>e.map(t=>{const n=t.rel_path||t.name||"",r=t.name||n||"Untitled",l=!!t.is_dir,s=l?"":zs(n);return{...t,name:r,rel_path:n,is_dir:l,is_image:!l&&au(r),is_video:!l&&Zp(r),source:"input",preview_url:s}}),Dy=(e=[])=>e.map(t=>{const n=t.filename||"",r=t.subfolder||"",l=t.type==="directory",s=l?r||n:[r,n].filter(Boolean).join("/"),a=n||r||s||"Untitled",i=l?"":Ds({filename:n,subfolder:r,type:t.type});return{...t,name:a,rel_path:s,is_dir:l,is_image:!l&&au(n),is_video:!l&&Zp(n),source:"output",preview_url:i}}),kn={get(e,t){try{return(typeof window<"u"?JSON.parse(localStorage.getItem(e)):null)??t}catch{return t}},set(e,t){try{typeof window<"u"&&localStorage.setItem(e,JSON.stringify(t))}catch{}}};function iu({input:e,value:t,onFormChange:n}){var F;const r=((F=e==null?void 0:e.inputs)==null?void 0:F.param_name)||"Image Input",l=(e==null?void 0:e.class_type)||"CozyGenImageInput",s=`cg_last_input_cwd::${r}`,a=`cg_last_picker_source::${r}`,[i,u]=d.useState(""),[c,p]=d.useState(!1),[f,h]=d.useState(!1),[x,y]=d.useState(kn.get(s,"")),[S,j]=d.useState(1),[g,m]=d.useState(50),[v,w]=d.useState([]),[b,M]=d.useState(1),[T,O]=d.useState(!1),[V,B]=d.useState(""),[G,J]=d.useState([]),[U,C]=d.useState(!0),[P,W]=d.useState(()=>kn.get(a,"inputs")==="outputs"?"outputs":"inputs"),E=P,k=d.useCallback(A=>{const I=A==="outputs"?"outputs":"inputs";W(I),kn.set(a,I),y(""),j(1)},[]),$=d.useMemo(()=>{if(i)try{const A=new URL(i,window.location.origin);return(A.searchParams.get("path")||A.searchParams.get("filename")||A.pathname.split("/").pop()||"").split("/").pop()||"No file selected."}catch{}if(!t)return"No file selected.";if(typeof t=="string"){const A=Ya(t);return A!=null&&A.filename?A.filename.split("/").pop():t.split("/").pop()}return t!=null&&t.path?t.path.split("/").pop():"No file selected."},[i,t]);d.useEffect(()=>{if(typeof t=="string"&&t){const A=Ya(t);A!=null&&A.filename?u(Ds({filename:A.filename,subfolder:A.subfolder,type:"output"})):u(zs(t)),p(!1)}else t!=null&&t.url?(u(t.url),p(!1)):(u(""),p(!1))},[t]);const z=d.useCallback(async A=>{const I=await dy(A),Q=`/view?filename=${I.filename}&type=input`;u(Q),p(!1),kn.set(s,""),l==="CozyGenImageInput"?n(r,I.filename):n(r,{source:"Upload",path:I.filename,url:Q})},[l,n,r]),R=d.useCallback(()=>{u(""),p(!1),l==="CozyGenImageInput"?n(r,""):n(r,{source:"Upload",path:"",url:""})},[l,n,r]),L=d.useCallback(()=>{const I=zy(t)||kn.get(s,"");y(I),j(1),h(!0)},[t]),K=d.useCallback(()=>{h(!1)},[]);d.useEffect(()=>{if(f){if(E!=="inputs"){J([]);return}(async()=>{try{const A=await Vo({subfolder:"",page:1,perPage:0,exts:""});J((A.items||[]).filter(I=>I.is_dir))}catch{}})()}},[f,E]),d.useEffect(()=>{if(!f)return;let A=!1;async function I(){O(!0);try{if(E==="outputs"){const Q=await Kp(x,S,g);if(A)return;const X=Dy(Q&&Q.items||[]);A||(w(X),M(Q&&Q.total_pages||1))}else{const X=await Vo({subfolder:x,page:S,perPage:g,exts:U?Xp:""}),re=(X.items||[]).some(se=>!se.is_dir);if(U&&!re){const se=await Vo({subfolder:x,page:S,perPage:g,exts:""});A||(w(Bc(se.items||[])),M(se.total_pages||1),C(!1));return}A||(w(Bc(X.items||[])),M(X.total_pages||1))}}catch(Q){console.error(E==="outputs"?"Failed to load output directory":"Failed to load input directory",Q),A||(w([]),M(1))}finally{A||O(!1)}}return I(),()=>{A=!0}},[f,x,S,g,U,E]);const _=d.useMemo(()=>{const A=V.trim().toLowerCase();let I=v;return U&&(I=I.filter(Q=>{if(Q.is_dir)return!0;const X=Q.name||Q.filename||Q.rel_path||"";return au(String(X))})),A?I.filter(Q=>(Q.name||Q.filename||Q.rel_path||"").toLowerCase().includes(A)):I},[v,V,U]),N=d.useCallback(A=>{if(!A)return;const I=typeof A=="object"?A:null;if(((I==null?void 0:I.source)||"inputs")==="output"){const se=My({subfolder:(I==null?void 0:I.subfolder)||"",filename:(I==null?void 0:I.filename)||(I==null?void 0:I.name)||""});if(!se)return;const xe=(I==null?void 0:I.preview_url)||Ds({filename:I==null?void 0:I.filename,subfolder:I==null?void 0:I.subfolder,type:I==null?void 0:I.type});u(xe),p(!1),kn.set(s,fo((I==null?void 0:I.subfolder)||"")),l==="CozyGenImageInput"?n(r,se):n(r,{source:"OutputGallery",path:se,url:xe}),h(!1);return}const X=typeof A=="string"?A:(I==null?void 0:I.rel_path)||(I==null?void 0:I.path)||"";if(!X)return;const re=(I==null?void 0:I.preview_url)||zs(X);u(re),p(!1),kn.set(s,Ja(X)),l==="CozyGenImageInput"?n(r,X):n(r,{source:"Server",path:X,url:re}),h(!1)},[l,n,r]);return{param:r,previewUrl:i,imgReady:c,setImgReady:p,displayName:$,serverOpen:f,openServer:L,closeServer:K,cwd:x,setCwd:y,page:S,setPage:j,perPage:g,setPerPage:m,totalPages:b,loading:T,search:V,setSearch:B,topDirs:G,imagesOnly:U,setImagesOnly:C,shownEntries:_,pickerSource:E,setPickerSource:k,handleUpload:z,clearImage:R,selectServer:N}}function uu({open:e,cwd:t,setCwd:n,page:r,setPage:l,perPage:s,setPerPage:a,totalPages:i,topDirs:u,loading:c,imagesOnly:p,setImagesOnly:f,search:h,setSearch:x,shownEntries:y,onSelect:S,onClose:j,pickerSource:g,setPickerSource:m}){if(d.useEffect(()=>{if(!e)return;const O=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=O}},[e]),!e)return null;const v=g||"inputs",w=typeof m=="function",b=()=>{n(""),l(1)},M=O=>{w&&O!==v&&(m(O),n(""),l(1))},T=t.split("/").filter(Boolean);return o.jsxs("div",{className:"fixed inset-0 z-40",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:j}),o.jsx("div",{className:"relative w-full h-full sm:h-[90vh] sm:max-w-5xl sm:mx-auto sm:mt-8",children:o.jsxs("div",{className:"flex flex-col w-full h-full rounded-none sm:rounded-3xl border border-[#3D4270] bg-[#050716] shadow-[0_0_40px_rgba(0,0,0,0.9)] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-3 px-3 sm:px-4 py-2 sm:py-3 border-b border-[#3D4270] bg-[#050716F2]",children:[o.jsx("button",{type:"button",className:"text-[11px] sm:text-xs font-medium tracking-[0.16em] uppercase text-[#9CF7FF] hover:text-[#FFFFFF]",onClick:j,children:"Close"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] tracking-[0.18em] uppercase text-[#9DA3FFCC]",children:v==="outputs"?"Output Browser":"Input Browser"}),o.jsxs("div",{className:"mt-1 text-[10px] text-[#C3C7FF] overflow-x-auto whitespace-nowrap no-scrollbar",children:[o.jsx("button",{type:"button",className:"hover:text-[#FFFFFF]",onClick:b,children:"/"}),T.map((O,V)=>{const B=T.slice(0,V+1).join("/");return o.jsxs("span",{children:[o.jsx("span",{className:"mx-1 text-[#555A96]",children:"/"}),o.jsx("button",{type:"button",className:"hover:text-[#FFFFFF]",onClick:()=>{n(B),l(1)},children:O})]},B)})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3",children:[w&&o.jsxs("div",{className:"inline-flex rounded-full border border-[#3D4270] bg-[#050716] p-[2px] text-[10px]",children:[o.jsx("button",{type:"button",className:`px-3 py-1 rounded-full tracking-[0.14em] uppercase ${v==="inputs"?"bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)] text-[#050716]":"text-[#C3C7FF] hover:text-[#FFFFFF]"}`,onClick:()=>M("inputs"),children:"Inputs"}),o.jsx("button",{type:"button",className:`px-3 py-1 rounded-full tracking-[0.14em] uppercase ${v==="outputs"?"bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)] text-[#050716]":"text-[#C3C7FF] hover:text-[#FFFFFF]"}`,onClick:()=>M("outputs"),children:"Outputs"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsxs("label",{className:"inline-flex items-center gap-1.5",children:[o.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 accent-[#3EF0FF]",checked:p,onChange:O=>{f(O.target.checked),l(1)}}),o.jsx("span",{className:"text-[10px] sm:text-[11px] text-[#9DA3FFCC]",children:"Images only"})]}),o.jsx("input",{type:"search",value:h,onChange:O=>x(O.target.value),placeholder:"Search",className:"w-28 sm:w-44 rounded-full border border-[#3D4270] bg-[#050716] px-3 py-1.5 text-[11px] text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]"}),o.jsxs("select",{className:"rounded-full border border-[#3D4270] bg-[#050716] px-2.5 py-1.5 text-[11px] text-[#C3C7FF]",value:s,onChange:O=>{const V=parseInt(O.target.value,10)||50;a(V),l(1)},children:[o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[o.jsx("button",{type:"button",className:"px-2.5 py-1 rounded-full border border-[#3D4270] bg-[#050716] text-[11px] text-[#C3C7FF] hover:bg-[#111325] disabled:opacity-40",disabled:r<=1||c,onClick:()=>l(O=>Math.max(1,O-1)),children:""}),o.jsxs("span",{className:"text-[11px] text-[#9DA3FFCC]",children:[r," / ",i]}),o.jsx("button",{type:"button",className:"px-2.5 py-1 rounded-full border border-[#3D4270] bg-[#050716] text-[11px] text-[#C3C7FF] hover:bg-[#111325] disabled:opacity-40",disabled:r>=i||c,onClick:()=>l(O=>O<i?O+1:O),children:""})]})]})]}),u.length>0&&o.jsxs("div",{className:"px-3 sm:px-4 py-2 border-b border-[#3D4270] flex gap-2 overflow-x-auto no-scrollbar",children:[o.jsx("button",{type:"button",className:`px-3 py-1.5 rounded-full text-[11px] font-medium tracking-[0.16em] uppercase ${t===""?"bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)] text-[#050716]":"border border-[#3D4270] bg-[#050716] text-[#C3C7FF] hover:border-[#3EF0FF80]"}`,onClick:b,children:"Root"}),u.map(O=>o.jsx("button",{type:"button",className:`px-3 py-1.5 rounded-full text-[11px] font-medium tracking-[0.16em] uppercase ${t===O.rel_path?"bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)] text-[#050716]":"border border-[#3D4270] bg-[#050716] text-[#C3C7FF] hover:border-[#3EF0FF80]"}`,onClick:()=>{n(O.rel_path),l(1)},children:O.name},O.rel_path))]}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-auto p-3 sm:p-4",children:[c&&o.jsxs("div",{className:"py-10 text-center text-[11px] text-[#9DA3FFCC]",children:["Scanning ",v==="outputs"?"output":"input"," folders"]}),!c&&y.length===0&&o.jsx("div",{className:"py-10 text-center text-[11px] text-[#9DA3FFCC]",children:"Nothing here yet. Try a different folder or turn off Images only."}),o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:!c&&y.map(O=>{const V=`${O.source||"input"}::${O.rel_path||O.name}`,B=O.is_dir?"":O.preview_url||(O.source==="output"?Ds({filename:O.filename,subfolder:O.subfolder,type:O.type}):zs(O.rel_path||""));return o.jsx("button",{type:"button",className:"text-left rounded-xl border border-[#3D4270] bg-[#050716] px-2.5 py-2 transition hover:border-[#3EF0FF80]",onClick:()=>{O.is_dir?(n(O.rel_path||""),l(1)):S(O)},children:O.is_dir?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-7 w-7 rounded-xl bg-[radial-gradient(circle_at_0%_0%,#3EF0FF,transparent_55%),radial-gradient(circle_at_100%_100%,#FF60D0,transparent_55%)] opacity-90"}),o.jsx("div",{className:"text-[11px] text-[#E5E7FF] truncate",children:O.name})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"aspect-square w-full rounded-lg overflow-hidden mb-2 bg-[#111325] flex items-center justify-center",children:B?o.jsx("img",{className:"w-full h-full object-cover",alt:O.name,src:B}):o.jsx("div",{className:"w-full h-full bg-[#1b1f3b]"})}),o.jsx("div",{className:"text-[10px] text-[#C3C7FF] truncate",children:O.name})]})},V)})})]}),o.jsxs("div",{className:"sm:hidden border-t border-[#3D4270] px-3 py-2 flex items-center justify-between text-[10px] text-[#9DA3FFCC]",children:[o.jsxs("span",{children:["Page ",r," / ",i]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",className:"px-2 py-1 rounded-full border border-[#3D4270] bg-[#050716] hover:bg-[#111325] disabled:opacity-40",disabled:r<=1||c,onClick:()=>l(O=>Math.max(1,O-1)),children:""}),o.jsx("button",{type:"button",className:"px-2 py-1 rounded-full border border-[#3D4270] bg-[#050716] hover:bg-[#111325] disabled:opacity-40",disabled:r>=i||c,onClick:()=>l(O=>O<i?O+1:O),children:""})]})]})]})})]})}function $y({input:e,value:t,onFormChange:n}){const{previewUrl:r,imgReady:l,setImgReady:s,displayName:a,serverOpen:i,openServer:u,closeServer:c,cwd:p,setCwd:f,page:h,setPage:x,perPage:y,setPerPage:S,totalPages:j,topDirs:g,loading:m,search:v,setSearch:w,imagesOnly:b,setImagesOnly:M,shownEntries:T,pickerSource:O,setPickerSource:V,handleUpload:B,clearImage:G,selectServer:J}=iu({input:e,value:t,onFormChange:n}),U=d.useRef(null),C=d.useRef(null),[P,W]=d.useState(0);d.useEffect(()=>{const $=C.current;if(!$)return;const z=L=>{L.preventDefault(),L.stopPropagation()},R=async L=>{var _,N;z(L);const K=(N=(_=L.dataTransfer)==null?void 0:_.files)==null?void 0:N[0];K&&(await B(K),U.current&&(U.current.value=""),W(F=>F+1))};return["dragenter","dragover","dragleave","drop"].forEach(L=>$.addEventListener(L,L==="drop"?R:z)),()=>{["dragenter","dragover","dragleave","drop"].forEach(L=>$.removeEventListener(L,L==="drop"?R:z))}},[B]);const E=async $=>{var R;const z=(R=$.target.files)==null?void 0:R[0];z&&(await B(z),U.current&&(U.current.value=""),W(L=>L+1))},k=()=>{U.current&&U.current.click()};return o.jsxs("div",{className:"asset-card",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[o.jsx("h3",{className:"text-sm font-semibold text-[#F8F4FF] truncate",children:a}),o.jsx("span",{className:"text-[11px] text-[#C3C7FFB3] truncate",children:"Image"})]}),o.jsx("div",{ref:C,className:"mb-3 rounded-xl border border-dashed border-[#3D4270] bg-[#0b1226] flex items-center justify-center min-h-[140px] sm:min-h-[180px] overflow-hidden",children:r?o.jsx("img",{src:r,alt:a,className:`max-h-64 max-w-full object-contain transition-opacity ${l?"opacity-100":"opacity-0"}`,onLoad:()=>s(!0)}):o.jsx("div",{className:"text-[11px] text-[#9DA3FFCC] text-center px-6",children:"Drop an image here, upload from your device, or choose one from your server."})}),o.jsx("input",{ref:U,type:"file",accept:"image/*",className:"hidden",onChange:E},P),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("button",{type:"button",className:"ui-button is-primary is-compact",onClick:u,children:"Choose"}),o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:k,children:"Upload"}),o.jsx("button",{type:"button",className:"ui-button is-ghost is-compact",onClick:G,children:"Clear"})]}),o.jsx(uu,{open:i,cwd:p,setCwd:f,page:h,setPage:x,perPage:y,setPerPage:S,totalPages:j,topDirs:g,loading:m,imagesOnly:b,setImagesOnly:M,search:v,setSearch:w,shownEntries:T,pickerSource:O,setPickerSource:V,onSelect:J,onClose:c})]})}function Uy({open:e,onClose:t,title:n,description:r,render:l,index:s=0,total:a=0,children:i}){const[u,c]=d.useState("idle");if(d.useEffect(()=>{if(u==="queued"){const f=setTimeout(()=>c("idle"),1600);return()=>clearTimeout(f)}},[u]),!e)return null;const p=typeof l=="function"?l():i;return o.jsxs("div",{className:"spotlight-overlay",role:"dialog","aria-modal":"true",children:[o.jsx("div",{className:"spotlight-backdrop",onClick:t}),o.jsxs("div",{className:"spotlight-sheet",children:[o.jsxs("div",{className:"spotlight-header",children:[o.jsxs("div",{className:"spotlight-meta",children:[o.jsx("div",{className:"spotlight-kicker",children:"Focused control"}),o.jsx("div",{className:"spotlight-title",children:n||"Control"}),r?o.jsx("div",{className:"spotlight-hint",children:r}):null]}),o.jsx("button",{type:"button",className:"spotlight-close",onClick:t,"aria-label":"Close",children:""})]}),o.jsx("div",{className:"spotlight-body",children:p}),o.jsx("div",{className:"spotlight-footer",children:o.jsx("div",{className:"spotlight-footer-right",children:o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:t,"aria-label":"Close",children:"Close"})})})]})]})}function Wc({name:e,label:t,description:n,value:r,onChange:l,onEnter:s,disabled:a=!1,multiline:i=!1,aliasOptions:u=[],aliasCatalog:c=[]}){const p=d.useRef(null),f=d.useRef(null),h=d.useRef(null),[x,y]=d.useState(!1),[S,j]=d.useState(""),[g,m]=d.useState("All"),[v,w]=d.useState("All"),[b]=d.useState([]),[M,T]=d.useState([]),O=d.useRef(null);d.useMemo(()=>Array.isArray(u)?u.filter(Boolean):[],[u]);const V=d.useMemo(()=>Array.isArray(c)?c.filter(_=>_&&_.name):[],[c]),B=d.useMemo(()=>V.map(_=>{const N=_.name||"",F=_.token||N,A=F.includes(":")?F.split(":")[1]:F,I=A.split("_").filter(Boolean),Q=I.length>0?I[0]:"other",re=(I.length>1?I.slice(1):[]).map(ke=>ke.charAt(0).toUpperCase()+ke.slice(1)).join(" ").trim(),se=I.map(ke=>ke.charAt(0).toUpperCase()+ke.slice(1)).join(" ").trim(),xe=Q.charAt(0).toUpperCase()+Q.slice(1),Fe=re?`${xe} - ${re}`:se||A||N;return{..._,subcategory:Q,displayName:Fe}}),[V]),G=_=>{const N=_.target.value;l==null||l(N),P(N)},J=_=>{if(!i&&_.key==="Enter"){_.preventDefault(),s==null||s(_.target.value,_);return}};d.useEffect(()=>{if(!i)return;const _=p.current;if(!_)return;const N=()=>{_.style.height="auto",_.style.height=`${Math.min(_.scrollHeight,320)}px`};N();const F=new MutationObserver(N);return F.observe(_,{characterData:!0,subtree:!0}),()=>F.disconnect()},[r,i]);const U=d.useMemo(()=>{const _=new Set(["All"]);return V.forEach(N=>{N.category&&_.add(N.category)}),Array.from(_).sort((N,F)=>N.localeCompare(F))},[V]),C=d.useMemo(()=>{const _=new Set(["All"]);return B.forEach(N=>{(!g||g==="All"||N.category===g)&&N.subcategory&&_.add(N.subcategory)}),Array.from(_).sort((N,F)=>N.localeCompare(F))},[B,g]),P=_=>{if(typeof _!="string"){T([]);return}const N=[],F=/\$([a-z0-9_:-]+)\$/gi;let A;for(;A=F.exec(_);)N.push({token:A[1],index:A.index,length:A[0].length});T(N)};d.useEffect(()=>{P(r||"")},[r]),d.useEffect(()=>{x&&O.current&&requestAnimationFrame(()=>{var _;return(_=O.current)==null?void 0:_.focus({preventScroll:!0})})},[x]),d.useEffect(()=>{const _=document.body;if(x&&_){const N=window.scrollY||window.pageYOffset;h.current=N,_.style.position="fixed",_.style.top=`-${N}px`,_.style.left="0",_.style.right="0",_.style.width="100%"}else if(!x&&_&&h.current!==null){const N=h.current;_.style.position="",_.style.top="",_.style.left="",_.style.right="",_.style.width="",window.scrollTo({top:N,behavior:"auto"}),h.current=null}},[x]);const W=()=>{f.current&&f.current.scrollIntoView({block:"center",behavior:"smooth"}),y(!0)},E=d.useMemo(()=>{const _=S.trim().toLowerCase();return B.filter(N=>{var F,A,I;return g!=="All"&&(N.category||"")!==g||v!=="All"&&(N.subcategory||"other")!==v?!1:_?((F=N.token)==null?void 0:F.toLowerCase().includes(_))||((A=N.text)==null?void 0:A.toLowerCase().includes(_))||((I=N.name)==null?void 0:I.toLowerCase().includes(_)):!0}).sort((N,F)=>{const A=(N.subcategory||"").toLowerCase(),I=(F.subcategory||"").toLowerCase();return A!==I?A.localeCompare(I):N.token.localeCompare(F.token)})},[B,g,v,S]),[k,$]=d.useState(30),z=d.useMemo(()=>E.slice(0,k),[E,k]);d.useEffect(()=>{$(30)},[g,v,S,V]),d.useEffect(()=>{w("All")},[g]);const R=_=>{const N=p.current,F=`$${_}$`,A=r||"",I=(N==null?void 0:N.selectionStart)??A.length,Q=(N==null?void 0:N.selectionEnd)??A.length,X=A.slice(0,I),re=A.slice(Q),se=X.match(/[^\s]$/),xe=re.match(/^[^\s]/),Fe=se&&se[0]!==","?", ":"",ke=xe&&xe[0]!==","?", ":"",_t=X+Fe+F+ke+re;l==null||l(_t);const Ft=(X+Fe+F+ke).length;requestAnimationFrame(()=>{N&&(N.focus(),N.setSelectionRange(Ft,Ft))}),y(!1)},L=_=>{const N=r||"",F=_.index,A=_.index+_.length,I=N.slice(0,F).replace(/[\s,]*$/,""),Q=N.slice(A).replace(/^[\s,]*/,""),X=I?`${I} ${Q}`.trim():Q.trim();l==null||l(X)},K={id:e,name:e,value:r??"",onChange:G,disabled:a,className:"w-full rounded-xl border border-[#2A2E4A] bg-[#050716] px-3 py-2.5 pr-10 text-[13px] sm:text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] transition-shadow shadow-[0_0_18px_rgba(5,7,22,0.7)]",placeholder:"","aria-label":t||e,"aria-describedby":n?`${e}-description`:void 0};return i?o.jsxs("div",{className:"relative space-y-2",ref:f,children:[o.jsx("textarea",{ref:p,...K,rows:3,wrap:"soft",onKeyDown:J,className:K.className+" resize-y min-h-[88px] max-h-[320px] leading-relaxed overflow-y-auto overflow-x-hidden break-words whitespace-pre-wrap",style:{whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"}}),M.length?o.jsx("div",{className:"flex flex-wrap gap-1",children:M.map(_=>o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-[#0F1A2F] border border-[#2A2E4A] px-2 py-1 text-[11px] text-[#E5E7FF]",onClick:()=>{const N=_.index,F=_.index+_.length,A=p.current;A&&(A.focus(),A.setSelectionRange(N,F)),W()},children:["$",_.token,"$",o.jsx("button",{type:"button",className:"text-[#FF8F70]",onClick:N=>{N.stopPropagation(),L(_)},"aria-label":`Remove ${_.token}`,children:""})]},`${_.token}-${_.index}`))}):null,V.length?o.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 rounded-lg border border-[#2A2E4A] bg-[#0F1A2F] text-sm text-[#E5E7FF] shadow-sm hover:border-[#5EF1D4] transition",onClick:()=>W(),title:"Insert alias",children:""}):null,x?o.jsxs("div",{className:"fixed inset-0 z-50 sm:z-40 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>y(!1)}),o.jsxs("div",{className:"relative w-full max-w-xl mx-3 sm:mx-0 bg-[#0B1226] border border-[#2A2E4A] rounded-2xl shadow-[0_20px_50px_rgba(4,7,16,0.45)] p-3 sm:p-4 space-y-3 h-[70vh] max-h-[80vh] flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold text-[#E5E7FF]",children:"Alias picker"}),o.jsx("button",{type:"button",className:"text-xs text-[#E5E7FF] underline",onClick:()=>y(!1),children:"Close"})]}),o.jsxs("div",{className:"flex flex-col gap-3 flex-1 min-h-0",children:[o.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:["All",...U.filter(_=>_!=="All")].map(_=>o.jsx("button",{type:"button",onClick:()=>m(_),className:`flex-shrink-0 rounded-full border px-3 py-1 text-[12px] ${g===_?"border-[#5EF1D4] bg-[#0F1A2F]":"border-[#1D2440] bg-[#0A1022] hover:border-[#2A2E4A]"} text-[#E5E7FF] transition`,children:_==="All"?"All Aliases":_},`cat-${_}`))}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 flex-wrap",children:[o.jsx("div",{className:"flex-1 min-w-[160px] w-full",children:o.jsx("input",{ref:O,type:"text",value:S,onChange:_=>j(_.target.value),placeholder:"Search aliases",className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]"})}),o.jsxs("label",{className:"flex sm:flex-row flex-col sm:items-center gap-1 text-[12px] text-[#7F91B6]",children:[o.jsx("span",{children:"Subcategory"}),o.jsx("select",{value:v,onChange:_=>w(_.target.value),className:"h-9 rounded-lg border border-[#2A2E4A] bg-[#0C1222] px-2 text-sm text-[#E5E7FF] focus:outline-none",children:C.map(_=>o.jsx("option",{value:_,children:_==="All"?"All subcategories":_},_))})]})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain pr-1 space-y-1",children:E.length===0?o.jsx("div",{className:"text-[12px] text-[#A9B6D9]",children:"No aliases found."}):o.jsxs(o.Fragment,{children:[z.map(_=>o.jsxs("button",{type:"button",onClick:()=>R(_.token),className:"w-full text-left rounded-lg border border-[#1D2440] bg-[#0C1222] px-3 py-2 hover:border-[#5EF1D4] transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"text-[13px] font-semibold text-[#E5E7FF] truncate",children:_.displayName||_.token}),_.category?o.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#0F1A2F] border border-[#2A2E4A] text-[#7F91B6]",children:_.category}):null]}),o.jsxs("div",{className:"text-[11px] text-[#7F91B6] truncate",children:["$",_.token,"$"]}),o.jsx("div",{className:"text-[11px] text-[#A9B6D9] line-clamp-2",children:_.text})]},_.key)),k<E.length?o.jsx("div",{className:"flex justify-center py-2",children:o.jsxs("button",{type:"button",onClick:()=>$(_=>Math.min(_+30,E.length)),className:"px-3 py-1 rounded-md border border-[#2A2E4A] bg-[#0F1A2F] text-[12px] text-[#E5E7FF] hover:border-[#5EF1D4] transition",children:["Show more (",E.length-k," left)"]})}):null]})})]})]})]}):null]}):o.jsxs("div",{className:"relative space-y-2",ref:f,children:[o.jsx("input",{...K,type:"text",inputMode:"text",autoComplete:"off",onKeyDown:J,className:K.className+" min-h-[44px]",ref:p}),M.length?o.jsx("div",{className:"flex flex-wrap gap-1",children:M.map(_=>o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-[#0F1A2F] border border-[#2A2E4A] px-2 py-1 text-[11px] text-[#E5E7FF]",onClick:()=>{const N=_.index,F=_.index+_.length,A=p.current;A&&(A.focus(),A.setSelectionRange(N,F)),W()},children:["$",_.token,"$",o.jsx("button",{type:"button",className:"text-[#FF8F70]",onClick:N=>{N.stopPropagation(),L(_)},"aria-label":`Remove ${_.token}`,children:""})]},`${_.token}-${_.index}`))}):null,V.length?o.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 rounded-lg border border-[#2A2E4A] bg-[#0F1A2F] text-sm text-[#E5E7FF] shadow-sm hover:border-[#5EF1D4] transition",onClick:()=>W(),title:"Insert alias",children:""}):null,x?o.jsxs("div",{className:"fixed inset-0 z-50 sm:z-40 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>y(!1)}),o.jsxs("div",{className:"relative w-full max-w-xl mx-3 sm:mx-0 bg-[#0B1226] border border-[#2A2E4A] rounded-2xl shadow-[0_20px_50px_rgba(4,7,16,0.45)] p-3 sm:p-4 space-y-3 h-[70vh] max-h-[80vh] flex flex-col min-h-0",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold text-[#E5E7FF]",children:"Alias picker"}),o.jsx("button",{type:"button",className:"text-xs text-[#E5E7FF] underline",onClick:()=>y(!1),children:"Close"})]}),o.jsxs("div",{className:"flex flex-col gap-3 flex-1 min-h-0",children:[o.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:["All",...U.filter(_=>_!=="All")].map(_=>o.jsx("button",{type:"button",onClick:()=>m(_),className:`flex-shrink-0 rounded-full border px-3 py-1 text-[12px] ${g===_?"border-[#5EF1D4] bg-[#0F1A2F]":"border-[#1D2440] bg-[#0A1022] hover:border-[#2A2E4A]"} text-[#E5E7FF] transition`,children:_==="All"?"All Aliases":_},`cat-${_}`))}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 flex-wrap",children:[o.jsx("div",{className:"flex-1 min-w-[160px]",children:o.jsx("input",{ref:O,type:"text",value:S,onChange:_=>j(_.target.value),placeholder:"Search aliases",className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]"})}),o.jsxs("label",{className:"flex sm:flex-row flex-col sm:items-center gap-1 text-[12px] text-[#7F91B6]",children:[o.jsx("span",{children:"Subcategory"}),o.jsx("select",{value:v,onChange:_=>w(_.target.value),className:"h-9 rounded-lg border border-[#2A2E4A] bg-[#0C1222] px-2 text-sm text-[#E5E7FF] focus:outline-none",children:C.map(_=>o.jsx("option",{value:_,children:_==="All"?"All subcategories":_},_))})]})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain pr-1 space-y-1",children:E.length===0?o.jsx("div",{className:"text-[12px] text-[#A9B6D9]",children:"No aliases found."}):o.jsxs(o.Fragment,{children:[z.map(_=>o.jsxs("button",{type:"button",onClick:()=>R(_.token),className:"w-full text-left rounded-lg border border-[#1D2440] bg-[#0C1222] px-3 py-2 hover:border-[#5EF1D4] transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"text-[13px] font-semibold text-[#E5E7FF] truncate",children:_.displayName||_.token}),_.category?o.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#0F1A2F] border border-[#2A2E4A] text-[#7F91B6]",children:_.category}):null]}),o.jsxs("div",{className:"text-[11px] text-[#7F91B6] truncate",children:["$",_.token,"$"]}),o.jsx("div",{className:"text-[11px] text-[#A9B6D9] line-clamp-2",children:_.text})]},_.key)),k<E.length?o.jsx("div",{className:"flex justify-center py-2",children:o.jsxs("button",{type:"button",onClick:()=>$(_=>Math.min(_+30,E.length)),className:"px-3 py-1 rounded-md border border-[#2A2E4A] bg-[#0F1A2F] text-[12px] text-[#E5E7FF] hover:border-[#5EF1D4] transition",children:["Show more (",E.length-k," left)"]})}):null]})})]})]})]}):null]})}const Vc=e=>e==null?void 0:String(e).trim().replace(/[^A-Za-z0-9_-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||void 0;function Zr({name:e,label:t,description:n,value:r,onChange:l,disabled:s=!1,min:a,max:i,step:u,isFloat:c=!1,inputId:p}){const f=u??(c?.01:1),h=p??Vc(e),x=j=>{if(j===""||j===null||j===void 0)return"";const g=c?parseFloat(j):parseInt(j,10);return Number.isNaN(g)?"":g},y=j=>{const g=j.target.value,m=x(g);l==null||l(m)},S=j=>{if(j.key!=="ArrowUp"&&j.key!=="ArrowDown")return;j.preventDefault();const g=typeof r=="number"?r:x(String(r??""))||0,m=j.key==="ArrowUp"?f:-f;let v=g+m;if(typeof a=="number"&&(v=Math.max(a,v)),typeof i=="number"&&(v=Math.min(i,v)),c){const w=typeof f=="number"?(String(f).split(".")[1]||"").length:2;v=parseFloat(v.toFixed(Math.max(w,2)))}l==null||l(v)};return o.jsxs("div",{className:"w-full flex items-center gap-2",children:[o.jsx("input",{id:h,name:e,type:"number",inputMode:c?"decimal":"numeric",value:r??"",onChange:y,onKeyDown:S,disabled:s,min:a,max:i,step:f,"aria-label":t||e,"aria-describedby":n?`${h||Vc(e)||e}-description`:void 0,className:"w-full rounded-xl border border-[#2A2E4A] bg-[#050716] px-3 py-2.5 text-[13px] sm:text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] transition-shadow shadow-[0_0_18px_rgba(5,7,22,0.7)]"}),typeof a=="number"||typeof i=="number"?o.jsxs("div",{className:"hidden sm:flex flex-col text-[10px] text-[#6A6FA8] text-right leading-tight",children:[typeof a=="number"&&o.jsxs("span",{children:["min ",a]}),typeof i=="number"&&o.jsxs("span",{children:["max ",i]})]}):null]})}function Hc({name:e,label:t,description:n,value:r,onChange:l,disabled:s=!1}){const a=!!r,i=()=>{s||l==null||l(!a)},u=c=>{(c.key===" "||c.key==="Enter")&&(c.preventDefault(),i())};return o.jsxs("button",{id:e,type:"button",role:"switch","aria-checked":a,"aria-label":t||e,"aria-describedby":n?`${e}-description`:void 0,onClick:i,onKeyDown:u,disabled:s,className:"inline-flex items-center justify-between gap-2 rounded-full border border-[#3D4270] bg-[#050716] px-2.5 py-1.5 text-[10px] sm:text-[11px] text-[#C3C7FF] transition-colors shadow-[0_0_16px_rgba(5,7,22,0.9)] "+(a?"bg-[radial-gradient(circle_at_0%_0%,#3EF0FF,transparent_60%),radial-gradient(circle_at_100%_100%,#FF60D0,transparent_60%)] text-[#050716]":"hover:border-[#3EF0FF80]"),children:[o.jsx("span",{className:"relative inline-flex h-4 w-8 items-center rounded-full "+(a?"bg-[#3EF0FF]":"bg-[#2A2E4A]"),children:o.jsx("span",{className:"h-3 w-3 rounded-full bg-[#050716] shadow-[0_0_6px_rgba(0,0,0,0.6)] transform transition-transform "+(a?"translate-x-[14px]":"translate-x-[2px]")})}),o.jsx("span",{className:"uppercase tracking-[0.16em]",children:a?"TRUE":"FALSE"})]})}function Xa({name:e,label:t,description:n,value:r,onChange:l,disabled:s=!1,options:a=[]}){const[i,u]=d.useState("All"),c=d.useMemo(()=>(a||[]).map(y=>typeof y=="string"?{value:y,label:y}:{value:y.value??y.name??"",label:y.label??y.name??String(y.value??"")}),[a]),p=(y="")=>{if(typeof y!="string")return"Other";if(!y.includes("/"))return"root";const S=y.split("/");return S.slice(0,S.length-1).join("/")||"root"},f=d.useMemo(()=>{const y=new Set(["All"]);return c.forEach(S=>y.add(p(S.label))),Array.from(y).sort((S,j)=>S.localeCompare(j))},[c]),h=d.useMemo(()=>{const y=S=>S.replace(/\.[^.]+$/,"");return c.filter(S=>{const j=p(S.label);return i==="All"||j===i}).map(S=>{if(i==="All")return S;const j=(S.label||"").split("/"),g=y(j[j.length-1]||S.label);return{...S,label:g}}).sort((S,j)=>S.label.localeCompare(j.label))},[c,i]),x=y=>{l==null||l(y.target.value)};return o.jsxs("div",{className:"relative w-full space-y-2",children:[o.jsx("select",{value:i,onChange:y=>u(y.target.value),className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-[13px] sm:text-sm text-[#E5E7FF] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] transition-shadow shadow-[0_0_12px_rgba(5,7,22,0.6)]","aria-label":`Choose folder for ${t||e}`,children:f.map(y=>o.jsx("option",{value:y,children:y},y))}),o.jsxs("select",{id:e,name:e,value:r??"",onChange:x,disabled:s,"aria-label":t||e,"aria-describedby":n?`${e}-description`:void 0,className:"w-full rounded-xl border border-[#2A2E4A] bg-[#050716] px-3 py-2.5 pr-8 text-[13px] sm:text-sm text-[#E5E7FF] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] appearance-none transition-shadow shadow-[0_0_18px_rgba(5,7,22,0.7)]",children:[h.length>0&&(r===void 0||r==="")&&o.jsx("option",{value:"",children:"Select"}),h.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value)),h.length===0&&o.jsx("option",{value:"",children:"No matches"})]}),o.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center",children:o.jsx("span",{className:"inline-block h-[6px] w-[10px] border-x-[5px] border-t-[6px] border-x-transparent border-t-[#9CF7FF]"})})]})}function Gc(e=[]){return e.map(t=>typeof t=="string"?{value:t,label:t}:{value:t.value??t.name??"",label:t.label??t.name??String(t.value??"")})}function Kc(e,t){if(!e)return null;const n=String(e);if(t==="high"){const r=n.match(/(.+)-high(\.[^.]*)?$/i);return r?r[1]:null}if(t==="low"){const r=n.match(/(.+)-low(\.[^.]*)?$/i);return r?r[1]:null}return null}function By(e){return e?e.replace(/[_-]+/g," ").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase()):""}const Wy=(...e)=>e.flat().map(n=>String(n??"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")).filter(Boolean).join("-")||"field";function Za({name:e,label:t,description:n,highParam:r,lowParam:l,highChoices:s=[],lowChoices:a=[],formData:i={},onChangeParam:u,highStrengthParam:c,lowStrengthParam:p,strengthValue:f,onChangeStrength:h,highStrengthValue:x,lowStrengthValue:y,onChangeHighStrength:S,onChangeLowStrength:j,disabled:g=!1}){const m=d.useMemo(()=>Gc(s),[s]),v=d.useMemo(()=>Gc(a),[a]),w=d.useMemo(()=>{const F=new Map;v.forEach(I=>{const Q=Kc(I.value,"low");Q&&(F.has(Q)||F.set(Q,I))});const A=[];return m.forEach(I=>{const Q=Kc(I.value,"high");if(!Q)return;const X=F.get(Q);X&&A.push({base:Q,label:By(Q),highValue:I.value,lowValue:X.value})}),A.sort((I,Q)=>I.label.localeCompare(Q.label)),A},[m,v]),b=d.useMemo(()=>{const F=i[r],A=i[l];if(!F||!A)return"";const I=w.find(Q=>Q.highValue===F&&Q.lowValue===A);return I?I.base:""},[i,r,l,w]),M=c||p||`${e}_strength`,T=d.useMemo(()=>Wy(e||"lora",M||"strength"),[e,M]),O=!!(c||p),V=!!(c&&p),B=(F,A=1)=>typeof F=="number"?F:A,G=B(typeof f=="number"?f:typeof x=="number"?x:typeof y=="number"?y:void 0,1),J=B(typeof x=="number"?x:void 0,G),U=B(typeof y=="number"?y:void 0,V?G:J),C=V&&Math.abs(J-U)>1e-4,[P,W]=d.useState(C);d.useEffect(()=>{W(C)},[C,r,l]);const E=F=>{if(!u)return;const A=w.find(I=>I.base===F);A&&(u(r,A.highValue),u(l,A.lowValue))};if(w.length===0)return o.jsxs("div",{className:"text-[11px] text-[#9DA3FFCC]",children:["No matching ",o.jsx("span",{className:"font-semibold",children:"-high"})," /"," ",o.jsx("span",{className:"font-semibold",children:"-low"})," LoRA pairs found."]});const k=`${T}-linked`,$=`${T}-high`,z=`${T}-low`,R=V?"Linked":"Strength",L=V?"Applies to high + low":c||p||"",K=(F,A)=>{const I=Array.isArray(F)?F:[F];let Q=!1;I.forEach(X=>{if(X==="high"&&typeof S=="function"){S(A);return}if(X==="low"&&typeof j=="function"){j(A);return}typeof h=="function"&&!Q&&(h(A),Q=!0)})},_=F=>{(c||!c&&!p)&&K("high",F),p&&K("low",F)},N=()=>{V&&W(F=>{const A=!F;return A||_(typeof J=="number"?J:typeof U=="number"?U:G),A})};return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Xa,{name:`${e}_pair`,label:t,description:n,value:b||"",onChange:E,disabled:g,options:w.map(F=>({value:F.base,label:F.label}))}),O&&o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-[0.16em] text-[#9DA3FFCC]",children:"Strength"}),V&&o.jsx("button",{type:"button",className:"text-[10px] font-semibold tracking-[0.12em] uppercase text-[#E5E7FF]",onClick:N,disabled:g,children:P?"Link values":"Split values"})]}),P&&V?o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-3",children:[o.jsxs("div",{className:"flex-1 max-w-[220px]",children:[o.jsxs("label",{htmlFor:$,className:"lora-strength-label is-high",children:[o.jsx("span",{className:"lora-strength-label-pill",children:"High"}),o.jsxs("span",{className:"lora-strength-label-text",children:["High strength",c&&o.jsx("span",{className:"lora-strength-label-hint",children:c})]})]}),o.jsx(Zr,{name:`${M}_high`,label:"High strength",description:"",value:J,onChange:F=>K("high",F),disabled:g,isFloat:!0,min:0,max:2,step:.05,inputId:$})]}),o.jsxs("div",{className:"flex-1 max-w-[220px]",children:[o.jsxs("label",{htmlFor:z,className:"lora-strength-label is-low",children:[o.jsx("span",{className:"lora-strength-label-pill",children:"Low"}),o.jsxs("span",{className:"lora-strength-label-text",children:["Low strength",p&&o.jsx("span",{className:"lora-strength-label-hint",children:p})]})]}),o.jsx(Zr,{name:`${M}_low`,label:"Low strength",description:"",value:U,onChange:F=>K("low",F),disabled:g,isFloat:!0,min:0,max:2,step:.05,inputId:z})]})]}):o.jsxs("div",{className:"flex-1 max-w-[220px]",children:[o.jsxs("label",{htmlFor:k,className:"lora-strength-label is-linked",children:[o.jsx("span",{className:"lora-strength-label-pill",children:R}),o.jsxs("span",{className:"lora-strength-label-text",children:["LoRA strength",L&&o.jsx("span",{className:"lora-strength-label-hint",children:L})]})]}),o.jsx(Zr,{name:M,label:"LoRA strength",description:"",value:G,onChange:_,disabled:g,isFloat:!0,min:0,max:2,step:.05,inputId:k})]})]})]})}const Vy=16,Hy=[" - "," ","-","_"],tm=e=>[...new Set(e.filter(Boolean))],$s=(e,t)=>{const n=String(e||"").trim(),r=Hy.map(l=>`${n}${l}${t}`);return r.push(`${n}${t}`),tm(r)},Qc=(e,t)=>{const n=$s(`${e} Strength`,t),r=$s(e,t).map(l=>`${l} Strength`);return tm([...n,...r])},qc=e=>String(e||"").toLowerCase().replace(/[\s_-]+/g,""),sn=(e,t=[])=>{if(!e)return null;const n=Array.isArray(t)?t:[t];for(const l of n){if(!l)continue;const s=e.get(l);if(s)return{name:l,input:s}}const r=new Map;n.forEach(l=>{l&&r.set(qc(l),l)});for(const[l,s]of e.entries()){const a=qc(l);if(r.has(a))return{name:l,input:s}}return null},nm=Array.from({length:Vy},(e,t)=>{const n=t+1,r=$s("Lora High",n),l=$s("Lora Low",n),s=Qc("Lora High",n),a=Qc("Lora Low",n);return{id:`video_lora_${n}`,label:`Video LoRA ${n}`,highParam:r[0],lowParam:l[0],highParamAliases:r,lowParamAliases:l,highStrengthParam:s[0],lowStrengthParam:a[0],highStrengthParamAliases:s,lowStrengthParamAliases:a}});function Gy(e){var r,l;const t=((r=e==null?void 0:e.inputs)==null?void 0:r.param_type)||((l=e==null?void 0:e.inputs)==null?void 0:l.Param_type),n=String(t||"STRING").toUpperCase();return["NUMBER","FLOAT","INT"].includes(n)?"NUMBER":["BOOLEAN","BOOL"].includes(n)?"BOOLEAN":["DROPDOWN","CHOICE","SELECT"].includes(n)?"DROPDOWN":"STRING"}function Ky(e){const t=(e==null?void 0:e.inputs)||{};return t.label||t.display_name||t.title||t.param_name||(e==null?void 0:e.title)||(e==null?void 0:e.class_type)||"Parameter"}function Qy(e){const t=(e==null?void 0:e.inputs)||{};return t.description||t.help||t.tooltip||t.doc||""}function Nl(e){const t=(e==null?void 0:e.inputs)||{};return t.param_name||t.name||t.key||t.id||`param_${(e==null?void 0:e.id)||"unknown"}`}function on(e){const t=(e==null?void 0:e.inputs)||{},n=t.choices||t.options||[],r=t.default_value??t.value??t.default_choice??(n&&n.length?n[0]:"")??"";return{paramName:Nl(e),label:Ky(e),description:Qy(e),paramType:Gy(e),advancedOnly:!!t.advanced_only,multiline:!!t.multiline,min:typeof t.min=="number"?t.min:void 0,max:typeof t.max=="number"?t.max:void 0,step:typeof t.step=="number"?t.step:void 0,choices:n,defaultValue:r}}function qy({inputs:e=[],formData:t={},onFormChange:n,onParamEdited:r,onSpotlight:l,compactControls:s=!0,collapseAllKey:a=0,collapseAllCollapsed:i=!0,lastEditedParam:u="",spotlightName:c="",onCloseSpotlight:p=()=>{},onVisibleParamsChange:f=()=>{},aliasOptions:h=[],aliasCatalog:x=[]}){const[y,S]=d.useState({}),[j,g]=d.useState(0),m=d.useCallback((U,C)=>{if((U==null?void 0:U.paramType)==="BOOLEAN")return C?"On":"Off";if(C==null||C==="")return"Empty";if(typeof C=="string"){const P=C.trim();return P||"Empty"}return String(C)},[]),v=(U,C)=>{n&&(n(U,C),r==null||r(U),S(P=>({...P,[U]:!1})))},w=d.useCallback(U=>{U&&S(C=>({...C,[U]:!(C!=null&&C[U])}))},[]),b=d.useMemo(()=>e||[],[e]);d.useEffect(()=>{const U={};(e||[]).forEach(C=>{const P=Nl(C);P&&(U[P]=i)}),u&&(U[u]=!1),S(U)},[a,i,e,u]);const M=d.useMemo(()=>{const U=new Map;return(e||[]).forEach(C=>{const P=Nl(C);P&&U.set(P,C)}),U},[e]),T=d.useMemo(()=>{const U=[];return nm.forEach(C=>{const P=sn(M,C.highParamAliases||C.highParam),W=sn(M,C.lowParamAliases||C.lowParam);if(!P||!W)return;const E=P.input,k=W.input,$=on(E),z=on(k);if($.paramType!=="DROPDOWN"||z.paramType!=="DROPDOWN")return;const R=$.choices||[],L=z.choices||[];if(!R.length||!L.length)return;const K=sn(M,C.highStrengthParamAliases||C.highStrengthParam),_=sn(M,C.lowStrengthParamAliases||C.lowStrengthParam);U.push({...C,highParam:P.name,lowParam:W.name,highStrengthParam:K==null?void 0:K.name,lowStrengthParam:_==null?void 0:_.name,highInput:E,lowInput:k,highCfg:$,lowCfg:z})}),U},[M]),O=d.useMemo(()=>{const U=new Map;return T.forEach(C=>{U.set(C.highParam,C)}),U},[T]),V=d.useMemo(()=>{const U=new Set;return T.forEach(C=>{U.add(C.highParam),U.add(C.lowParam),C.highStrengthParam&&U.add(C.highStrengthParam),C.lowStrengthParam&&U.add(C.lowStrengthParam)}),U},[T]),B=d.useMemo(()=>{const U=[];return(b||[]).forEach(C=>{const P=on(C),W=P.paramName,E=O.get(W);if(E){U.push({name:W,label:E.label||P.label,description:P.description,render:k=>{const $=k||t||{},z=E.highStrengthParam?$[E.highStrengthParam]:void 0,R=E.lowStrengthParam?$[E.lowStrengthParam]:void 0,L=z??R??1;return o.jsx(Za,{name:E.id||E.highParam,label:E.label||P.label,highParam:E.highParam,lowParam:E.lowParam,highChoices:E.highCfg.choices,lowChoices:E.lowCfg.choices,formData:$,onChangeParam:v,highStrengthParam:E.highStrengthParam,lowStrengthParam:E.lowStrengthParam,strengthValue:L,highStrengthValue:z,lowStrengthValue:R,onChangeHighStrength:E.highStrengthParam?K=>v(E.highStrengthParam,K):void 0,onChangeLowStrength:E.lowStrengthParam?K=>v(E.lowStrengthParam,K):void 0,disabled:!1},`lora-${W}-${j}`)}});return}V.has(W)||U.push({name:W,label:P.label,description:P.description,render:k=>{const $=k||t||{},z={name:W,label:P.label,description:P.description,value:$[W],defaultValue:P.defaultValue,disabled:!1};return P.paramType==="NUMBER"?o.jsx(Zr,{...z,onChange:R=>v(W,R),min:P.min,max:P.max,step:P.step,isFloat:!0},`field-${W}-number-${j}`):P.paramType==="BOOLEAN"?o.jsx(Hc,{...z,onChange:R=>v(W,R)},`field-${W}-bool-${j}`):P.paramType==="DROPDOWN"?o.jsx(Xa,{...z,onChange:R=>v(W,R),options:P.choices||[]},`field-${W}-dropdown-${j}`):o.jsx(Wc,{...z,onChange:R=>v(W,R),onEnter:(R,L)=>{var K,_;v(W,R),(_=(K=L==null?void 0:L.target)==null?void 0:K.blur)==null||_.call(K),c===W&&(p==null||p())},multiline:P.multiline},`field-${W}-string-${j}`)}})}),U},[b,O,V,t,j,c,p]),G=d.useMemo(()=>{const U=new Map;return B.forEach(C=>U.set(C.name,C)),U},[B]);d.useEffect(()=>{f==null||f(B)},[B,f]);const J=d.useCallback(U=>{const C=B.map($=>$.name),P=G.get(U);if(!P)return;const W=C.indexOf(U),E=W>0?C[W-1]:null,k=W>=0&&W<C.length-1?C[W+1]:null;g($=>$+1),l==null||l({name:U,label:P.label,description:P.description,render:$=>P.render($||t),order:C,index:W>=0?W:0,total:C.length,onPrev:E?()=>J(E):null,onNext:k?()=>J(k):null})},[G,t,l,B]);return o.jsx("div",{className:"space-y-3 sm:space-y-3.5",children:b.map(U=>{const C=on(U),P=C.paramName,W=O.get(P);if(W){const{id:N,label:F,highParam:A,lowParam:I,highStrengthParam:Q,lowStrengthParam:X,highCfg:re,lowCfg:se}=W,xe=Q?t[Q]:void 0,Fe=X?t[X]:void 0,ke=xe??Fe??1,_t=P?`param-${P}`:void 0,Ft=s?y[P]??!0:!!y[P],ht=!Ft,q=m(C,[t[A],t[I]].filter(Boolean).join("  ")),ce=(ae=t)=>{const Se=Q?ae==null?void 0:ae[Q]:void 0,Ue=X?ae==null?void 0:ae[X]:void 0,Pe=Se??Ue??ke;return o.jsx(Za,{name:N||A,label:F||C.label,highParam:A,lowParam:I,highChoices:re.choices,lowChoices:se.choices,formData:ae,onChangeParam:v,highStrengthParam:Q,lowStrengthParam:X,strengthValue:Pe,highStrengthValue:Se,lowStrengthValue:Ue,onChangeHighStrength:Q?Oe=>v(Q,Oe):void 0,onChangeLowStrength:X?Oe=>v(X,Oe):void 0,disabled:!1},`lora-${P}`)};return o.jsxs("div",{id:_t,"data-param-name":P,"data-param-label":F||C.label,"data-param-type":"lora_pair",className:"control-card is-minimal",children:[o.jsx("div",{className:"control-card-head control-card-toggle",role:"button",tabIndex:0,onClick:()=>{w(P)},onKeyDown:ae=>{(ae.key==="Enter"||ae.key===" ")&&(ae.preventDefault(),w(P))},"aria-expanded":!Ft,children:o.jsxs("div",{className:"control-card-summary",children:[o.jsx("div",{className:"control-card-title",children:F||C.label}),o.jsx("div",{className:"control-card-value-preview",children:q})]})}),ht&&o.jsx("div",{className:"control-card-body",children:o.jsx("div",{className:"control-card-spotlight",children:ce()})}),!s&&o.jsx("div",{className:"control-card-foot",children:o.jsx("span",{className:"control-param-id",children:P})})]},`lora_pair_${N||A}`)}if(V.has(P))return null;const E=t[P],k=!1,$=m(C,E),z={name:P,label:C.label,description:C.description,value:E,disabled:k,defaultValue:C.defaultValue},R=(N=t,F=!1)=>{const A={...z,value:N==null?void 0:N[P]};return C.paramType==="NUMBER"?o.jsx(Zr,{...A,onChange:I=>v(P,I),min:C.min,max:C.max,step:C.step,isFloat:!0},`field-${P}-number-${j}`):C.paramType==="BOOLEAN"?o.jsx(Hc,{...A,onChange:I=>v(P,I)},`field-${P}-bool-${j}`):C.paramType==="DROPDOWN"?o.jsx(Xa,{...A,onChange:I=>v(P,I),options:C.choices||[]},`field-${P}-dropdown-${j}`):o.jsx(Wc,{...A,aliasOptions:h,aliasCatalog:x,onChange:I=>v(P,I),onEnter:(I,Q)=>{var X,re;v(P,I),(re=(X=Q==null?void 0:Q.target)==null?void 0:X.blur)==null||re.call(X),c===P&&(p==null||p())},multiline:C.multiline||c===P||F},`field-${P}-string-${j}`)},L=P?`param-${P}`:void 0,K=s?y[P]??!0:!!y[P],_=!K;return o.jsxs("div",{id:L,"data-param-name":P,"data-param-label":C.label,"data-param-type":"single",className:"control-card is-minimal",children:[o.jsx("div",{className:"control-card-head control-card-toggle",role:"button",tabIndex:0,onClick:()=>{w(P)},onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),w(P))},"aria-expanded":!K,children:o.jsxs("div",{className:"control-card-summary",children:[o.jsx("div",{className:"control-card-title",children:C.label}),o.jsx("div",{className:"control-card-value-preview",children:$})]})}),!K&&o.jsx("div",{className:"control-card-body",children:_?o.jsx("div",{className:"control-card-spotlight",children:R(t,_)}):null}),!s&&o.jsx("div",{className:"control-card-foot",children:o.jsx("span",{className:"control-param-id",children:P})})]},P)})})}function Yy(e){return(e||[]).map(t=>{var n;if(["CozyGenFloatInput","CozyGenIntInput","CozyGenStringInput","CozyGenChoiceInput"].includes(t.class_type)){let r=t.class_type.replace("CozyGen","").replace("Input","").toUpperCase();return r==="CHOICE"&&(r="DROPDOWN"),{...t,inputs:{...t.inputs,param_type:r,Multiline:((n=t.inputs)==null?void 0:n.display_multiline)||!1}}}return t})}function Jy({dynamicInputs:e,formData:t,onFormChange:n,sectionRef:r,compactControls:l=!1,collapseAllState:s=null,onSpotlight:a,spotlightName:i,onCloseSpotlight:u,onVisibleParamsChange:c,aliasOptions:p=[],aliasCatalog:f=[]}){const h=d.useMemo(()=>Yy((e||[]).filter(x=>x.class_type!=="CozyGenImageInput")),[e]);return o.jsx("section",{className:"control-arena scroll-mt-24",ref:r,children:o.jsx("div",{className:"control-stack",children:o.jsx(qy,{inputs:h,formData:t,onFormChange:n,compactControls:l,collapseAllKey:(s==null?void 0:s.key)??0,collapseAllCollapsed:(s==null?void 0:s.collapsed)??!0,onSpotlight:a,spotlightName:i,onCloseSpotlight:u,onVisibleParamsChange:c,aliasOptions:p,aliasCatalog:f})})})}function Xy({dynamicInputs:e,formData:t,onFormChange:n,parameterSectionRef:r,compactControls:l=!0,collapseAllState:s=null,onSpotlight:a,spotlightName:i,onCloseSpotlight:u,onVisibleParamsChange:c,aliasOptions:p=[],aliasCatalog:f=[]}){return o.jsx("div",{className:"space-y-4",children:o.jsx(Jy,{dynamicInputs:e,formData:t,onFormChange:n,sectionRef:r,compactControls:l,collapseAllState:s,onSpotlight:a,spotlightName:i,onCloseSpotlight:u,onVisibleParamsChange:c,aliasOptions:p,aliasCatalog:f})})}const ei=d.forwardRef(function({title:t,kicker:n,meta:r,defaultOpen:l=!0,className:s="",bodyClassName:a,children:i},u){const c=["ui-panel","collapsible-card","sectioned-card",s].filter(Boolean).join(" "),p=["collapsible-card-body",a||"space-y-4"].filter(Boolean).join(" "),f=r!=null?o.jsx("div",{className:"collapsible-card-summary-meta",children:r}):null;return o.jsxs("details",{ref:u,className:c,open:l,children:[o.jsxs("summary",{className:"collapsible-card-summary",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[n?o.jsx("span",{className:"ui-kicker",children:n}):null,o.jsx("span",{className:"text-sm font-semibold tracking-wide",children:t})]}),f]}),o.jsx("div",{className:p,children:i})]})});function rm(){const[e,t]=d.useState([]),[n,r]=d.useState(null),[l,s]=d.useState(!0),[a,i]=d.useState(null);d.useEffect(()=>{let c=!1;async function p(){s(!0),i(null);try{const f=await iy();if(c)return;const h=(f==null?void 0:f.workflows)||[];t(h);let x=null;try{x=typeof window<"u"?localStorage.getItem("selectedWorkflow"):null}catch{x=null}if(x&&h.includes(x))r(x);else if(h.length>0){r(h[0]);try{typeof window<"u"&&localStorage.setItem("selectedWorkflow",h[0])}catch{}}else r(null)}catch(f){if(c)return;console.error("Failed to load workflows",f),i(f)}finally{c||s(!1)}}return p(),()=>{c=!0}},[]);const u=d.useCallback(c=>{r(c);try{typeof window<"u"&&localStorage.setItem("selectedWorkflow",c)}catch{}},[]);return{workflows:e,selectedWorkflow:n,selectWorkflow:u,loading:l,error:a}}function Zy(e){try{if(typeof window>"u")return null;const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}}function po(e,t){try{if(typeof window>"u")return;localStorage.setItem(e,JSON.stringify(t))}catch{}}const ex=180,Bt=new Map,yn=new Map;function tx(e){yn.has(e)&&(clearTimeout(yn.get(e)),yn.delete(e)),Bt.has(e)&&(po(e,Bt.get(e)),Bt.delete(e))}function nx(e){if(yn.has(e))return;const t=setTimeout(()=>{yn.delete(e),Bt.has(e)&&(po(e,Bt.get(e)),Bt.delete(e))},ex);yn.set(e,t)}function rx(){Array.from(yn.values()).forEach(e=>clearTimeout(e)),yn.clear(),Array.from(Bt.entries()).forEach(([e,t])=>{po(e,t)}),Bt.clear()}if(typeof window<"u"&&!window.__cozygenFormStateFlush){const e=()=>rx();window.addEventListener("beforeunload",e),window.addEventListener("pagehide",e),window.__cozygenFormStateFlush=!0}function lx(e){return e?Zy(`${e}_formData`)||{}:{}}function wr(e,t,n={}){if(!e)return;const{immediate:r=!1}=n||{},l=`${e}_formData`;if(r){tx(l),po(l,t||{});return}Bt.set(l,t||{}),nx(l)}const sx={clip_name1:"clip",clip_name2:"clip",unet_name:"unet",vae_name:"vae",sampler_name:"sampler",scheduler:"scheduler"},ox=["CozyGenDynamicInput","CozyGenImageInput","CozyGenFloatInput","CozyGenIntInput","CozyGenStringInput","CozyGenChoiceInput"];function lm(e){const[t,n]=d.useState(null),[r,l]=d.useState([]),[s,a]=d.useState({}),[i,u]=d.useState(!1),[c,p]=d.useState(null);d.useEffect(()=>{if(!e){n(null),l([]),a({});return}let y=!1;async function S(){u(!0),p(null);try{const j=await uy(e);if(y)return;for(const b in j){const M=j[b];M.class_type==="CozyGenImageInput"&&!M.inputs.param_name&&(M.inputs.param_name="Image Input"),j[b].id=b}n(j);const g=Object.values(j).filter(b=>ox.includes(b.class_type)),m=await Promise.all(g.map(async b=>{const M=b.class_type==="CozyGenDynamicInput"&&b.inputs.param_type==="DROPDOWN",T=b.class_type==="CozyGenChoiceInput";if(M||T){const O=b.inputs.param_name;let V=b.inputs.choice_type||b.properties&&b.properties.choice_type;if(!V&&M&&(V=sx[O]),V)try{const B=await cy(V);b.inputs.choices=B.choices||[]}catch(B){console.error(`Choices for ${O} failed`,B),b.inputs.choices=[]}}return b}));if(y)return;l(m);const v=lx(e),w={};m.forEach(b=>{const M=b.inputs.param_name;if(!M)return;if(v[M]!==void 0){w[M]=v[M];return}let T;if(["CozyGenDynamicInput","CozyGenFloatInput","CozyGenIntInput","CozyGenStringInput"].includes(b.class_type)){if(T=b.inputs.default_value,b.class_type==="CozyGenIntInput"){const O=parseInt(T,10);T=Number.isNaN(O)?0:O}else if(b.class_type==="CozyGenFloatInput"){const O=parseFloat(T);T=Number.isNaN(O)?0:O}}else if(b.class_type==="CozyGenChoiceInput"){const O=b.inputs.choices||[];T=O.length?O[0]:""}else b.class_type,T="";w[M]=T}),a(w)}catch(j){if(y)return;console.error("Failed to load workflow",j),p(j),n(null),l([])}finally{y||u(!1)}}return S(),()=>{y=!0}},[e]);const f=d.useMemo(()=>r.filter(y=>y.class_type==="CozyGenImageInput"),[r]),h=f[0]||null,x=d.useCallback((y,S)=>{a(j=>{const g={...j,[y]:S};return e&&wr(e,g),g})},[e]);return{workflowData:t,dynamicInputs:r,imageInputs:f,primaryImageInput:h,formData:s,setFormData:a,handleFormChange:x,loading:i,error:c}}const Yc="::";function el(e){const t={};return Object.entries(e||{}).forEach(([n,r])=>{const l=String(n||"").trim();if(!l||typeof r!="string")return;const s=r.trim();s&&(t[l]=s)}),t}function cu(e){const t=new Map;return Object.entries(el(e)).forEach(([n,r])=>{const l=n.toLowerCase();t.set(l,r),l.includes(Yc)&&t.set(l.replace(Yc,":"),r)}),t}function sm(e,t){if(typeof e!="string"||!e.includes("$"))return e;const n=t instanceof Map?t:cu(t);return n.size?e.replace(/\$([a-z0-9_:-]+)\$/gi,(r,l)=>{const s=n.get(l.toLowerCase());return typeof s=="string"?s:r}):e}function ax(e,t){const n=t instanceof Map?t:cu(t);if(!n.size||!e||typeof e!="object")return e;let r=!1;const l={};return Object.entries(e).forEach(([s,a])=>{if(typeof a=="string"){const i=sm(a,n);l[s]=i,i!==a&&(r=!0)}else l[s]=a}),r?l:e}function ix(e){return e?JSON.parse(JSON.stringify(e)):{}}function ux(e,t,n){const r=ix(e),l={...n||{}};if(!t||!Array.isArray(t))return{workflow:r,formData:l};for(const s of t){if(!s||!s.id||!s.inputs||!r[s.id])continue;const a=s.inputs.param_name;if(!a||s.class_type==="CozyGenImageInput")continue;let i=l[a];const u=r[s.id];if(!u||!u.inputs)continue;const c=s.class_type;i===void 0&&(c==="CozyGenChoiceInput"?i=s.inputs.value??s.inputs.default_choice??(s.inputs.choices&&s.inputs.choices[0])??"":i=s.inputs.default_value),i===void 0&&(i=""),l[a]=i,c==="CozyGenFloatInput"||c==="CozyGenIntInput"||c==="CozyGenStringInput"||c==="CozyGenDynamicInput"?u.inputs.default_value=i:c==="CozyGenChoiceInput"&&(u.inputs.value=i)}return{workflow:r,formData:l}}function om({selectedWorkflow:e,workflowData:t,dynamicInputs:n,imageInputs:r,formData:l,setFormData:s,promptAliases:a=null}){const[i,u]=d.useState(!1),[c,p]=d.useState(!1),[f,h]=d.useState(0),[x,y]=d.useState(0),[S,j]=d.useState("Idle"),[g,m]=d.useState("idle"),v=d.useRef(null),w=d.useRef(t),b=d.useRef(!1),M=d.useRef(0),T=d.useRef(0),O=d.useRef("idle"),V=d.useRef(null),B=d.useRef(null);d.useEffect(()=>{w.current=t},[t]),d.useEffect(()=>{b.current=c},[c]),d.useEffect(()=>{M.current=f},[f]),d.useEffect(()=>{T.current=x},[x]),d.useEffect(()=>{O.current=g},[g]);const G=()=>{V.current&&(clearTimeout(V.current),V.current=null)},J=()=>{B.current&&(clearTimeout(B.current),B.current=null)},U=()=>{if(!(typeof window>"u"||typeof window.dispatchEvent!="function"))try{window.dispatchEvent(new CustomEvent("cozygen:queue-finished"))}catch{}},C=()=>{J(),B.current=setTimeout(()=>{b.current||(m("idle"),j("Idle"),h(0),y(0))},8e3)},P=d.useCallback(()=>{G(),u(!1),p(!1),h(0),y(0),j("Finished"),m("finished"),C(),U()},[]),W=d.useCallback((k="Error")=>{G(),u(!1),p(!1),j(k),m("error"),C()},[]);d.useEffect(()=>{G(),!(!c||!x||x<=0||f<x)&&(V.current=setTimeout(()=>{const k=b.current,$=M.current,z=T.current,R=O.current;k&&z>0&&$>=z&&R!=="finished"&&R!=="error"&&P()},800))},[c,f,x,P]),d.useEffect(()=>{const k=()=>{const $=window.location.protocol==="https:"?"wss":"ws",z=window.location.host,R=ou(),L=`${$}://${z}/ws${R?`?token=${encodeURIComponent(R)}`:""}`,K=new WebSocket(L);v.current=K,K.onmessage=_=>{var A,I,Q;if(typeof _.data!="string")return;let N;try{N=JSON.parse(_.data)}catch{return}const F=N.type;if(F==="cozygen_batch_ready"){P();return}if(F==="execution_success"||F==="execution_finished"){b.current&&P();return}if(F==="execution_error"||F==="execution_interrupted"){W("Execution error");return}if(F==="status"){const X=N.data||{},re=X.status||X,se=re.exec_info||X.exec_info||re;if(se&&b.current){const xe=se.queue_remaining??se.queue_pending??se.queue_remaining_items??0;(se.queue_running??se.running??0)===0&&xe===0&&P()}return}if(F==="executing"){J(),m("running");const X=(A=N.data)==null?void 0:A.node,re=w.current;if(X&&re&&re[X]){const se=re[X],xe=se.title||se.class_type||"Node";j(`Executing: ${xe}`)}else j("Executing");return}if(F==="progress"){h(((I=N.data)==null?void 0:I.value)??0),y(((Q=N.data)==null?void 0:Q.max)??0);return}},K.onclose=()=>{setTimeout(k,1e3)}};return k(),()=>{G(),J(),v.current&&(v.current.onclose=null,v.current.close())}},[W,P]);const E=d.useCallback(async(k={})=>{if(!t)return;const{overrides:$=null,persistFormState:z=!0}=k||{};G(),J(),u(!0),p(!0),j("Queuing prompt"),m("queued"),h(0),y(0);const R=l||{},L=$?{...R,...$||{}}:R,K=ax(L,a||{}),{workflow:_,formData:N}=ux(t,n||[],K||{}),F={...N,...L};z&&e&&wr(e,F),z&&s(F);const A=r||[];for(const I of A){if(!I||!I.id||!I.inputs)continue;const Q=I.inputs.param_name;if(!Q)continue;const X=F[Q];if(!X){alert(`Please upload or select an image for "${Q}" before generating.`),W("Missing image input");return}_[I.id]&&_[I.id].inputs&&(_[I.id].inputs.image_filename=X)}try{let I=_;if(a){const Q=X=>{if(typeof X=="string")return sm(X,a);if(Array.isArray(X))return X.map(re=>Q(re));if(X&&typeof X=="object"){const re=Array.isArray(X)?[]:{};return Object.entries(X).forEach(([se,xe])=>{re[se]=Q(xe)}),re}return X};try{I=Q(_)}catch{I=_}}Fy({workflowName:e,workflow:I,timestamp:Date.now()}),await Gp({prompt:I})}catch(I){console.error("Failed to queue prompt",I),I!=null&&I.unauthorized?(W("Session expired. Please sign in again."),window.location.hash="#/login"):W("Error queuing prompt")}},[t,n,r,l,a,e,s,W]);return{isLoading:i,progressValue:f,progressMax:x,statusText:S,statusPhase:g,handleGenerate:E}}const cx="cozygen_field_order_v1";function dx(e,t){if(!e)return t;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:t}catch{return t}}function fx(){if(typeof window>"u")return{};try{return dx(window.localStorage.getItem(cx),{})}catch{return{}}}function px(e){if(Array.isArray(e))return{order:e.filter(Boolean),hidden:{}};if(!e||typeof e!="object")return{order:[],hidden:{}};const t=Array.isArray(e.order)?e.order.filter(Boolean):[],n=e.hidden&&typeof e.hidden=="object"?e.hidden:{};return{order:t,hidden:n}}function mx(e){if(!e)return{order:[],hidden:{}};const n=fx()[e];return px(n)}function am(e,t){let n=Array.isArray(t)?t:[];if(!e||n.length===0)return n;const{order:r,hidden:l}=mx(e);if(r&&r.length){const s=new Map;n.forEach(i=>{var c;const u=(c=i==null?void 0:i.inputs)==null?void 0:c.param_name;u&&!s.has(u)&&s.set(u,i)});const a=[];r.forEach(i=>{const u=s.get(i);u&&(a.push(u),s.delete(i))}),n.forEach(i=>{var c;const u=(c=i==null?void 0:i.inputs)==null?void 0:c.param_name;if(!u){a.push(i);return}s.has(u)&&(a.push(i),s.delete(u))}),n=a}return n=n.filter(s=>{var i;const a=(i=s==null?void 0:s.inputs)==null?void 0:i.param_name;return a?!l[a]:!0}),n}const im="cozygen_prompt_aliases",um="cozygen_alias_categories",cm="cozygen_alias_category_list";function Jc(){if(typeof window>"u")return{};try{const e=window.localStorage.getItem(im);return e?JSON.parse(e)||{}:{}}catch{return{}}}function Ho(e){if(!(typeof window>"u"))try{window.localStorage.setItem(im,JSON.stringify(e||{}))}catch{}}function Xc(){if(typeof window>"u")return{};try{const e=window.localStorage.getItem(um);return e?JSON.parse(e)||{}:{}}catch{return{}}}function Go(e){if(!(typeof window>"u"))try{window.localStorage.setItem(um,JSON.stringify(e||{}))}catch{}}function Zc(){if(typeof window>"u")return[];try{const e=window.localStorage.getItem(cm);return Array.isArray(JSON.parse(e))?JSON.parse(e):[]}catch{return[]}}function Ko(e){if(!(typeof window>"u"))try{window.localStorage.setItem(cm,JSON.stringify(e||[]))}catch{}}function du(){const[e,t]=d.useState(()=>Jc()),[n,r]=d.useState(()=>Xc()),[l,s]=d.useState(()=>Zc()),[a,i]=d.useState(!1),[u,c]=d.useState(!1),[p,f]=d.useState(null),h=d.useCallback(async()=>{i(!0),f(null);try{const j=await my(),g=el((j==null?void 0:j.items)||j||{}),m=(j==null?void 0:j.categories)||{},v=Array.isArray(j==null?void 0:j.categoryList)?j.categoryList:[];t(g),r(m),s(v),Ho(g),Go(m),Ko(v)}catch(j){console.error("Failed to load prompt aliases",j),f(j);const g=el(Jc()),m=Xc(),v=Zc();t(g),r(m),s(v)}finally{i(!1)}},[]),x=d.useCallback(async j=>{const g=(j==null?void 0:j.items)||j||{},m=(j==null?void 0:j.categories)||n||{},v=Array.isArray(j==null?void 0:j.categoryList)&&j.categoryList.length?j.categoryList:l.length?l:Array.from(new Set(Object.values(m).filter(Boolean))),w=el(g||{});c(!0),f(null);try{await hy({items:w,categories:m,categoryList:v}),t(w),r(m),s(v),Ho(w),Go(m),Ko(v)}catch(b){throw console.error("Failed to save prompt aliases",b),f(b),Ho(w),Go(m),Ko(v),b}finally{c(!1)}},[n,l]);d.useEffect(()=>{h()},[h]);const y=d.useMemo(()=>{const j=cu(e),g=new Map(j);return Object.entries(n||{}).forEach(([m,v])=>{const w=String(v||"").trim();w&&(e!=null&&e[m])&&g.set(`${w}:${m}`,e[m])}),g},[e,n]),S=d.useMemo(()=>{const j=new Set,g=[];return y.forEach((m,v)=>{let w=v.includes("::")?v.replace("::",":"):v;const b=w.split(":");b.length>=3&&b[0]&&b[1]&&b[0].toLowerCase()===b[1].toLowerCase()&&(w=[b[0],...b.slice(2)].join(":"));const M=w.toLowerCase();j.has(M)||(j.add(M),g.push(w))}),g},[y]);return{aliases:e,aliasCategories:n,categoryList:l,aliasLookup:y,aliasOptions:S,loading:a,saving:u,error:p,refreshAliases:h,persistAliases:x}}const ti=[{id:"text-to-image",label:"Text to Image"},{id:"image-to-image",label:"Image to Image"},{id:"text-to-video",label:"Text to Video"},{id:"image-to-video",label:"Image to Video"}];ti.reduce((e,t)=>(e[t.id]=t.label,e),{});function ed(e={}){return e&&typeof e=="object"&&e.formData&&typeof e.formData=="object"?{...e.formData}:{...e||{}}}function hx(e){if(!e||typeof e!="object")return{values:e||{},meta:{}};if(Object.prototype.hasOwnProperty.call(e,"values")){const t=e.values&&typeof e.values=="object"?e.values:{},n=ed(t),r=e.meta&&typeof e.meta=="object"?e.meta:{};return{values:n,meta:r}}return{values:ed(e),meta:{}}}function dm(e={}){return Object.entries(e||{}).map(([t,n])=>({name:t,...hx(n)}))}function td(){const{workflows:e=[],selectedWorkflow:t,selectWorkflow:n}=rm(),{workflowData:r,dynamicInputs:l=[],imageInputs:s=[],formData:a,setFormData:i,handleFormChange:u}=lm(t),{aliases:c,aliasCategories:p,aliasLookup:f,aliasOptions:h}=du(),{isLoading:x,progressValue:y,progressMax:S,statusText:j,statusPhase:g,handleGenerate:m}=om({selectedWorkflow:t,workflowData:r,dynamicInputs:l,imageInputs:s,formData:a,setFormData:i,promptAliases:f}),[v,w]=d.useState(!1),b=d.useRef(null),M=d.useRef(null),T=d.useRef(null),[O,V]=d.useState([]),[B,G]=d.useState(""),[J,U]=d.useState(""),C=d.useRef(null),[P]=d.useState({key:0,collapsed:!0}),[W,E]=d.useState(()=>{if(typeof window>"u")return"";try{return window.localStorage.getItem("cozygen_last_param")||""}catch{return""}}),[k,$]=d.useState(null),z=(k==null?void 0:k.name)||"",R=d.useCallback(()=>$(null),[]),[L,K]=d.useState([]),_=d.useRef(new Map);su();const N=d.useMemo(()=>{const q=[];return Object.entries(c||{}).forEach(([ce,ae])=>{const Se=String(ce).split("::"),Ue=Se.length>1,Pe=p&&p[ce]||(Ue?Se[0]:""),Oe=Ue?Se.slice(1).join("::"):ce;q.push({key:ce,name:Oe,category:Pe,text:ae,token:Pe?`${Pe}:${Oe}`:Oe})}),q},[c,p]);d.useEffect(()=>{if(g==="finished"&&typeof window<"u"){try{window.localStorage.setItem("cozygen_gallery_pending","1")}catch{}window.dispatchEvent(new Event("cozygen:gallery-pending"))}},[g]);const F=d.useMemo(()=>{if(typeof(a==null?void 0:a.prompt)=="string")return"prompt";const q=Object.entries(a||{}).find(([,ce])=>typeof ce=="string"&&ce.includes("$"));return q?q[0]:""},[a]),A=d.useMemo(()=>{if(!F)return"";const q=(a==null?void 0:a[F])||"";if(!q||!f)return q;try{return q.replace(/\$([a-z0-9_:-]+)\$/gi,(ce,ae)=>{const Se=f.get(ae.toLowerCase());return typeof Se=="string"?Se:ce})}catch{return q}},[a,f,F]),I=q=>{!q||q===t||(t&&wr(t,a||{},{immediate:!0}),n(q))},Q=q=>{q&&i(ce=>{const ae={...ce||{},...q||{}};return t&&wr(t,ae),ae})};d.useEffect(()=>{let q=!1;return(async()=>{var ae;if(!t){V([]),G("");return}try{const Se=await Qp(t),Ue=dm((Se==null?void 0:Se.items)||{});if(q)return;V(Ue);const Pe=((ae=Ue[0])==null?void 0:ae.name)||"";G(Oe=>Oe&&Ue.some(D=>D.name===Oe)?Oe:Pe)}catch{q||(V([]),G(""))}})(),()=>{q=!0}},[t]);const X=d.useCallback(q=>{clearTimeout(C.current),U(q),q&&(C.current=setTimeout(()=>U(""),1600))},[]),re=d.useCallback(q=>{G(q);const ce=O.find(ae=>ae.name===q);ce!=null&&ce.values&&(Q(ce.values),X(`Applied "${q}"`))},[O,Q,X]),se=d.useMemo(()=>am(t,l),[t,l]),xe=s||[],Fe=!!(r&&t),ke=xe.length>0,_t=r?ke?`${xe.length} slots`:"No inputs":"Waiting",Ft=r?"":"Waiting",ht=d.useCallback((q,ce)=>{const ae=_.current;ce&&q&&ae.set(q,ce);const Se=L.length?L:(ce==null?void 0:ce.order)||[],Ue=Se.length,Pe=Ue>0?Se.indexOf(q):-1,Oe=Pe>0?Se[Pe-1]:null,D=Pe>=0&&Pe<Ue-1?Se[Pe+1]:null,Y=Oe?ae.get(Oe):null,Z=D?ae.get(D):null;return{...ce,index:Pe>=0?Pe:0,total:Ue,onPrev:Y?()=>$(ht(Oe,Y)):null,onNext:Z?()=>$(ht(D,Z)):null,onRender:m}},[L,m]);return d.useEffect(()=>{var q;Fe&&((q=b.current)!=null&&q.open)&&(b.current.open=!1)},[Fe]),d.useEffect(()=>{const q=()=>{!Fe||x||m()};return window.addEventListener("cozygen:request-render",q),()=>window.removeEventListener("cozygen:request-render",q)},[m,Fe,x]),d.useEffect(()=>{const q=g==="queued"||g==="running"||x;try{window.dispatchEvent(new CustomEvent("cozygen:render-state",{detail:{active:q}}))}catch{}},[g,x]),!e||e.length===0?o.jsx("div",{className:"page-shell",children:o.jsx("div",{className:"neon-card px-3 py-3 sm:px-4 sm:py-4",children:o.jsx("p",{className:"text-sm text-[#9DA3FFCC]",children:"No workflows found. Drop a workflow file in CozyGen and refresh."})})}):o.jsxs("div",{className:"page-shell page-stack",children:[r?o.jsxs("div",{className:"space-y-2 mb-3",children:[o.jsxs("div",{className:"inline-workflow-bar",children:[o.jsx("div",{className:"inline-workflow-left",children:o.jsx("span",{className:"inline-workflow-label",children:"Workflow"})}),o.jsx("div",{className:"inline-workflow-right",children:o.jsxs("select",{value:t||"",onChange:q=>I(q.target.value),className:"inline-workflow-select",children:[o.jsx("option",{value:"",children:"Select workflow"}),e.map(q=>o.jsx("option",{value:q,children:q},q))]})})]}),o.jsxs("div",{className:"inline-preset-bar",children:[o.jsxs("div",{className:"inline-preset-left",children:[o.jsx("span",{className:"inline-preset-label",children:"Preset"}),J?o.jsx("span",{className:"inline-preset-status",children:J}):null]}),o.jsx("div",{className:"inline-preset-right",children:o.jsxs("select",{value:B,onChange:q=>re(q.target.value),className:"inline-preset-select",children:[o.jsx("option",{value:"",children:"None"}),O.map(q=>o.jsx("option",{value:q.name,children:q.name},q.name))]})})]})]}):null,o.jsxs(ei,{kicker:"Parameters",title:" Controls",meta:Ft,bodyClassName:"control-shell",defaultOpen:!0,children:[r?o.jsx(Xy,{workflowName:t,dynamicInputs:se,formData:a,onFormChange:u,parameterSectionRef:M,compactControls:!0,collapseAllState:P,lastEditedParam:W,spotlightName:z,onCloseSpotlight:R,onVisibleParamsChange:q=>K(q||[]),aliasOptions:h,aliasCatalog:N,onParamEdited:q=>{E(q||"");try{window.localStorage.setItem("cozygen_last_param",q||"")}catch{}},onSpotlight:q=>{q!=null&&q.name&&$(ht(q.name,q))}}):o.jsx("div",{className:"rounded-2xl border border-[#2A2E4A] bg-[#050716] px-3 py-6 text-[12px] text-[#9DA3FFCC] text-center",children:"Pick a workflow to begin."}),r?o.jsxs("div",{className:"mt-3 rounded-xl border border-[#2A2E4A] bg-[#0B1226] px-3 py-3 text-[12px] text-[#9DA3FFCC] space-y-2",children:[o.jsx("div",{className:"flex items-center justify-between gap-2",children:o.jsx("span",{className:"font-semibold text-[#E5E7FF]",children:"Expanded prompt"})}),o.jsx("div",{className:"max-h-32 overflow-y-auto whitespace-pre-wrap break-words text-[#D8DEFF] text-[12px] border border-[#1D2440] rounded-lg px-2 py-2 bg-[#080E1D]",children:A||""})]}):null]}),ke?o.jsx(ei,{ref:T,className:"scroll-mt-24 is-compact",kicker:"Assets",title:" Images",meta:_t,defaultOpen:!1,children:r?o.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:xe.map(q=>o.jsx($y,{input:q,value:a[q.inputs.param_name]||"",onFormChange:u},q.id))}):null}):null,o.jsx("section",{className:"dock-panel",children:o.jsx(Iy,{busy:x,progressValue:y,progressMax:S,statusText:j,statusPhase:g,primaryLabel:"Render",onPrimary:m,primaryDisabled:!Fe})}),o.jsx(Uy,{open:!!k,onClose:()=>$(null),title:k==null?void 0:k.label,description:k==null?void 0:k.description,render:()=>{var q;return(q=k==null?void 0:k.render)==null?void 0:q.call(k,a)},index:(k==null?void 0:k.index)??0,total:(k==null?void 0:k.total)??0,onPrev:(k==null?void 0:k.onPrev)||null,onNext:(k==null?void 0:k.onNext)||null,onRender:(k==null?void 0:k.onRender)||null,children:null})]})}function gx({subfolder:e,crumbs:t=[],dirChips:n=[],onBack:r,onRoot:l,onCrumb:s,onSelectDir:a}){return o.jsxs("div",{className:"space-y-3 text-[#F8F4FF]",children:[o.jsx("div",{className:"flex items-center justify-start gap-2 flex-wrap"}),o.jsx("div",{className:"flex items-center gap-2 flex-wrap text-[#C3C7FF]",role:"navigation","aria-label":"Gallery path",children:t.map((i,u)=>o.jsxs(d.Fragment,{children:[o.jsx("span",{className:"text-[#6A6FA8]",children:"/"}),o.jsx("button",{type:"button",className:"gallery-chip-btn",onClick:()=>s==null?void 0:s(i.path),"aria-current":u===t.length-1?"page":void 0,children:i.name})]},i.path||i.name||u))}),n.length>0?o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:n.map(i=>o.jsx("button",{type:"button",className:"gallery-chip-btn",onClick:()=>a==null?void 0:a(i.subfolder),children:i.filename||i.subfolder||"Collection"},i.subfolder||i.filename))}):null]})}const vx=(e="")=>/\.(mp4|webm|mov|mkv)$/i.test(e),yx=({src:e,poster:t,autoPlay:n})=>{const r=d.useRef(null);return d.useEffect(()=>{const l=r.current;l&&(l.pause(),l.currentTime=0,l.load())},[e]),d.useEffect(()=>{const l=r.current;if(!l)return;let s;const a=()=>{const u=l.play();u&&typeof u.catch=="function"&&u.catch(()=>{})},i=()=>{l.pause()};return n?typeof window<"u"&&"IntersectionObserver"in window?(s=new IntersectionObserver(c=>{c.forEach(p=>{p.isIntersecting?a():i()})},{threshold:.65}),s.observe(l)):a():(i(),l.currentTime=0),()=>{s&&s.disconnect(),i()}},[n,e]),e?o.jsx("video",{ref:r,src:e,poster:t||void 0,muted:!0,playsInline:!0,loop:!0,preload:"metadata",className:"w-full h-auto max-h-[80vh] rounded-2xl object-contain bg-black/40"}):o.jsx("div",{className:"flex items-center justify-center py-16 text-[11px] text-[#9DA3FFCC]",children:"No preview available"})};function nd({item:e,onSelect:t,variant:n="grid",autoPlay:r=!1}){if(!e)return null;const l=e.type==="directory",s=e.filename||"",a=e.subfolder||"",i=s||a||"Unknown",u=()=>{t&&t(e)},c=n==="feed"?768:384,p=!l&&s?`/cozygen/thumb?type=output&subfolder=${encodeURIComponent(a)}&filename=${encodeURIComponent(s)}&w=${c}`:null,f=!l&&s?(()=>{const x=e.type&&e.type!=="directory"?e.type:"output",y=e.mtime?`&v=${encodeURIComponent(String(e.mtime))}`:"";return`/view?filename=${encodeURIComponent(s)}&subfolder=${encodeURIComponent(a)}&type=${encodeURIComponent(x)}${y}`})():null,h=vx(s);return l?o.jsx("button",{type:"button",onClick:u,className:"group flex flex-col items-start justify-between rounded-xl border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-left hover:border-[#6B5BFF] hover:bg-[#0B0E27] transition-colors",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-7 w-7 rounded-lg bg-gradient-to-br from-[#6B5BFF] to-[#FF4F9A] opacity-80 group-hover:opacity-100 flex items-center justify-center text-[11px] text-white",children:""}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[11px] font-medium text-[#E5E7FF] truncate",children:i}),o.jsx("div",{className:"text-[10px] text-[#9DA3FFCC] truncate",children:"Collection"})]})]})}):n==="feed"?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("button",{type:"button",onClick:u,className:"group relative w-full overflow-hidden rounded-2xl bg-[#020312]",children:[o.jsx("div",{className:"relative w-full flex items-center justify-center bg-[#020312]",children:h?o.jsx(yx,{src:f,poster:p,autoPlay:r}):p?o.jsx("img",{src:p,alt:i,className:"w-full h-auto max-h-[80vh] rounded-2xl object-contain bg-black/40",loading:"lazy"}):o.jsx("div",{className:"flex items-center justify-center py-16 text-[11px] text-[#9DA3FFCC]",children:"No preview available"})}),o.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#05071680] opacity-0 group-hover:opacity-100 transition-opacity"}),h&&o.jsx("div",{className:"pointer-events-none absolute left-2 top-2 rounded-full bg-[#050716CC] px-2 py-[1px] text-[10px] text-[#CFFAFE] border border-[#3EF0FF80]",children:"Video"})]}),o.jsx("div",{className:"flex items-center justify-between text-[11px] text-[#9DA3FFCC]",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"truncate text-[#E5E7FF]",children:i}),a&&o.jsx("div",{className:"truncate text-[10px] text-[#6A6FA8]",children:a})]})})]}):o.jsxs("button",{type:"button",onClick:u,className:"group relative w-full overflow-hidden rounded-xl border border-[#2A2E4A] bg-[#050716] hover:border-[#6B5BFF] hover:bg-[#0B0E27] transition-colors",children:[o.jsxs("div",{className:"relative w-full aspect-[4/5] bg-[#020312]",children:[p?o.jsx("img",{src:p,alt:i,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}):o.jsx("div",{className:"flex items-center justify-center h-full text-[10px] text-[#9DA3FFCC] px-2 text-center",children:"No preview"}),h&&o.jsx("div",{className:"pointer-events-none absolute left-2 top-2 rounded-full bg-[#050716E0] px-2 py-[2px] text-[10px] text-[#CFFAFE] border border-[#3EF0FF80]",children:"Video"})]}),o.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 bg-gradient-to-t from-[#050716CC] via-[#05071699] to-transparent px-2 py-1.5",children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"text-[10px] text-[#E5E7FF] truncate",children:i}),h&&o.jsx("span",{className:"text-[9px] uppercase tracking-[0.16em] text-[#CFFAFE]",children:"Vid"})]})})]})}var ni={exports:{}},Un={},fm={exports:{}},xx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wx=xx,Sx=wx;function pm(){}function mm(){}mm.resetWarningCache=pm;var Nx=function(){function e(r,l,s,a,i,u){if(u!==Sx){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mm,resetWarningCache:pm};return n.PropTypes=n,n};fm.exports=Nx();var hm=fm.exports,ri={exports:{}},kt={},li={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",l=/^(input|select|textarea|button|object|iframe)$/;function s(f,h){return h.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function a(f){var h=f.offsetWidth<=0&&f.offsetHeight<=0;if(h&&!f.innerHTML)return!0;try{var x=window.getComputedStyle(f),y=x.getPropertyValue("display");return h?y!==r&&s(f,x):y===n}catch{return console.warn("Failed to inspect element style"),!1}}function i(f){for(var h=f,x=f.getRootNode&&f.getRootNode();h&&h!==document.body;){if(x&&h===x&&(h=x.host.parentNode),a(h))return!1;h=h.parentNode}return!0}function u(f,h){var x=f.nodeName.toLowerCase(),y=l.test(x)&&!f.disabled||x==="a"&&f.href||h;return y&&i(f)}function c(f){var h=f.getAttribute("tabindex");h===null&&(h=void 0);var x=isNaN(h);return(x||h>=0)&&u(f,!x)}function p(f){var h=[].slice.call(f.querySelectorAll("*"),0).reduce(function(x,y){return x.concat(y.shadowRoot?p(y.shadowRoot):[y])},[]);return h.filter(c)}e.exports=t.default})(li,li.exports);var gm=li.exports;Object.defineProperty(kt,"__esModule",{value:!0});kt.resetState=kx;kt.log=bx;kt.handleBlur=jl;kt.handleFocus=Cl;kt.markForFocusLater=_x;kt.returnFocus=Fx;kt.popWithoutFocus=Px;kt.setupScopedFocus=Ox;kt.teardownScopedFocus=Ax;var jx=gm,Cx=Ex(jx);function Ex(e){return e&&e.__esModule?e:{default:e}}var Sr=[],sr=null,si=!1;function kx(){Sr=[]}function bx(){}function jl(){si=!0}function Cl(){if(si){if(si=!1,!sr)return;setTimeout(function(){if(!sr.contains(document.activeElement)){var e=(0,Cx.default)(sr)[0]||sr;e.focus()}},0)}}function _x(){Sr.push(document.activeElement)}function Fx(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Sr.length!==0&&(t=Sr.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function Px(){Sr.length>0&&Sr.pop()}function Ox(e){sr=e,window.addEventListener?(window.addEventListener("blur",jl,!1),document.addEventListener("focus",Cl,!0)):(window.attachEvent("onBlur",jl),document.attachEvent("onFocus",Cl))}function Ax(){sr=null,window.addEventListener?(window.removeEventListener("blur",jl),document.removeEventListener("focus",Cl)):(window.detachEvent("onBlur",jl),document.detachEvent("onFocus",Cl))}var oi={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=gm,r=l(n);function l(i){return i&&i.__esModule?i:{default:i}}function s(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return i.activeElement.shadowRoot?s(i.activeElement.shadowRoot):i.activeElement}function a(i,u){var c=(0,r.default)(i);if(!c.length){u.preventDefault();return}var p=void 0,f=u.shiftKey,h=c[0],x=c[c.length-1],y=s();if(i===y){if(!f)return;p=x}if(x===y&&!f&&(p=h),h===y&&f&&(p=x),p){u.preventDefault(),p.focus();return}var S=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),j=S!=null&&S[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(j){var g=c.indexOf(y);if(g>-1&&(g+=f?-1:1),p=c[g],typeof p>"u"){u.preventDefault(),p=f?x:h,p.focus();return}u.preventDefault(),p.focus()}}e.exports=t.default})(oi,oi.exports);var Rx=oi.exports,bt={},Lx=function(){},Tx=Lx,jt={},vm={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(vm);var Ix=vm.exports;Object.defineProperty(jt,"__esModule",{value:!0});jt.canUseDOM=jt.SafeNodeList=jt.SafeHTMLCollection=void 0;var Mx=Ix,zx=Dx(Mx);function Dx(e){return e&&e.__esModule?e:{default:e}}var mo=zx.default,$x=mo.canUseDOM?window.HTMLElement:{};jt.SafeHTMLCollection=mo.canUseDOM?window.HTMLCollection:{};jt.SafeNodeList=mo.canUseDOM?window.NodeList:{};jt.canUseDOM=mo.canUseDOM;jt.default=$x;Object.defineProperty(bt,"__esModule",{value:!0});bt.resetState=Hx;bt.log=Gx;bt.assertNodeList=ym;bt.setElement=Kx;bt.validateElement=fu;bt.hide=Qx;bt.show=qx;bt.documentNotReadyOrSSRTesting=Yx;var Ux=Tx,Bx=Vx(Ux),Wx=jt;function Vx(e){return e&&e.__esModule?e:{default:e}}var it=null;function Hx(){it&&(it.removeAttribute?it.removeAttribute("aria-hidden"):it.length!=null?it.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(it).forEach(function(e){return e.removeAttribute("aria-hidden")})),it=null}function Gx(){}function ym(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function Kx(e){var t=e;if(typeof t=="string"&&Wx.canUseDOM){var n=document.querySelectorAll(t);ym(n,t),t=n}return it=t||it,it}function fu(e){var t=e||it;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Bx.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Qx(e){var t=!0,n=!1,r=void 0;try{for(var l=fu(e)[Symbol.iterator](),s;!(t=(s=l.next()).done);t=!0){var a=s.value;a.setAttribute("aria-hidden","true")}}catch(i){n=!0,r=i}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}function qx(e){var t=!0,n=!1,r=void 0;try{for(var l=fu(e)[Symbol.iterator](),s;!(t=(s=l.next()).done);t=!0){var a=s.value;a.removeAttribute("aria-hidden")}}catch(i){n=!0,r=i}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}function Yx(){it=null}var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.resetState=Jx;_r.log=Xx;var tl={},nl={};function rd(e,t){e.classList.remove(t)}function Jx(){var e=document.getElementsByTagName("html")[0];for(var t in tl)rd(e,tl[t]);var n=document.body;for(var r in nl)rd(n,nl[r]);tl={},nl={}}function Xx(){}var Zx=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},e0=function(t,n){return t[n]&&(t[n]-=1),n},t0=function(t,n,r){r.forEach(function(l){Zx(n,l),t.add(l)})},n0=function(t,n,r){r.forEach(function(l){e0(n,l),n[l]===0&&t.remove(l)})};_r.add=function(t,n){return t0(t.classList,t.nodeName.toLowerCase()=="html"?tl:nl,n.split(" "))};_r.remove=function(t,n){return n0(t.classList,t.nodeName.toLowerCase()=="html"?tl:nl,n.split(" "))};var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.log=l0;Fr.resetState=s0;function r0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var xm=function e(){var t=this;r0(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Us=new xm;function l0(){console.log("portalOpenInstances ----------"),console.log(Us.openInstances.length),Us.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function s0(){Us=new xm}Fr.default=Us;var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.resetState=u0;pu.log=c0;var o0=Fr,a0=i0(o0);function i0(e){return e&&e.__esModule?e:{default:e}}var ze=void 0,yt=void 0,Tn=[];function u0(){for(var e=[ze,yt],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}ze=yt=null,Tn=[]}function c0(){console.log("bodyTrap ----------"),console.log(Tn.length);for(var e=[ze,yt],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function ld(){Tn.length!==0&&Tn[Tn.length-1].focusContent()}function d0(e,t){!ze&&!yt&&(ze=document.createElement("div"),ze.setAttribute("data-react-modal-body-trap",""),ze.style.position="absolute",ze.style.opacity="0",ze.setAttribute("tabindex","0"),ze.addEventListener("focus",ld),yt=ze.cloneNode(),yt.addEventListener("focus",ld)),Tn=t,Tn.length>0?(document.body.firstChild!==ze&&document.body.insertBefore(ze,document.body.firstChild),document.body.lastChild!==yt&&document.body.appendChild(yt)):(ze.parentElement&&ze.parentElement.removeChild(ze),yt.parentElement&&yt.parentElement.removeChild(yt))}a0.default.subscribe(d0);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(C){for(var P=1;P<arguments.length;P++){var W=arguments[P];for(var E in W)Object.prototype.hasOwnProperty.call(W,E)&&(C[E]=W[E])}return C},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},l=function(){function C(P,W){for(var E=0;E<W.length;E++){var k=W[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}return function(P,W,E){return W&&C(P.prototype,W),E&&C(P,E),P}}(),s=d,a=hm,i=b(a),u=kt,c=w(u),p=Rx,f=b(p),h=bt,x=w(h),y=_r,S=w(y),j=jt,g=b(j),m=Fr,v=b(m);function w(C){if(C&&C.__esModule)return C;var P={};if(C!=null)for(var W in C)Object.prototype.hasOwnProperty.call(C,W)&&(P[W]=C[W]);return P.default=C,P}function b(C){return C&&C.__esModule?C:{default:C}}function M(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}function T(C,P){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:C}function O(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(C,P):C.__proto__=P)}var V={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},B=function(P){return P.code==="Tab"||P.keyCode===9},G=function(P){return P.code==="Escape"||P.keyCode===27},J=0,U=function(C){O(P,C);function P(W){M(this,P);var E=T(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,W));return E.setOverlayRef=function(k){E.overlay=k,E.props.overlayRef&&E.props.overlayRef(k)},E.setContentRef=function(k){E.content=k,E.props.contentRef&&E.props.contentRef(k)},E.afterClose=function(){var k=E.props,$=k.appElement,z=k.ariaHideApp,R=k.htmlOpenClassName,L=k.bodyOpenClassName,K=k.parentSelector,_=K&&K().ownerDocument||document;L&&S.remove(_.body,L),R&&S.remove(_.getElementsByTagName("html")[0],R),z&&J>0&&(J-=1,J===0&&x.show($)),E.props.shouldFocusAfterRender&&(E.props.shouldReturnFocusAfterClose?(c.returnFocus(E.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),E.props.onAfterClose&&E.props.onAfterClose(),v.default.deregister(E)},E.open=function(){E.beforeOpen(),E.state.afterOpen&&E.state.beforeClose?(clearTimeout(E.closeTimer),E.setState({beforeClose:!1})):(E.props.shouldFocusAfterRender&&(c.setupScopedFocus(E.node),c.markForFocusLater()),E.setState({isOpen:!0},function(){E.openAnimationFrame=requestAnimationFrame(function(){E.setState({afterOpen:!0}),E.props.isOpen&&E.props.onAfterOpen&&E.props.onAfterOpen({overlayEl:E.overlay,contentEl:E.content})})}))},E.close=function(){E.props.closeTimeoutMS>0?E.closeWithTimeout():E.closeWithoutTimeout()},E.focusContent=function(){return E.content&&!E.contentHasFocus()&&E.content.focus({preventScroll:!0})},E.closeWithTimeout=function(){var k=Date.now()+E.props.closeTimeoutMS;E.setState({beforeClose:!0,closesAt:k},function(){E.closeTimer=setTimeout(E.closeWithoutTimeout,E.state.closesAt-Date.now())})},E.closeWithoutTimeout=function(){E.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},E.afterClose)},E.handleKeyDown=function(k){B(k)&&(0,f.default)(E.content,k),E.props.shouldCloseOnEsc&&G(k)&&(k.stopPropagation(),E.requestClose(k))},E.handleOverlayOnClick=function(k){E.shouldClose===null&&(E.shouldClose=!0),E.shouldClose&&E.props.shouldCloseOnOverlayClick&&(E.ownerHandlesClose()?E.requestClose(k):E.focusContent()),E.shouldClose=null},E.handleContentOnMouseUp=function(){E.shouldClose=!1},E.handleOverlayOnMouseDown=function(k){!E.props.shouldCloseOnOverlayClick&&k.target==E.overlay&&k.preventDefault()},E.handleContentOnClick=function(){E.shouldClose=!1},E.handleContentOnMouseDown=function(){E.shouldClose=!1},E.requestClose=function(k){return E.ownerHandlesClose()&&E.props.onRequestClose(k)},E.ownerHandlesClose=function(){return E.props.onRequestClose},E.shouldBeClosed=function(){return!E.state.isOpen&&!E.state.beforeClose},E.contentHasFocus=function(){return document.activeElement===E.content||E.content.contains(document.activeElement)},E.buildClassName=function(k,$){var z=(typeof $>"u"?"undefined":r($))==="object"?$:{base:V[k],afterOpen:V[k]+"--after-open",beforeClose:V[k]+"--before-close"},R=z.base;return E.state.afterOpen&&(R=R+" "+z.afterOpen),E.state.beforeClose&&(R=R+" "+z.beforeClose),typeof $=="string"&&$?R+" "+$:R},E.attributesFromObject=function(k,$){return Object.keys($).reduce(function(z,R){return z[k+"-"+R]=$[R],z},{})},E.state={afterOpen:!1,beforeClose:!1},E.shouldClose=null,E.moveFromContentToOverlay=null,E}return l(P,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(E,k){this.props.isOpen&&!E.isOpen?this.open():!this.props.isOpen&&E.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!k.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var E=this.props,k=E.appElement,$=E.ariaHideApp,z=E.htmlOpenClassName,R=E.bodyOpenClassName,L=E.parentSelector,K=L&&L().ownerDocument||document;R&&S.add(K.body,R),z&&S.add(K.getElementsByTagName("html")[0],z),$&&(J+=1,x.hide(k)),v.default.register(this)}},{key:"render",value:function(){var E=this.props,k=E.id,$=E.className,z=E.overlayClassName,R=E.defaultStyles,L=E.children,K=$?{}:R.content,_=z?{}:R.overlay;if(this.shouldBeClosed())return null;var N={ref:this.setOverlayRef,className:this.buildClassName("overlay",z),style:n({},_,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},F=n({id:k,ref:this.setContentRef,style:n({},K,this.props.style.content),className:this.buildClassName("content",$),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),A=this.props.contentElement(F,L);return this.props.overlayElement(N,A)}}]),P}(s.Component);U.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},U.propTypes={isOpen:i.default.bool.isRequired,defaultStyles:i.default.shape({content:i.default.object,overlay:i.default.object}),style:i.default.shape({content:i.default.object,overlay:i.default.object}),className:i.default.oneOfType([i.default.string,i.default.object]),overlayClassName:i.default.oneOfType([i.default.string,i.default.object]),parentSelector:i.default.func,bodyOpenClassName:i.default.string,htmlOpenClassName:i.default.string,ariaHideApp:i.default.bool,appElement:i.default.oneOfType([i.default.instanceOf(g.default),i.default.instanceOf(j.SafeHTMLCollection),i.default.instanceOf(j.SafeNodeList),i.default.arrayOf(i.default.instanceOf(g.default))]),onAfterOpen:i.default.func,onAfterClose:i.default.func,onRequestClose:i.default.func,closeTimeoutMS:i.default.number,shouldFocusAfterRender:i.default.bool,shouldCloseOnOverlayClick:i.default.bool,shouldReturnFocusAfterClose:i.default.bool,preventScroll:i.default.bool,role:i.default.string,contentLabel:i.default.string,aria:i.default.object,data:i.default.object,children:i.default.node,shouldCloseOnEsc:i.default.bool,overlayRef:i.default.func,contentRef:i.default.func,id:i.default.string,overlayElement:i.default.func,contentElement:i.default.func,testId:i.default.string},t.default=U,e.exports=t.default})(ri,ri.exports);var f0=ri.exports;function wm(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Sm(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function Nm(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}wm.__suppressDeprecationWarning=!0;Sm.__suppressDeprecationWarning=!0;Nm.__suppressDeprecationWarning=!0;function p0(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,l=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?l="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(l="UNSAFE_componentWillUpdate"),n!==null||r!==null||l!==null){var s=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(l!==null?`
  `+l:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=wm,t.componentWillReceiveProps=Sm),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Nm;var i=t.componentDidUpdate;t.componentDidUpdate=function(c,p,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;i.call(this,c,p,h)}}return e}const m0=Object.freeze(Object.defineProperty({__proto__:null,polyfill:p0},Symbol.toStringTag,{value:"Module"})),h0=Am(m0);Object.defineProperty(Un,"__esModule",{value:!0});Un.bodyOpenClassName=Un.portalClassName=void 0;var sd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jm=d,Bs=Ol(jm),v0=Ap,Ws=Ol(v0),y0=hm,te=Ol(y0),x0=f0,od=Ol(x0),w0=bt,S0=j0(w0),an=jt,ad=Ol(an),N0=h0;function j0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Ol(e){return e&&e.__esModule?e:{default:e}}function C0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function E0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k0=Un.portalClassName="ReactModalPortal",b0=Un.bodyOpenClassName="ReactModal__Body--open",Fn=an.canUseDOM&&Ws.default.createPortal!==void 0,ud=function(t){return document.createElement(t)},cd=function(){return Fn?Ws.default.createPortal:Ws.default.unstable_renderSubtreeIntoContainer};function Xl(e){return e()}var Al=function(e){E0(t,e);function t(){var n,r,l,s;C0(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return s=(r=(l=id(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(i))),l),l.removePortal=function(){!Fn&&Ws.default.unmountComponentAtNode(l.node);var c=Xl(l.props.parentSelector);c&&c.contains(l.node)?c.removeChild(l.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},l.portalRef=function(c){l.portal=c},l.renderPortal=function(c){var p=cd(),f=p(l,Bs.default.createElement(od.default,sd({defaultStyles:t.defaultStyles},c)),l.node);l.portalRef(f)},r),id(l,s)}return g0(t,[{key:"componentDidMount",value:function(){if(an.canUseDOM){Fn||(this.node=ud("div")),this.node.className=this.props.portalClassName;var r=Xl(this.props.parentSelector);r.appendChild(this.node),!Fn&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var l=Xl(r.parentSelector),s=Xl(this.props.parentSelector);return{prevParent:l,nextParent:s}}},{key:"componentDidUpdate",value:function(r,l,s){if(an.canUseDOM){var a=this.props,i=a.isOpen,u=a.portalClassName;r.portalClassName!==u&&(this.node.className=u);var c=s.prevParent,p=s.nextParent;p!==c&&(c.removeChild(this.node),p.appendChild(this.node)),!(!r.isOpen&&!i)&&!Fn&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!an.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,l=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||l+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-l)):this.removePortal()}}},{key:"render",value:function(){if(!an.canUseDOM||!Fn)return null;!this.node&&Fn&&(this.node=ud("div"));var r=cd();return r(Bs.default.createElement(od.default,sd({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){S0.setElement(r)}}]),t}(jm.Component);Al.propTypes={isOpen:te.default.bool.isRequired,style:te.default.shape({content:te.default.object,overlay:te.default.object}),portalClassName:te.default.string,bodyOpenClassName:te.default.string,htmlOpenClassName:te.default.string,className:te.default.oneOfType([te.default.string,te.default.shape({base:te.default.string.isRequired,afterOpen:te.default.string.isRequired,beforeClose:te.default.string.isRequired})]),overlayClassName:te.default.oneOfType([te.default.string,te.default.shape({base:te.default.string.isRequired,afterOpen:te.default.string.isRequired,beforeClose:te.default.string.isRequired})]),appElement:te.default.oneOfType([te.default.instanceOf(ad.default),te.default.instanceOf(an.SafeHTMLCollection),te.default.instanceOf(an.SafeNodeList),te.default.arrayOf(te.default.instanceOf(ad.default))]),onAfterOpen:te.default.func,onRequestClose:te.default.func,closeTimeoutMS:te.default.number,ariaHideApp:te.default.bool,shouldFocusAfterRender:te.default.bool,shouldCloseOnOverlayClick:te.default.bool,shouldReturnFocusAfterClose:te.default.bool,preventScroll:te.default.bool,parentSelector:te.default.func,aria:te.default.object,data:te.default.object,role:te.default.string,contentLabel:te.default.string,shouldCloseOnEsc:te.default.bool,overlayRef:te.default.func,contentRef:te.default.func,id:te.default.string,overlayElement:te.default.func,contentElement:te.default.func};Al.defaultProps={isOpen:!1,portalClassName:k0,bodyOpenClassName:b0,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Bs.default.createElement("div",t,n)},contentElement:function(t,n){return Bs.default.createElement("div",t,n)}};Al.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,N0.polyfill)(Al);Un.default=Al;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Un,r=l(n);function l(s){return s&&s.__esModule?s:{default:s}}t.default=r.default,e.exports=t.default})(ni,ni.exports);var _0=ni.exports;const Cm=yd(_0);Cm.setAppElement("#root");const F0=(e="")=>/\.(mp4|webm|mov|mkv)$/i.test(e),P0=e=>{if(!e)return"";const t=e.filename||"",n=e.subfolder||"",r=e.type||"output",l=e.mtime?`&v=${encodeURIComponent(String(e.mtime))}`:"";return`/view?filename=${encodeURIComponent(t)}&subfolder=${encodeURIComponent(n)}&type=${encodeURIComponent(r)}${l}`};function O0({isOpen:e,media:t,onClose:n,onPrev:r,onNext:l}){if(!t)return null;const s=P0(t),a=t.subfolder||"Gallery",i=F0(t.filename);return o.jsx(Cm,{isOpen:e,onRequestClose:n,overlayClassName:"react-modal-overlay",className:"react-modal-content",contentLabel:"Preview",children:o.jsxs("div",{className:"media-viewer-panel",children:[o.jsxs("header",{className:"media-viewer-head",children:[o.jsxs("div",{className:"media-viewer-meta",children:[o.jsx("div",{className:"media-viewer-title",title:t.filename,children:t.filename}),o.jsxs("div",{className:"media-viewer-sub",children:[o.jsx("span",{className:"media-chip",children:a}),o.jsx("span",{className:`media-chip ${i?"is-clip":"is-still"}`,children:i?"Video":"Image"})]})]}),o.jsxs("div",{className:"media-viewer-actions",children:[o.jsx("button",{type:"button",className:"media-btn ghost",onClick:r,"aria-label":"Previous item",children:""}),o.jsx("button",{type:"button",className:"media-btn ghost",onClick:l,"aria-label":"Next item",children:""}),o.jsx("a",{href:s,target:"_blank",rel:"noreferrer",className:"media-btn",children:"Open"}),o.jsx("button",{type:"button",className:"media-btn solid",onClick:n,children:"Close"})]})]}),o.jsxs("div",{className:"media-viewer-stage",children:[o.jsx("button",{type:"button",className:"media-stage-nav is-left",onClick:r,"aria-label":"Previous",children:""}),o.jsx("div",{className:"media-viewer-frame",children:i?o.jsx("video",{src:s,controls:!0,className:"media-viewer-media",autoPlay:!0}):o.jsx("img",{src:s,alt:t.filename,className:"media-viewer-media"})}),o.jsx("button",{type:"button",className:"media-stage-nav is-right",onClick:l,"aria-label":"Next",children:""})]})]})})}const A0=(e="")=>e.startsWith("."),R0=(e="")=>/\.(png|jpe?g|gif|webp|bmp|tif?f)$/i.test(e),L0=(e="")=>/\.(mp4|webm|mov|mkv)$/i.test(e);function T0(){const e=(R,L="")=>{try{return typeof window<"u"&&localStorage.getItem(R)||L}catch{return L}},t=(R,L)=>{try{typeof window<"u"&&localStorage.setItem(R,L)}catch{}},[n,r]=d.useState(e("galleryPath","")),[l,s]=d.useState([]),[a,i]=d.useState(!1),[u,c]=d.useState(1),[p,f]=d.useState(1),[h,x]=d.useState(()=>{const R=e("galleryPageSize","30"),L=parseInt(R,10);return Number.isFinite(L)?L:30}),[y,S]=d.useState("all"),[j,g]=d.useState(!1),[m,v]=d.useState(""),[w,b]=d.useState(()=>e("galleryRecursive","0")==="1"),[M,T]=d.useState(0);d.useEffect(()=>{let R=!1;return(async()=>{i(!0);try{const K=await Kp(n,u,h,j,w,y,M);if(R)return;K&&K.items?(s(K.items),f(K.total_pages||1)):(s([]),f(1))}catch(K){console.error("Failed to load gallery",K),R||(s([]),f(1))}finally{R||i(!1)}})(),t("galleryPath",n),t("galleryPageSize",String(h)),()=>{R=!0}},[n,u,h,M,j,w,y]);const O=d.useMemo(()=>{if(!n)return[];const R=n.replace(/\\/g,"/").split("/").filter(Boolean),L=[];for(let K=0;K<R.length;K++)L.push({name:R[K],path:R.slice(0,K+1).join("/")});return L},[n]),V=d.useMemo(()=>l.filter(R=>R.type==="directory").map(R=>({filename:R.filename,subfolder:R.subfolder})),[l]),B=d.useMemo(()=>{const R=(m||"").trim().toLowerCase();return l.filter(L=>{const K=(L.filename||"").toLowerCase();return!(!j&&A0(K)||L.type!=="directory"&&(y==="image"&&!R0(K)||y==="video"&&!L0(K))||R&&!K.includes(R))})},[l,j,y,m]),G=d.useMemo(()=>B.filter(R=>R.type!=="directory"),[B]),J=d.useCallback(()=>{if(!n)return;const R=n.replace(/\\/g,"/").lastIndexOf("/"),L=R===-1?"":n.slice(0,R);r(L),c(1)},[n]),U=d.useCallback(()=>{r(""),c(1)},[]),C=d.useCallback(R=>{r(R||""),c(1)},[]),P=d.useCallback(R=>{r(R),c(1)},[]),W=d.useCallback(R=>{const L=parseInt(String(R),10)||30;x(L),c(1)},[]),E=d.useCallback(R=>{S(R),c(1)},[]),k=d.useCallback(R=>{const L=!!R;b(L),c(1),t("galleryRecursive",L?"1":"0")},[]),$=d.useCallback(R=>{v(R),c(1)},[]),z=d.useCallback(()=>{T(R=>R+1)},[]);return d.useEffect(()=>{const R=()=>z();return typeof window<"u"&&window.addEventListener&&window.addEventListener("cozygen:queue-finished",R),()=>{typeof window<"u"&&window.removeEventListener&&window.removeEventListener("cozygen:queue-finished",R)}},[z]),d.useEffect(()=>{if(typeof window>"u")return;let R=!1,L,K;const _=()=>{K&&(clearTimeout(K),K=null)},N=(A=8e3)=>{_(),K=window.setTimeout(()=>{R||(z(),N(8e3))},A)};return(()=>{if(!("EventSource"in window)){N();return}const A=new URLSearchParams({subfolder:n||"",recursive:w?"1":"0",show_hidden:j?"1":"0"});L=new EventSource(`/cozygen/api/gallery/stream?${A.toString()}`),L.onmessage=()=>{R||z()},L.onerror=()=>{L&&(L.close(),L=null),N()}})(),()=>{R=!0,_(),L&&(L.close(),L=null)}},[n,w,j,z]),{path:n,items:l,loading:a,page:u,totalPages:p,perPage:h,kind:y,showHidden:j,query:m,recursive:w,crumbs:O,dirChips:V,filtered:B,mediaItems:G,setPage:c,setPerPage:W,setShowHidden:g,setQuery:$,setKind:E,setRecursive:k,goBack:J,goRoot:U,goToPath:C,selectDir:P,refresh:z}}function I0(e){const[t,n]=d.useState(!1),[r,l]=d.useState(null);d.useEffect(()=>{if(!e||e.length===0){l(null),n(!1);return}l(p=>p==null?p:p>=e.length?e.length-1:p)},[e]);const s=d.useCallback(p=>{if(!e||!e.length||!p)return;const f=e.indexOf(p);f!==-1&&(l(f),n(!0))},[e]),a=d.useCallback(()=>{n(!1),l(null)},[]),i=d.useCallback(()=>{!e||!e.length||l(p=>p==null?p:(p+1)%e.length)},[e]),u=d.useCallback(()=>{!e||!e.length||l(p=>p==null?p:(p-1+e.length)%e.length)},[e]),c=r!=null&&r>=0&&e&&r<e.length?e[r]:null;return{viewerOpen:t,viewerIndex:r,currentMedia:c,open:s,close:a,next:i,prev:u,setViewerOpen:n}}const dd="cozygen_gallery_view_mode",fd="cozygen_gallery_feed_autoplay";function M0(e,t){const n=d.useRef(null),[r,l]=d.useState(()=>typeof window<"u"&&window.scrollY||0),[s,a]=d.useState({width:0,cols:0,top:0,viewport:typeof window<"u"&&window.innerHeight||800});d.useEffect(()=>{if(!t)return;const f=n.current;if(!f||typeof window>"u"||typeof ResizeObserver>"u")return;const h=()=>{const j=f.getBoundingClientRect(),g=j.width||f.clientWidth||1,m=Math.max(1,Math.floor(g/160)),v=j.top+(window.scrollY||0);a({width:g,cols:m,top:v,viewport:window.innerHeight||800})};h();const x=new ResizeObserver(()=>h());x.observe(f),window.addEventListener("resize",h);let y=!1;const S=()=>{y||(y=!0,window.requestAnimationFrame(()=>{y=!1,l(window.scrollY||0)}))};return window.addEventListener("scroll",S,{passive:!0}),()=>{x.disconnect(),window.removeEventListener("resize",h),window.removeEventListener("scroll",S)}},[t]);const i=t&&s.cols>0&&e.length>60,{visibleItems:u,topSpacer:c,bottomSpacer:p}=d.useMemo(()=>{if(!i)return{visibleItems:e,topSpacer:0,bottomSpacer:0};const f=s.width/s.cols,h=Math.max(180,Math.ceil(f*1.25)+32),x=Math.ceil(e.length/s.cols),y=Math.max(0,r-s.top),S=Math.max(0,Math.floor(y/h)-2),j=Math.min(x,Math.ceil((y+s.viewport)/h)+2),g=S*s.cols,m=Math.min(e.length,j*s.cols);return{visibleItems:e.slice(g,m),topSpacer:S*h,bottomSpacer:Math.max(0,(x-j)*h)}},[e,s,r,i]);return{containerRef:n,visibleItems:u,topSpacer:c,bottomSpacer:p,virtualized:i}}function z0(){const{path:e,loading:t,page:n,totalPages:r,perPage:l,kind:s,showHidden:a,recursive:i,crumbs:u,dirChips:c,filtered:p,mediaItems:f,setPage:h,setPerPage:x,setShowHidden:y,setKind:S,setRecursive:j,goBack:g,goRoot:m,goToPath:v,selectDir:w,refresh:b}=T0(),{viewerOpen:M,currentMedia:T,open:O,close:V,next:B,prev:G}=I0(f),[J,U]=d.useState(()=>{if(typeof window>"u")return"grid";const N=window.localStorage.getItem(dd);return N==="feed"||N==="grid"?N:"grid"}),[C,P]=d.useState(()=>typeof window>"u"?!1:window.localStorage.getItem(fd)==="true");d.useEffect(()=>{try{window.localStorage.setItem(dd,J)}catch{}},[J]),d.useEffect(()=>{try{window.localStorage.setItem(fd,C?"true":"false")}catch{}},[C]);const W=N=>{if(N.type==="directory"){w(N.subfolder);return}O(N)},E=J==="grid",k=N=>N.type==="directory"?`dir:${N.subfolder||N.filename}`:`${N.subfolder||""}|${N.filename}`;d.useEffect(()=>{try{window.localStorage.setItem("cozygen_gallery_pending","0")}catch{}window.dispatchEvent(new Event("cozygen:gallery-viewed"))},[]);const $=t?"Loading":`${p.length} items`,{containerRef:z,visibleItems:R,topSpacer:L,bottomSpacer:K,virtualized:_}=M0(p,E);return o.jsxs("div",{className:"page-shell page-stack",children:[o.jsxs(ei,{title:" Gallery",meta:$,children:[o.jsx(gx,{subfolder:e,crumbs:u,dirChips:c,onBack:g,onRoot:m,onCrumb:N=>v(N),onSelectDir:N=>w(N)}),o.jsx("div",{className:"gallery-topbar",children:o.jsxs("div",{className:"gallery-topbar-grid",children:[o.jsxs("div",{className:"gallery-group",children:[o.jsx("div",{className:"gallery-group-label",children:"Type"}),o.jsxs("div",{className:"gallery-kind-toggle",role:"group","aria-label":"Filter by media type",children:[o.jsx("button",{type:"button",className:s==="all"?"is-active":"","aria-pressed":s==="all",onClick:()=>S("all"),children:"All"}),o.jsx("button",{type:"button",className:s==="image"?"is-active":"","aria-pressed":s==="image",onClick:()=>S("image"),children:"Img"}),o.jsx("button",{type:"button",className:s==="video"?"is-active":"","aria-pressed":s==="video",onClick:()=>S("video"),children:"Vid"})]})]}),o.jsxs("div",{className:"gallery-group",children:[o.jsx("div",{className:"gallery-group-label",children:"View"}),o.jsxs("div",{className:"gallery-inline-actions",children:[o.jsxs("div",{className:"gallery-kind-toggle",role:"group","aria-label":"View mode",children:[o.jsx("button",{type:"button",className:J==="grid"?"is-active":"","aria-pressed":J==="grid",onClick:()=>U("grid"),children:"Grid"}),o.jsx("button",{type:"button",className:J==="feed"?"is-active":"","aria-pressed":J==="feed",onClick:()=>U("feed"),children:"Feed"})]}),o.jsxs("div",{className:"gallery-icon-row",children:[o.jsx("button",{type:"button",className:`gallery-chip-btn is-icon ${a?"is-active":""}`,onClick:()=>y(N=>!N),"aria-label":"Toggle hidden",title:"Toggle hidden",children:""}),o.jsx("button",{type:"button",className:`gallery-chip-btn is-icon ${i?"is-active":""}`,onClick:()=>j(N=>!N),"aria-label":"Include subfolders",title:"Include subfolders",children:""}),o.jsxs("button",{type:"button",className:"gallery-refresh",onClick:b,"aria-label":"Refresh",title:"Refresh",children:[o.jsx("span",{className:"sr-only",children:"Refresh"}),o.jsx("span",{"aria-hidden":"true",children:""})]})]})]}),J==="feed"?o.jsx("button",{type:"button",className:`gallery-chip-btn ${C?"is-active":""}`,onClick:()=>P(N=>!N),"aria-pressed":C,"aria-label":`Toggle autoplay (${C?"on":"off"})`,title:"Toggle feed autoplay",children:C?"Autoplay On":"Autoplay Off"}):null]}),o.jsx("div",{className:"gallery-group"})]})}),o.jsxs("div",{className:"gallery-meta-row",children:[o.jsxs("span",{className:"gallery-meta",children:["Page ",n," / ",r,"  ",p.length," items"]}),o.jsx("div",{className:"gallery-meta-actions",children:o.jsxs("div",{className:"gallery-pagination-mini",children:[o.jsx("button",{type:"button",onClick:()=>h(N=>Math.max(1,N-1)),disabled:n<=1||t,"aria-label":"Prev page",children:""}),o.jsx("button",{type:"button",onClick:()=>h(N=>N<r?N+1:N),disabled:n>=r||t,"aria-label":"Next page",children:""}),o.jsxs("select",{value:l,onChange:N=>{const F=parseInt(N.target.value,10)||30;x(F)},className:"gallery-perpage","aria-label":"Items per page",children:[o.jsx("option",{value:15,children:"15"}),o.jsx("option",{value:30,children:"30"}),o.jsx("option",{value:60,children:"60"}),o.jsx("option",{value:120,children:"120"})]})]})})]}),p.length===0&&!t?o.jsx("div",{className:"py-10 flex items-center justify-center",children:o.jsxs("div",{className:"ui-card max-w-md w-full text-center",children:[o.jsx("div",{className:"mb-2 text-base font-semibold text-[#F8F4FF]",children:"Nothing here yet"}),o.jsx("div",{className:"text-xs text-[#9DA3FFCC]",children:"Adjust filters or render something new."})]})}):E?o.jsx("div",{className:"w-full overflow-hidden",children:o.jsxs("div",{className:"gallery-grid-responsive",ref:z,children:[_&&L>0?o.jsx("div",{"aria-hidden":!0,style:{gridColumn:"1 / -1",height:`${L}px`}}):null,R.map(N=>o.jsx(nd,{item:N,onSelect:W,variant:"grid",autoPlay:!1},k(N))),_&&K>0?o.jsx("div",{"aria-hidden":!0,style:{gridColumn:"1 / -1",height:`${K}px`}}):null]})}):o.jsx("div",{className:"flex flex-col gap-4 items-center",children:f.map(N=>o.jsx("div",{className:"w-full flex justify-center",children:o.jsx("div",{className:"w-full max-w-[480px] sm:max-w-[640px] rounded-2xl border border-[#2A2E4A] bg-[#050716] px-3 py-3 shadow-[0_0_24px_rgba(5,7,22,0.9)]",children:o.jsx(nd,{item:N,onSelect:W,variant:"feed",autoPlay:C})})},k(N)))})]}),o.jsx(O0,{isOpen:M,media:T,onClose:V,onPrev:G,onNext:B})]})}function D0({workflow:e,preset:t,workflowMode:n,modeOptions:r=[],previewSrc:l,previewType:s="image",tags:a=[],isSelected:i,requiresImages:u=!1,onActivate:c,onQuickEdit:p,onImages:f,onAssignMode:h,onUploadPreview:x,onClear:y,savingMode:S,previewSaving:j=!1,quickEditActive:g=!1,children:m,description:v}){var B;const w=d.useRef(null),b=d.useRef(null);d.useEffect(()=>{i&&w.current&&w.current.focus()},[i]),d.useEffect(()=>{if(typeof document>"u")return;const G=w.current;if(!i||!G){const U=document.activeElement;!i&&G&&U&&G.contains(U)&&typeof U.blur=="function"&&U.blur();return}const J=U=>{w.current&&(w.current.contains(U.target)||requestAnimationFrame(()=>{var C;(C=w.current)==null||C.focus()}))};return document.addEventListener("focusin",J,!0),()=>{document.removeEventListener("focusin",J,!0)}},[i]),d.useEffect(()=>{if(!i||!w.current)return;const G=w.current,J=U=>{if(U.key==="Escape"){y==null||y();return}};return G.addEventListener("keydown",J),()=>G.removeEventListener("keydown",J)},[i,y]);const M=d.useMemo(()=>{if(!n)return"Uncategorized";const G=r.find(J=>J.id===n);return G?G.label:n},[n,r]),T=s==="video"||l&&l.startsWith("data:video"),O=G=>{var U;const J=(U=G.target.files)==null?void 0:U[0];J&&(x==null||x(J),G.target.value="")},V=["preset-card",i?"preset-card--active":""].filter(Boolean).join(" ");return o.jsxs("div",{className:V,tabIndex:i?0:-1,ref:w,children:[o.jsxs("div",{className:"preset-card-media",onClick:()=>c==null?void 0:c(),children:[l?T?o.jsx("video",{src:l,muted:!0,loop:!0,playsInline:!0,autoPlay:!0,className:"preset-card-media-src"}):o.jsx("img",{src:l,alt:`${t==null?void 0:t.name} preview`,loading:"lazy",className:"preset-card-media-src"}):o.jsx("div",{className:"preset-card-preview preset-card-preview--placeholder",children:o.jsx("span",{children:((B=t==null?void 0:t.name)==null?void 0:B.slice(0,1))||"P"})}),o.jsxs("div",{className:"preset-card-overlay",children:[o.jsxs("div",{children:[o.jsx("span",{className:"ui-kicker",children:e}),o.jsx("div",{className:"preset-card-title",children:t==null?void 0:t.name})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{id:`mode-${e}-${t==null?void 0:t.name}`,value:n||"",onChange:G=>h==null?void 0:h(G.target.value||null),disabled:S,className:"preset-card-mode-select",children:[o.jsx("option",{value:"",children:"Unset"}),r.map(G=>o.jsx("option",{value:G.id,children:G.label},G.id))]}),o.jsx("button",{type:"button",className:"preset-card-setref",onClick:G=>{var J;G.stopPropagation(),(J=b.current)==null||J.click()},disabled:j,children:j?"Uploading":"Reference"}),o.jsx("input",{ref:b,type:"file",accept:"image/*,video/*",hidden:!0,onChange:O})]})]})]}),o.jsxs("div",{className:"preset-card-underbar",children:[o.jsxs("div",{className:"preset-card-tagrow",children:[o.jsx("span",{className:"preset-card-chip is-kind",children:M}),u&&o.jsx("span",{className:"preset-card-chip is-alert",children:"Image input"}),a.map(G=>o.jsx("span",{className:"preset-card-chip",children:G},G))]}),v&&o.jsx("p",{className:"preset-card-description",children:v}),o.jsxs("div",{className:"preset-card-actions",children:[o.jsx("button",{type:"button",className:"ui-button is-primary is-compact",onClick:G=>{G.stopPropagation(),c==null||c()},children:i?"Reapply":"Activate"}),o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:G=>{G.stopPropagation(),p==null||p()},children:g?"Hide tweaks":"Quick tweaks"}),o.jsx("button",{type:"button",className:"ui-button is-ghost is-compact",onClick:G=>{G.stopPropagation(),f==null||f()},children:"Images"})]})]}),i&&m&&o.jsx("div",{className:"preset-card-drawer",onClick:G=>G.stopPropagation(),children:m})]})}function $0({input:e,value:t,onFormChange:n}){const{param:r,previewUrl:l,imgReady:s,setImgReady:a,displayName:i,serverOpen:u,openServer:c,closeServer:p,cwd:f,setCwd:h,page:x,setPage:y,perPage:S,setPerPage:j,totalPages:g,topDirs:m,loading:v,search:w,setSearch:b,imagesOnly:M,setImagesOnly:T,shownEntries:O,pickerSource:V,setPickerSource:B,handleUpload:G,clearImage:J,selectServer:U}=iu({input:e,value:t,onFormChange:n}),C=d.useRef(null),[P,W]=d.useState(0),E=async $=>{var R;const z=(R=$.target.files)==null?void 0:R[0];z&&(await G(z),C.current&&(C.current.value=""),W(L=>L+1))},k=()=>{var $;return($=C.current)==null?void 0:$.click()};return o.jsxs("div",{className:"preset-image-row",children:[o.jsx("input",{ref:C,type:"file",accept:"image/*",className:"hidden",onChange:E},P),o.jsx("div",{className:"preset-image-thumb",children:l?o.jsx("img",{src:l,alt:r,className:s?"opacity-100":"opacity-0",onLoad:()=>a(!0)}):o.jsx("span",{children:(r==null?void 0:r.slice(0,1))||"I"})}),o.jsxs("div",{className:"preset-image-info",children:[o.jsx("div",{className:"preset-image-name",children:r}),o.jsx("div",{className:"preset-image-hint",children:t||i||"No file selected"})]}),o.jsxs("div",{className:"preset-image-actions",children:[o.jsx("button",{type:"button",className:"preset-image-action",onClick:k,children:"Upload"}),o.jsx("button",{type:"button",className:"preset-image-action",onClick:c,children:"Server"}),t?o.jsx("button",{type:"button",className:"preset-image-action is-clear",onClick:J,children:"Clear"}):null]}),o.jsx(uu,{open:u,cwd:f,setCwd:h,page:x,setPage:y,perPage:S,setPerPage:j,totalPages:g,topDirs:m,loading:v,imagesOnly:M,setImagesOnly:T,search:w,setSearch:b,shownEntries:O,pickerSource:V,setPickerSource:B,onSelect:U,onClose:p})]})}function U0(e){return!e||!e.filename?null:`/cozygen/thumb?${new URLSearchParams({type:e.type||"output",subfolder:e.subfolder||"",filename:e.filename,w:"640"}).toString()}`}function B0(e){var t;return((t=e==null?void 0:e.preview)==null?void 0:t.kind)==="data"&&e.preview.data?e.preview.data:U0(e==null?void 0:e.example)}function W0(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}const Em=/\.(png|jpe?g|webp|gif|bmp)$/i,V0=/\.(mp4|webm|mov|mkv)$/i;function H0(e){var c;const t=(e==null?void 0:e.values)||{},n=Array.isArray((c=e==null?void 0:e.meta)==null?void 0:c.tags)?e.meta.tags:[],r=[];n.forEach(p=>{typeof p=="string"&&p.trim()&&r.push(p.trim().slice(0,24))}),Object.values(t).some(p=>typeof p=="string"&&Em.test(p))&&r.push("Image Input");const s=t["Frame Count"]||t.frames;s&&r.push(`${s} frames`);const a=t.Steps||t["Sampling Steps"]||t.steps;a&&r.push(`${a} steps`);const i=t.Seed||t.seed;typeof i<"u"&&r.push(`Seed ${i}`);const u=t.FPS||t["Video FPS"];return u&&r.push(`${u} fps`),[...new Set(r)].slice(0,4)}const pd=4,G0=[{id:"prompt",weight:1,test:e=>/prompt/i.test(e.label||"")&&!/negative/i.test(e.label||"")},{id:"negative_prompt",weight:2,test:e=>/negative/i.test(e.label||"")&&/prompt/i.test(e.label||"")},{id:"steps",weight:3,test:e=>/step/i.test(e.label||e.paramName||"")},{id:"cfg",weight:4,test:e=>/cfg|guidance/i.test(e.label||e.paramName||"")},{id:"seed",weight:5,test:e=>/seed/i.test(e.label||e.paramName||"")},{id:"sampler",weight:6,test:e=>/sampler|schedule/i.test(e.label||e.paramName||"")},{id:"frames",weight:7,test:e=>/frame/i.test(e.label||e.paramName||"")},{id:"dimensions",weight:8,test:e=>/width|height|resolution/i.test(e.label||e.paramName||"")}];function K0(e=[],t){var s;if(!e.length)return[];const n=new Map;e.forEach(a=>{const i=Nl(a);i&&n.set(i,a)});const r=Array.isArray((s=t==null?void 0:t.meta)==null?void 0:s.quick_params)?t.meta.quick_params.map(a=>String(a||"").trim()).filter(a=>!!a&&n.has(a)):null;if(r&&r.length)return r.slice(0,pd).map(a=>{const i=n.get(a);return{cfg:on(i),input:i}});const l=[];return e.forEach(a=>{if(!a||a.class_type==="CozyGenImageInput")return;const i=on(a),u=G0.reduce((c,p)=>c!==1/0?c:p.test(i)?p.weight:1/0,1/0);u!==1/0&&l.push({cfg:i,input:a,priority:u})}),l.sort((a,i)=>a.priority-i.priority),l.slice(0,pd)}function Q0(e,t,n){const r=`quick-${e.paramName}`,l={id:r,name:e.paramName,className:"quick-field-control",placeholder:typeof e.placeholder=="string"?e.placeholder:""};if(e.paramType==="DROPDOWN"){const a=Array.isArray(e.choices)?e.choices:[];return o.jsxs("select",{...l,value:t??"",onChange:i=>n(i.target.value),children:[o.jsx("option",{value:"",children:"Preset value"}),a.map(i=>o.jsx("option",{value:i,children:i},i))]})}if(e.paramType==="BOOLEAN")return o.jsxs("label",{className:"quick-field-boolean",htmlFor:r,children:[o.jsx("input",{id:r,name:e.paramName,type:"checkbox",checked:!!t,onChange:a=>n(a.target.checked)}),o.jsx("span",{children:"Enable"})]});const s=e.paramType==="NUMBER"?"number":"text";return o.jsx("input",{...l,type:s,value:typeof t=="number"&&Number.isFinite(t)?t:t??"",onChange:a=>n(a.target.value),min:e.min,max:e.max,step:e.step||(e.paramType==="NUMBER"?"any":void 0)})}function q0(){const{workflows:e,selectedWorkflow:t,selectWorkflow:n,loading:r}=rm(),{workflowData:l,dynamicInputs:s=[],imageInputs:a=[],formData:i={},setFormData:u,handleFormChange:c}=lm(t),{aliasLookup:p}=du(),{isLoading:f,statusText:h,handleGenerate:x}=om({selectedWorkflow:t,workflowData:l,dynamicInputs:s,imageInputs:a,formData:i,setFormData:u,promptAliases:p}),y=d.useCallback(()=>{t&&x()},[t,x]),[S,j]=d.useState({}),[g,m]=d.useState(!1),[v,w]=d.useState(""),[b,M]=d.useState(""),[T,O]=d.useState(null),[V,B]=d.useState({}),[G,J]=d.useState(null),[U,C]=d.useState("all"),[P,W]=d.useState(""),[E,k]=d.useState(null),[$,z]=d.useState(!0),[R,L]=d.useState(""),[K,_]=d.useState({}),[N,F]=d.useState(!0),A=d.useRef({}),I=d.useRef(null),Q=d.useMemo(()=>am(t,s),[t,s]),X=d.useCallback(async(D,Y,Z)=>{const Te=(S[D]||[]).find(Be=>Be.name===Y);if(Te){k(`${D}::${Y}`);try{await py(D,Y,Te.values||{},Z||{}),j(Be=>({...Be,[D]:(Be[D]||[]).map(We=>We.name===Y?{...We,meta:Z||{}}:We)}))}catch(Be){console.error("Failed to update preset metadata",Be),w("Failed to update preset metadata")}finally{k(null)}}},[S]),re=d.useCallback(async()=>{if(!e||e.length===0){j({});return}m(!0),w("");const D={};for(const Y of e)try{const Z=await Qp(Y);D[Y]=dm((Z==null?void 0:Z.items)||{})}catch(Z){console.error("Failed to load presets for",Y,Z),D[Y]=[],w("Some presets could not be loaded.")}j(D),m(!1)},[e]);d.useEffect(()=>{re()},[re]),d.useEffect(()=>{const D=()=>{re()};return window.addEventListener("cozygen:preset-changed",D),()=>window.removeEventListener("cozygen:preset-changed",D)},[re]),d.useEffect(()=>{let D=!1;async function Y(){try{const Z=await gy();D||B((Z==null?void 0:Z.workflows)||{})}catch(Z){console.error("Failed to load workflow types",Z)}}return Y(),()=>{D=!0}},[]),d.useEffect(()=>{if(!b)return;const[D,Y]=b.split("::");(S[D]||[]).some(ie=>ie.name===Y)||M("")},[S,b]),d.useEffect(()=>{R&&R!==b&&L("")},[R,b]);const se=d.useCallback(D=>{if(!D)return;const Y=A.current[D];Y&&(Y.scrollIntoView({behavior:"smooth",block:"center"}),Y.classList.add("preset-card-section--highlight"),setTimeout(()=>{Y.classList.remove("preset-card-section--highlight")},800))},[]);d.useEffect(()=>{if(!T||!l||T.workflow!==t)return;const D=T.values||{};u(D),t&&wr(t,D),O(null)},[T,t,l,u]),d.useEffect(()=>{b&&I.current===b&&(se(b),I.current=null)},[b,se]);const xe=d.useMemo(()=>Object.entries(S).flatMap(([D,Y])=>(Y||[]).map(Z=>({workflow:D,...Z}))),[S]),Fe=d.useMemo(()=>{const D=P.trim().toLowerCase();return xe.filter(Y=>{var Te;const Z=V[Y.workflow]||"";return U!=="all"&&Z!==U?!1:D?`${Y.name} ${Y.workflow} ${((Te=Y.meta)==null?void 0:Te.description)||""}`.toLowerCase().includes(D):!0})},[xe,U,P,V]),ke=d.useMemo(()=>{if(!b)return null;const[D,Y]=b.split("::"),Z=(S[D]||[]).find(ie=>ie.name===Y);return Z?{workflow:D,...Z}:null},[b,S]),_t=!!ke&&!!l&&t===ke.workflow,Ft=d.useMemo(()=>{if(!_t)return[];const D=new Map;(Q||[]).forEach(Z=>{const ie=Nl(Z);ie&&D.set(ie,Z)});const Y=[];return nm.forEach(Z=>{var Rl,Ll;const ie=sn(D,Z.highParamAliases||Z.highParam),Te=sn(D,Z.lowParamAliases||Z.lowParam);if(!ie||!Te)return;const Be=on(ie.input),We=on(Te.input);if(Be.paramType!=="DROPDOWN"||We.paramType!=="DROPDOWN"||!((Rl=Be.choices)!=null&&Rl.length)||!((Ll=We.choices)!=null&&Ll.length))return;const ot=sn(D,Z.highStrengthParamAliases||Z.highStrengthParam),at=sn(D,Z.lowStrengthParamAliases||Z.lowStrengthParam);Y.push({...Z,highParam:ie.name,lowParam:Te.name,highStrengthParam:ot==null?void 0:ot.name,lowStrengthParam:at==null?void 0:at.name,highCfg:Be,lowCfg:We})}),Y},[_t,Q]),ht=d.useCallback(()=>{L(D=>D===b?"":D),_(D=>{if(!b||!D[b])return D;const Y={...D};return delete Y[b],Y}),M("")},[b]),q=d.useCallback((D,Y)=>{if(!(Y!=null&&Y.name))return;const Z=`${D}::${Y.name}`;if(b===Z){ht();return}if(M(Z),O({workflow:D,values:Y.values||{}}),D!==t)n(D);else{const ie=Y.values||{};u(ie),D&&wr(D,ie)}},[b,ht,n,t,u]),ce=d.useCallback(D=>{if(!(D!=null&&D.name))return;const Y=`${D.workflow}::${D.name}`;b!==Y?(I.current=Y,q(D.workflow,D)):se(Y)},[q,se,b]),ae=d.useCallback((D,Y,Z,ie)=>{const Be=(()=>{if(ie==="NUMBER"){if(Z===""||Z===null||typeof Z>"u")return"";const We=Number(Z);return Number.isNaN(We)?"":We}return ie==="BOOLEAN"?!!Z:Z===""||Z===null||typeof Z>"u"?"":Z})();_(We=>{const ot={...We},at={...We[D]||{}};return typeof Be>"u"?delete at[Y]:at[Y]=Be,Object.keys(at).length===0?delete ot[D]:ot[D]=at,ot})},[]),Se=d.useCallback(D=>{_(Y=>{if(!Y[D])return Y;const Z={...Y};return delete Z[D],Z})},[]),Ue=d.useCallback(D=>{if(!(D!=null&&D.name))return;const Y=`${D.workflow}::${D.name}`;b!==Y&&q(D.workflow,D),L(Z=>Z===Y?"":Y)},[b,q]),Pe=d.useCallback(async(D,Y,Z)=>{if(Z)try{const ie=await W0(Z),Te={...Y.meta||{},preview:{kind:"data",data:ie,mime:Z.type,name:Z.name,updatedAt:Date.now()}};await X(D,Y.name,Te)}catch(ie){console.error("Preview upload failed",ie),w("Preview upload failed")}},[X]),Oe=d.useCallback(async(D,Y)=>{J(D);try{await vy(D,Y),B(Z=>{const ie={...Z};return Y?ie[D]=Y:delete ie[D],ie})}catch(Z){console.error("Failed to save workflow type",Z),w("Workflow type update failed")}finally{J(null)}},[]);return r?o.jsx("div",{className:"page-shell",children:o.jsxs("details",{className:"ui-panel collapsible-card",children:[o.jsx("summary",{className:"collapsible-card-summary",children:o.jsx("span",{className:"collapsible-card-summary-label",children:"Preset library"})}),o.jsx("div",{className:"collapsible-card-body text-center text-sm text-[#9DA3FFCC]",children:"Loading workflows"})]})}):!e||e.length===0?o.jsx("div",{className:"page-shell",children:o.jsxs("details",{className:"ui-panel collapsible-card",children:[o.jsx("summary",{className:"collapsible-card-summary",children:o.jsx("span",{className:"collapsible-card-summary-label",children:"Preset library"})}),o.jsx("div",{className:"collapsible-card-body text-center text-sm text-[#9DA3FFCC]",children:"No workflows found. Drop workflow JSON files into CozyGen/workflows and refresh."})]})}):o.jsxs("div",{className:"page-shell page-stack",children:[o.jsxs("details",{className:"ui-panel collapsible-card",open:!$,onToggle:D=>z(!D.target.open),children:[o.jsx("summary",{className:"collapsible-card-summary",children:o.jsx("span",{className:"collapsible-card-summary-label",children:"Preset library"})}),o.jsxs("div",{className:"collapsible-card-body space-y-4",children:[o.jsxs("div",{className:"ui-section-text",children:[o.jsx("span",{className:"ui-kicker",children:"Preset library"}),o.jsx("h1",{className:"ui-title",children:"Pick, tap, launch."})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{type:"button",onClick:re,className:"ui-button is-ghost is-compact",children:"Refresh"})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-[#7C82BF]",children:[o.jsxs("span",{children:[Fe.length," presets"]}),v&&o.jsx("span",{className:"text-[#FF9BEA]",children:v})]}),o.jsxs("div",{className:"filter-rail flex items-center gap-2 overflow-x-auto rounded-full border border-[#1F2342] bg-[#050716] px-2 py-1 text-[11px] uppercase tracking-[0.16em] text-[#9DA3FF]",children:[[{id:"all",label:"All"},...ti].map(D=>o.jsx("button",{type:"button",onClick:()=>C(D.id),className:`shrink-0 rounded-full px-3 py-1 border ${U===D.id?"bg-[#11152C] border-[#3EF0FF99] text-[#F8F4FF]":"border-transparent text-[#8B90C9]"}`,children:D.label},D.id)),o.jsx("div",{className:"mx-1 h-4 w-px bg-[#1F2342]"}),o.jsxs("label",{className:"flex items-center gap-1 rounded-full bg-[#0C0F2C] px-3 py-1 text-[#C3C7FF]",children:[o.jsx("span",{className:"text-xs",children:"Search"}),o.jsx("input",{type:"search",value:P,onChange:D=>W(D.target.value),placeholder:"Keywords",className:"w-24 bg-transparent text-[11px] text-[#F8F4FF] placeholder-[#61679B] focus:outline-none"})]})]})]})]}),o.jsxs("details",{className:"ui-panel collapsible-card",open:!N,onToggle:D=>F(!D.target.open),children:[o.jsx("summary",{className:"collapsible-card-summary",children:o.jsx("span",{className:"collapsible-card-summary-label",children:"Preset selection"})}),o.jsx("div",{className:"collapsible-card-body space-y-4",children:g?o.jsx("div",{className:"ui-card text-center text-sm text-[#9DA3FFCC]",children:"Loading presets"}):Fe.length===0?o.jsx("div",{className:"ui-card text-center text-sm text-[#9DA3FFCC]",children:"No presets yet. Save one from Studio to get started."}):o.jsx("div",{className:["preset-grid","grid gap-5 sm:grid-cols-2 xl:grid-cols-3",ke?"has-active":""].filter(Boolean).join(" "),children:Fe.map(D=>{var mu,hu,gu,vu,yu,xu,wu;const Y=`${D.workflow}::${D.name}`,Z=H0(D),ie=b===Y,Te=B0(D.meta),Be=(gu=(hu=(mu=D.meta)==null?void 0:mu.preview)==null?void 0:hu.mime)!=null&&gu.startsWith("video")||(yu=(vu=D.meta)==null?void 0:vu.example)!=null&&yu.filename&&V0.test(D.meta.example.filename)||Te&&Te.startsWith("data:video")?"video":"image",We=(((xu=D.meta)==null?void 0:xu.requires_images)??Object.values(D.values||{}).some(Ve=>typeof Ve=="string"&&Em.test(Ve)))||!1,ot=K[Y]||{};let at=!1;const Rl=E===Y,Ll=Ve=>{Ve?A.current[Y]=Ve:delete A.current[Y]};let ho=null;if(ie)if(!_t||D.workflow!==t)ho=o.jsxs("div",{className:"preset-card-section",children:[o.jsx("p",{className:"ui-hint",children:"Loading workflow controls"}),o.jsx("button",{type:"button",className:"ui-button is-ghost is-compact",onClick:Ve=>{Ve.stopPropagation(),ht()},children:"Clear selection"})]});else{const Ve=a.length>0,Su=Ve&&a.some(ne=>!i[ne.inputs.param_name]);at=_t&&(!Ve||!Su)&&!f;const Nu=R===Y?K0(Q,D):[],_m=R===Y&&Nu.length>0;ho=o.jsxs(o.Fragment,{children:[R===Y&&o.jsxs("div",{className:"preset-card-section",children:[o.jsx("h4",{children:"Quick tweaks"}),_m?o.jsx("div",{className:"quick-field-grid",children:Nu.map(({cfg:ne})=>{var ju;const Pt=i[ne.paramName]??((ju=D.values)==null?void 0:ju[ne.paramName])??"",qt=Object.prototype.hasOwnProperty.call(ot,ne.paramName),Pr=ot[ne.paramName],Yt=qt?Pr:Pt,Fm=!qt&&(typeof Pt=="number"||typeof Pt=="string")?`Preset: ${Pt}`:"";return o.jsxs("div",{className:"quick-field",children:[o.jsx("label",{htmlFor:`quick-${ne.paramName}`,className:"quick-field-label",children:ne.label}),Q0({...ne,placeholder:Fm},Yt,Pm=>ae(Y,ne.paramName,Pm,ne.paramType))]},ne.paramName)})}):null,o.jsx("div",{className:"quick-field-footer",children:o.jsx("button",{type:"button",className:"ui-button is-ghost is-compact",onClick:ne=>{ne.stopPropagation(),Se(Y)},disabled:!ot||!Object.keys(ot).length,children:"Reset overrides"})})]}),o.jsxs("div",{className:"preset-card-section",ref:Ll,children:[o.jsx("h4",{children:"Image inputs"}),a.length?o.jsx("div",{className:"preset-image-list",children:a.map(ne=>{var Yt;const Pt=ne.inputs.param_name,qt=(Yt=ke.values)==null?void 0:Yt[Pt],Pr=i[Pt]||(typeof qt=="string"?qt:"");return o.jsx($0,{input:ne,value:Pr,onFormChange:c},ne.id)})}):o.jsx("p",{className:"ui-hint",children:"This preset does not need reference images."})]}),Ft.length>0&&o.jsxs("div",{className:"preset-card-section",children:[o.jsx("h4",{children:"LoRA controls"}),o.jsx("div",{className:"space-y-2",children:Ft.map(ne=>{const Pt=ne.highStrengthParam?i[ne.highStrengthParam]:void 0,qt=ne.lowStrengthParam?i[ne.lowStrengthParam]:void 0,Pr=Pt??qt??1;return o.jsx(Za,{name:ne.id||ne.highParam,label:ne.label,highParam:ne.highParam,lowParam:ne.lowParam,highChoices:ne.highCfg.choices,lowChoices:ne.lowCfg.choices,formData:i,onChangeParam:c,highStrengthParam:ne.highStrengthParam,lowStrengthParam:ne.lowStrengthParam,strengthValue:Pr,highStrengthValue:Pt,lowStrengthValue:qt,onChangeHighStrength:ne.highStrengthParam?Yt=>c(ne.highStrengthParam,Yt):void 0,onChangeLowStrength:ne.lowStrengthParam?Yt=>c(ne.lowStrengthParam,Yt):void 0},ne.id||ne.highParam)})})]}),o.jsxs("div",{className:"preset-card-section preset-card-generate",children:[Ve&&Su&&o.jsx("p",{className:"ui-hint text-[#FF9BEA]",children:"Provide the required reference images to unlock render."}),o.jsx("button",{type:"button",className:"ui-button is-primary",disabled:!at,onClick:()=>at&&y(),children:f?"Rendering":"Generate"}),o.jsx("div",{className:"preset-card-status",children:h||(f?"Working":"Idle")}),o.jsx("button",{type:"button",className:"ui-button is-ghost is-compact",onClick:ne=>{ne.stopPropagation(),ht()},children:"Clear selection"})]})]})}return o.jsx(D0,{workflow:D.workflow,preset:D,workflowMode:V[D.workflow],modeOptions:ti,previewSrc:Te,previewType:Be,isSelected:ie,tags:Z,requiresImages:We,onActivate:()=>q(D.workflow,D),onQuickEdit:()=>Ue(D),quickEditActive:R===Y,onAssignMode:Ve=>Oe(D.workflow,Ve),onUploadPreview:Ve=>Pe(D.workflow,D,Ve),onImages:()=>ce(D),onClear:ht,savingMode:G===D.workflow,description:(((wu=D.meta)==null?void 0:wu.description)||"").trim(),previewSaving:Rl,children:ho},Y)})})})]})]})}function Qo({sectionTitle:e,name:t,description:n,preview:r,keywords:l=[],promptExamples:s=[],sourceUrl:a,sourceLabel:i="Visit source",tags:u=[],recommendedWeight:c,modelName:p,status:f="configured",files:h,pairState:x,folder:y,onEdit:S}){const j=r&&r.src,g=(r==null?void 0:r.alt)||`${t} preview`,m=Array.isArray(l)&&l.length>0,v=Array.isArray(s)&&s.length>0,w=Array.isArray(h==null?void 0:h.others)?h.others:[],b=(h==null?void 0:h.high)||(h==null?void 0:h.low)||(h==null?void 0:h.single)||w.length>0,M=f==="detected"?"Needs details":f==="missing"?"Missing files":"Published";return o.jsxs("article",{className:"lora-card",children:[o.jsxs("div",{className:"lora-card-media",children:[j?o.jsx("img",{src:r.src,alt:g,loading:"lazy"}):o.jsx("div",{className:"lora-card-media-placeholder",children:(t==null?void 0:t.slice(0,2))||"LL"}),o.jsxs("div",{className:"lora-card-media-badges",children:[e&&o.jsx("span",{className:"lora-card-chip is-section",children:e}),c&&o.jsx("span",{className:"lora-card-chip",children:`Weight ${c}`}),o.jsx("span",{className:`lora-card-chip is-status-${f}`,children:M})]})]}),o.jsxs("div",{className:"lora-card-body",children:[o.jsxs("div",{className:"lora-card-head",children:[o.jsxs("div",{children:[o.jsx("span",{className:"ui-kicker",children:"LoRA"}),o.jsx("h3",{className:"lora-card-title",children:t}),p&&o.jsx("p",{className:"lora-card-model",children:p}),y&&o.jsxs("p",{className:"lora-card-folder",children:["Folder: ",y]}),x&&o.jsxs("p",{className:"lora-card-folder",children:["Pair: ",x]})]}),u.length>0&&o.jsx("div",{className:"lora-card-tagcol",children:u.map(T=>o.jsx("span",{className:"lora-card-chip is-muted",children:T},T))})]}),n&&o.jsx("p",{className:"lora-card-description",children:n}),m&&o.jsxs("section",{className:"lora-card-section",children:[o.jsx("header",{children:o.jsx("span",{className:"ui-kicker",children:"Keywords"})}),o.jsx("div",{className:"lora-card-chiprow",children:l.map(T=>o.jsx("span",{className:"lora-card-chip is-soft",children:T},T))})]}),v&&o.jsxs("section",{className:"lora-card-section",children:[o.jsx("header",{children:o.jsx("span",{className:"ui-kicker",children:"Prompt examples"})}),o.jsx("div",{className:"lora-card-prompts",children:s.map((T,O)=>o.jsxs("article",{className:"lora-card-prompt",children:[T.title&&o.jsx("h4",{className:"lora-card-prompt-title",children:T.title}),T.text&&o.jsx("p",{className:"lora-card-prompt-text",children:T.text}),T.weightTip&&o.jsx("p",{className:"lora-card-prompt-note",children:T.weightTip}),T.negative&&o.jsxs("p",{className:"lora-card-prompt-note is-negative",children:["Negative: ",T.negative]})]},T.title||O))})]}),b&&o.jsxs("section",{className:"lora-card-section",children:[o.jsx("header",{children:o.jsx("span",{className:"ui-kicker",children:"Detected files"})}),o.jsxs("ul",{className:"lora-card-files",children:[(h==null?void 0:h.high)&&o.jsxs("li",{children:[o.jsx("strong",{children:"High:"})," ",h.high]}),(h==null?void 0:h.low)&&o.jsxs("li",{children:[o.jsx("strong",{children:"Low:"})," ",h.low]}),w.map(T=>o.jsx("li",{children:T},T)),!(h!=null&&h.high)&&!(h!=null&&h.low)&&w.length===0&&o.jsx("li",{children:"No files detected yet."})]})]}),a&&o.jsxs("section",{className:"lora-card-section",children:[o.jsx("header",{children:o.jsx("span",{className:"ui-kicker",children:"Original website"})}),o.jsx("a",{href:a,target:"_blank",rel:"noreferrer",className:"lora-card-link",children:i})]}),typeof S=="function"&&o.jsx("div",{className:"lora-card-actions",children:o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:()=>S(),children:f==="detected"?"Add details":"Edit card"})})]})]})}const ds=()=>({title:"",text:"",negative:"",weightTip:""});function md(e){return e?e.split(",").map(t=>t.trim()).filter(Boolean):[]}function Y0({examples:e,onChange:t}){const n=e.length?e:[ds()],r=(a,i,u)=>{const c=n.map((p,f)=>f===a?{...p,[i]:u}:p);t(c)},l=a=>{const i=n.filter((u,c)=>c!==a);t(i.length?i:[ds()])},s=()=>{t([...n,ds()])};return o.jsxs("div",{className:"lora-editor-prompts",children:[n.map((a,i)=>o.jsxs("div",{className:"lora-editor-prompt-card",children:[o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:`prompt-title-${i}`,children:"Title"}),o.jsx("input",{id:`prompt-title-${i}`,type:"text",value:a.title,onChange:u=>r(i,"title",u.target.value)})]}),o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:`prompt-text-${i}`,children:"Prompt text"}),o.jsx("textarea",{id:`prompt-text-${i}`,value:a.text,rows:3,onChange:u=>r(i,"text",u.target.value)})]}),o.jsxs("div",{className:"lora-editor-field two-col",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:`prompt-weight-${i}`,children:"Weight tip"}),o.jsx("input",{id:`prompt-weight-${i}`,type:"text",value:a.weightTip,onChange:u=>r(i,"weightTip",u.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:`prompt-negative-${i}`,children:"Negative hint"}),o.jsx("input",{id:`prompt-negative-${i}`,type:"text",value:a.negative,onChange:u=>r(i,"negative",u.target.value)})]})]}),o.jsx("button",{type:"button",className:"lora-editor-remove",onClick:()=>l(i),disabled:n.length===1,children:"Remove example"})]},`example-${i}`)),o.jsx("button",{type:"button",className:"ui-button is-muted",onClick:s,children:"Add prompt example"})]})}function J0({card:e,onCancel:t,onSave:n,onDelete:r,saving:l=!1}){var L,K,_,N;const[s,a]=d.useState((e==null?void 0:e.name)||(e==null?void 0:e.baseName)||""),[i,u]=d.useState((e==null?void 0:e.modelName)||""),[c,p]=d.useState((e==null?void 0:e.category)||""),[f,h]=d.useState((e==null?void 0:e.description)||""),[x,y]=d.useState((e==null?void 0:e.recommendedWeight)||""),[S,j]=d.useState(((e==null?void 0:e.tags)||[]).join(", ")),[g,m]=d.useState(((e==null?void 0:e.keywords)||[]).join(", ")),[v,w]=d.useState((e==null?void 0:e.sourceLabel)||""),[b,M]=d.useState((e==null?void 0:e.sourceUrl)||""),[T,O]=d.useState(((L=e==null?void 0:e.preview)==null?void 0:L.src)||""),[V,B]=d.useState(((K=e==null?void 0:e.preview)==null?void 0:K.alt)||""),[G,J]=d.useState((e==null?void 0:e.notes)||""),[U,C]=d.useState((_=e==null?void 0:e.promptExamples)!=null&&_.length?e.promptExamples:[ds()]),[P,W]=d.useState((N=e==null?void 0:e.preview)!=null&&N.src?{url:e.preview.src}:""),E=(e==null?void 0:e.files)||{},k=Array.isArray(E==null?void 0:E.others)?E.others:[],z=iu({input:{inputs:{param_name:"lora_preview"},class_type:"LoraPreview"},value:P,onFormChange:(F,A)=>{if(A){if(W(A),typeof A=="string"){O(A);return}A.url&&O(A.url),A.alt&&B(A.alt)}}}),R=F=>{if(F.preventDefault(),typeof n!="function")return;const A=U.filter(Q=>Object.values(Q||{}).some(X=>(X||"").trim())),I={name:s,modelName:i,category:c,description:f,recommendedWeight:x,tags:md(S),keywords:md(g),sourceLabel:v,sourceUrl:b,notes:G,preview:{src:T,alt:V},promptExamples:A};n(I)};return o.jsxs("form",{className:"ui-panel lora-editor",onSubmit:R,children:[o.jsxs("header",{className:"lora-editor-head",children:[o.jsxs("div",{children:[o.jsx("span",{className:"ui-kicker",children:"Editing"}),o.jsx("h2",{children:(e==null?void 0:e.name)||(e==null?void 0:e.baseName)||(e==null?void 0:e.id)}),o.jsxs("p",{className:"text-sm text-slate-200/80",children:["Fill in keywords, prompt examples, and source links. Changes are stored in ",o.jsx("code",{children:"data/lora_library.json"}),"."]})]}),o.jsxs("div",{className:"lora-editor-actions",children:[typeof r=="function"&&(e==null?void 0:e.status)!=="detected"&&o.jsx("button",{type:"button",className:"ui-button is-ghost",disabled:l,onClick:()=>r(),children:"Reset card"}),o.jsx("button",{type:"button",className:"ui-button is-muted",onClick:t,disabled:l,children:"Cancel"}),o.jsx("button",{type:"submit",className:"ui-button is-primary",disabled:l,children:l?"Saving":"Save card"})]})]}),o.jsxs("div",{className:"lora-editor-grid",children:[o.jsxs("div",{className:"lora-editor-section",children:[o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:"lora-name",children:"Display name"}),o.jsx("input",{id:"lora-name",type:"text",value:s,onChange:F=>a(F.target.value)})]}),o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:"lora-model",children:"Model name"}),o.jsx("input",{id:"lora-model",type:"text",value:i,onChange:F=>u(F.target.value)})]}),o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:"lora-category",children:"Category"}),o.jsx("input",{id:"lora-category",type:"text",value:c,onChange:F=>p(F.target.value),placeholder:"e.g. Stylized, Motion, Utility"})]}),o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:"lora-description",children:"Description"}),o.jsx("textarea",{id:"lora-description",value:f,rows:4,onChange:F=>h(F.target.value)})]}),o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:"lora-weight",children:"Recommended weight"}),o.jsx("input",{id:"lora-weight",type:"text",value:x,onChange:F=>y(F.target.value),placeholder:"0.65 - 0.85"})]})]}),o.jsxs("div",{className:"lora-editor-section",children:[o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:"lora-tags",children:"Tags (comma separated)"}),o.jsx("input",{id:"lora-tags",type:"text",value:S,onChange:F=>j(F.target.value)})]}),o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:"lora-keywords",children:"Keywords (comma separated)"}),o.jsx("input",{id:"lora-keywords",type:"text",value:g,onChange:F=>m(F.target.value)})]}),o.jsxs("div",{className:"lora-editor-field two-col",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lora-source-label",children:"Source label"}),o.jsx("input",{id:"lora-source-label",type:"text",value:v,onChange:F=>w(F.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lora-source-url",children:"Source URL"}),o.jsx("input",{id:"lora-source-url",type:"url",value:b,onChange:F=>M(F.target.value)})]})]}),o.jsxs("div",{className:"lora-editor-field two-col",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lora-preview-src",children:"Preview image URL"}),o.jsx("input",{id:"lora-preview-src",type:"text",value:T,onChange:F=>{const A=F.target.value;O(A),W(A?{url:A}:"")}})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lora-preview-alt",children:"Preview alt text"}),o.jsx("input",{id:"lora-preview-alt",type:"text",value:V,onChange:F=>B(F.target.value)})]})]}),o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{htmlFor:"lora-notes",children:"Notes (internal)"}),o.jsx("textarea",{id:"lora-notes",rows:3,value:G,onChange:F=>J(F.target.value)})]}),o.jsxs("div",{className:"lora-editor-field",children:[o.jsx("label",{children:"Example from gallery"}),o.jsx("button",{type:"button",className:"ui-button is-muted",onClick:z.openServer,children:"Choose from gallery"}),z.previewUrl&&o.jsxs("div",{className:"mt-2 text-[11px] text-[#C3C7FF]",children:["Using: ",z.displayName]})]})]})]}),o.jsxs("section",{className:"lora-editor-section",children:[o.jsx("header",{children:o.jsx("span",{className:"ui-kicker",children:"Prompt examples"})}),o.jsx(Y0,{examples:U,onChange:C})]}),o.jsxs("section",{className:"lora-editor-files",children:[o.jsxs("header",{children:[o.jsx("span",{className:"ui-kicker",children:"Detected files"}),o.jsx("span",{className:"lora-editor-chip",children:(e==null?void 0:e.pairState)||"unknown"})]}),o.jsxs("div",{className:"lora-editor-filelist",children:[(E==null?void 0:E.high)&&o.jsxs("div",{className:"lora-editor-file",children:[o.jsx("strong",{children:"High"}),o.jsx("span",{children:E.high})]}),(E==null?void 0:E.low)&&o.jsxs("div",{className:"lora-editor-file",children:[o.jsx("strong",{children:"Low"}),o.jsx("span",{children:E.low})]}),k.map(F=>o.jsx("div",{className:"lora-editor-file",children:o.jsx("span",{children:F})},F)),!(E!=null&&E.high)&&!(E!=null&&E.low)&&k.length===0&&o.jsx("p",{children:"No files detected in the LoRA directory yet."})]})]}),o.jsx(uu,{open:z.serverOpen,cwd:z.cwd,setCwd:z.setCwd,page:z.page,setPage:z.setPage,perPage:z.perPage,setPerPage:z.setPerPage,totalPages:z.totalPages,topDirs:z.topDirs,loading:z.loading,imagesOnly:z.imagesOnly,setImagesOnly:z.setImagesOnly,search:z.search,setSearch:z.setSearch,shownEntries:z.shownEntries,onSelect:z.selectServer,onClose:z.closeServer,pickerSource:z.pickerSource,setPickerSource:z.setPickerSource})]})}function X0(e){return(e||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"section"}function Z0(e,t,n){const r=t.trim().toLowerCase(),l=n.length>0,s=[],a=c=>{c&&s.push(String(c))};a(e.name),a(e.description),a(e.modelName),a(e.recommendedWeight),a(e.folder),(e.keywords||[]).forEach(a),(e.tags||[]).forEach(a),(e.promptExamples||[]).forEach(c=>{a(c.title),a(c.text),a(c.negative),a(c.weightTip)}),e.files&&(a(e.files.high),a(e.files.low),(e.files.others||[]).forEach(a));const i=!r||s.some(c=>c.toLowerCase().includes(r)),u=!l||n.every(c=>(e.tags||[]).includes(c));return i&&u}function ew(e){const t=new Map;return e.forEach(n=>{var l;const r=((l=n.category)==null?void 0:l.trim())||"LoRA Library";t.has(r)||t.set(r,[]),t.get(r).push(n)}),Array.from(t.entries()).map(([n,r])=>({id:`${X0(n)}-${r.length}`,title:n,cards:r}))}function tw(){const[e,t]=d.useState([]),[n,r]=d.useState({draftCount:0,missingCount:0}),[l,s]=d.useState(!0),[a,i]=d.useState(""),[u,c]=d.useState(""),[p,f]=d.useState(""),[h,x]=d.useState([]),[y,S]=d.useState(null),[j,g]=d.useState(!1),m=d.useCallback(async()=>{s(!0),i("");try{const C=await yy();t(Array.isArray(C==null?void 0:C.items)?C.items:[]),r({draftCount:(C==null?void 0:C.draftCount)||0,missingCount:(C==null?void 0:C.missingCount)||0})}catch(C){i(C.message||"Failed to load LoRA library.")}finally{s(!1)}},[]);d.useEffect(()=>{m()},[m]);const v=d.useMemo(()=>{const C=new Set;return e.forEach(P=>{(P.tags||[]).forEach(W=>W&&C.add(W))}),Array.from(C).sort((P,W)=>P.toLowerCase().localeCompare(W.toLowerCase()))},[e]),w=d.useMemo(()=>e.filter(C=>Z0(C,p,h)),[e,p,h]),b=w.filter(C=>C.status==="detected"),M=w.filter(C=>C.status==="missing"),T=w.filter(C=>C.status!=="detected"&&C.status!=="missing"),O=d.useMemo(()=>ew(T),[T]),V=w.length,B=C=>{x(P=>P.includes(C)?P.filter(W=>W!==C):[...P,C])},G=C=>{S(C),c(""),i("")},J=async C=>{if(y){g(!0),i("");try{await xy(y.id,C),c(`Saved ${C.name||y.id}`),S(null),await m()}catch(P){i(P.message||"Failed to save LoRA card.")}finally{g(!1)}}},U=async()=>{if(y&&!(typeof window<"u"&&!window.confirm("Remove saved details for this card?"))){g(!0),i("");try{await wy(y.id),c("Card reset to detected state."),S(null),await m()}catch(C){i(C.message||"Failed to reset card.")}finally{g(!1)}}};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("section",{className:"ui-panel lora-library-hero",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("span",{className:"ui-kicker",children:"LoRA Library"}),o.jsx("h1",{className:"text-2xl font-semibold tracking-wide",children:"Tarot board for your LoRAs"}),u&&o.jsx("p",{className:"text-xs text-[#3EF0FF] uppercase tracking-[0.3em]",children:u}),a&&o.jsx("p",{className:"text-xs text-[#FF9DBB] uppercase tracking-[0.3em]",children:a})]}),o.jsxs("div",{className:"lora-library-controls space-y-3",children:[o.jsx("label",{htmlFor:"lora-library-search",className:"sr-only",children:"Search LoRAs"}),o.jsx("input",{id:"lora-library-search",type:"text",value:p,onChange:C=>f(C.target.value),className:"lora-library-search",placeholder:"Search LoRAs..."}),v.length>0&&o.jsxs("div",{className:"lora-library-tags",children:[v.map(C=>{const P=h.includes(C);return o.jsx("button",{type:"button",onClick:()=>B(C),className:["lora-tag-chip",P?"is-active":""].filter(Boolean).join(" "),children:C},C)}),h.length>0&&o.jsx("button",{type:"button",className:"lora-tag-chip is-muted",onClick:()=>x([]),children:"Clear"})]}),o.jsxs("div",{className:"lora-library-meta",children:[o.jsxs("span",{children:["Showing ",V," of ",e.length," cards"]}),o.jsxs("span",{children:["Drafts ",n.draftCount,"  Missing ",n.missingCount]}),o.jsx("button",{type:"button",className:"ui-button is-compact is-muted",onClick:m,disabled:l,children:"Refresh"})]})]})]}),y&&o.jsx(J0,{card:y,saving:j,onCancel:()=>S(null),onSave:J,onDelete:y.status!=="detected"?U:void 0}),l?o.jsx("section",{className:"ui-panel text-center py-16",children:o.jsx("p",{className:"text-base text-slate-200/80",children:"Loading library"})}):o.jsxs(o.Fragment,{children:[b.length>0&&o.jsxs("section",{className:"space-y-4",children:[o.jsx("header",{className:"ui-section-head",children:o.jsxs("div",{className:"ui-section-text",children:[o.jsx("span",{className:"ui-kicker",children:"Auto-detected"}),o.jsx("h2",{className:"text-xl font-semibold",children:"LoRAs that need details"})]})}),o.jsx("div",{className:"lora-card-grid",children:b.map(C=>o.jsx(Qo,{...C,sectionTitle:"Detected",onEdit:()=>G(C)},C.id))})]}),O.length===0&&b.length===0&&M.length===0?o.jsx("section",{className:"ui-panel text-center py-16",children:o.jsx("p",{className:"text-base text-slate-200/80",children:"No cards match your filters yet. Try refreshing or clear the search above."})}):O.map(C=>o.jsxs("section",{className:"space-y-4",children:[o.jsx("header",{className:"ui-section-head",children:o.jsxs("div",{className:"ui-section-text",children:[o.jsx("span",{className:"ui-kicker",children:"Collection"}),o.jsx("h2",{className:"text-xl font-semibold",children:C.title})]})}),o.jsx("div",{className:"lora-card-grid",children:C.cards.map(P=>o.jsx(Qo,{...P,sectionTitle:C.title,onEdit:()=>G(P)},P.id))})]},C.id)),M.length>0&&o.jsxs("section",{className:"space-y-4",children:[o.jsx("header",{className:"ui-section-head",children:o.jsxs("div",{className:"ui-section-text",children:[o.jsx("span",{className:"ui-kicker",children:"Needs attention"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Cards referencing missing files"})]})}),o.jsx("div",{className:"lora-card-grid",children:M.map(C=>o.jsx(Qo,{...C,sectionTitle:"Missing",onEdit:()=>G(C)},C.id))})]})]})]})}const km="cozygen_alias_categories",bm="cozygen_alias_category_list",Vs="::";function nw(){return`alias-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`}function rw(){try{const e=window.localStorage.getItem(km)||"{}",t=JSON.parse(e);return typeof t=="object"&&t?t:{}}catch{return{}}}function hd(e){try{window.localStorage.setItem(km,JSON.stringify(e||{}))}catch{}}function lw(){try{const e=window.localStorage.getItem(bm)||"[]",t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}function sw(e){try{window.localStorage.setItem(bm,JSON.stringify(e||[]))}catch{}}function gd(e,t={}){return Object.entries(el(e)).map(([n,r],l)=>{const[s,a]=String(n).includes(Vs)?n.split(Vs):["",n],i=a||n,u=t[n]||t[i]||s||"";return{id:`existing-${l}-${n}`,name:i,text:r,category:u}})}function vd(e){const t={};return e.forEach(n=>{const r=String((n==null?void 0:n.name)||"").trim(),l=typeof(n==null?void 0:n.text)=="string"?n.text.trim():"";if(r&&l){const s=String((n==null?void 0:n.category)||"").trim(),a=s?`${s}${Vs}${r}`:r;t[a]=l}}),t}function qo(e){const t={};return e.forEach(n=>{const r=String((n==null?void 0:n.name)||"").trim(),l=typeof(n==null?void 0:n.category)=="string"?n.category.trim():"";if(r){const s=l?`${l}${Vs}${r}`:r;t[s]=l}}),t}function ow(){const{aliases:e,aliasCategories:t,categoryList:n,loading:r,saving:l,error:s,persistAliases:a}=du(),[i,u]=d.useState(()=>gd(e)),[c,p]=d.useState(()=>rw()),[f,h]=d.useState(()=>lw()),[x,y]=d.useState(""),[S,j]=d.useState("All"),[g,m]=d.useState(!1),[v,w]=d.useState(""),b=d.useRef(null),[M,T]=d.useState(!1),[O,V]=d.useState(!1),[B,G]=d.useState(""),J=typeof window<"u"?window.innerWidth<768:!1,[U,C]=d.useState(J),P=d.useRef(J);d.useEffect(()=>{M||p(t||{})},[t,M]),d.useEffect(()=>{M||Array.isArray(n)&&h(n)},[n,M]),d.useEffect(()=>{if(M)return;const N=gd(e,c);u(N),x&&!N.some(F=>F.id===x)&&y("")},[e,c,x,M]);const W=d.useMemo(()=>vd(i),[i]),E=()=>{const N={id:nw(),name:"",text:"",category:""};u(F=>[...F,N]),y(N.id),m(!0),w("Editing new alias"),T(!0)},k=(N,F,A)=>{!g&&F!=="category"||(T(!0),u(I=>I.map((Q,X)=>X===N?{...Q,[F]:A}:Q)))},$=N=>{T(!0),u(F=>{var Q;const A=F.filter((X,re)=>re!==N),I=qo(A);return p(I),hd(I),A.length===0?(y(""),m(!1)):x===((Q=F[N])==null?void 0:Q.id)&&(y(A[0].id),m(!1)),A})},z=async()=>{w("");try{const N=qo(i);await a({items:W,categories:N}),p(N),hd(N),T(!1),m(!1),w("Saved")}catch{w("Unable to save right now.")}},R=d.useMemo(()=>{const F=[...i.filter(A=>!(S!=="All"&&(A.category||"")!==S))];return F.sort((A,I)=>(A.name||"").localeCompare(I.name||"")),F},[i,S]),L=R.find(N=>N.id===x)||i.find(N=>N.id===x)||null,K=d.useMemo(()=>{const N=new Set(f||[]);return i.forEach(F=>{F.category&&N.add(F.category)}),Array.from(N).sort((F,A)=>F.localeCompare(A))},[i,f]);d.useEffect(()=>{g&&b.current&&b.current.focus()},[g,x]),d.useEffect(()=>{const N=()=>{const F=window.innerWidth<768;C(F),P.current=F};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const _=async()=>{const N=B.trim();if(!N){w("Enter a category name.");return}const F=Array.from(new Set([...f||[],N]));sw(F),h(F),V(!1),G(""),w("Saved category. Use the dropdown on a card to assign it.");const A=vd(i),I=qo(i);T(!0);try{await a({items:A,categories:I,categoryList:F}),T(!1),w("Saved category. Use the dropdown on a card to assign it.")}catch{w("Unable to save right now.")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"page-shell page-stack",children:[o.jsx("div",{className:"neon-card p-4 sm:p-6 space-y-4",children:o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:o.jsx("div",{children:o.jsx("h2",{className:"text-lg font-semibold",children:"Alias library"})})}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("button",{type:"button",onClick:E,className:"btn-touch h-9 px-3 rounded-lg border border-[#2A2E4A] bg-[#0C1222] text-sm font-semibold text-[#E5E7FF]",children:"+ Add alias"}),o.jsxs("div",{className:"flex items-center gap-2 h-9 bg-[#0C1222] border border-[#2A2E4A] rounded-lg px-2 text-xs text-[#7F91B6] flex-wrap w-full sm:w-auto",children:[o.jsx("span",{children:"Category"}),o.jsxs("select",{value:S,onChange:N=>j(N.target.value),className:"bg-transparent text-sm text-[#E5E7FF] focus:outline-none h-7",children:[o.jsx("option",{value:"All",children:"All"}),o.jsx("option",{value:"",children:"Uncategorized"}),K.map(N=>o.jsx("option",{value:N,children:N||"Uncategorized"},N||"uncat"))]}),O?o.jsxs("div",{className:"flex items-center gap-1 w-full sm:w-auto",children:[o.jsx("input",{type:"text",value:B,onChange:N=>G(N.target.value),placeholder:"New category",className:"flex-1 min-w-[140px] rounded-md border border-[#2A2E4A] bg-[#050716] px-2 py-1 text-xs text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]"}),o.jsx("button",{type:"button",onClick:_,className:"h-8 px-2 rounded-md bg-[#0F1A2F] border border-[#2A2E4A] text-[11px] font-semibold text-[#E5E7FF]",children:"Save"}),o.jsx("button",{type:"button",onClick:()=>{V(!1),G("")},className:"h-8 px-2 rounded-md text-[11px] font-semibold text-[#7F91B6] hover:text-[#E5E7FF]",children:"Cancel"})]}):o.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-[#0F1A2F] border border-[#2A2E4A] text-[#E5E7FF] text-[11px] font-semibold",onClick:()=>{V(!0),G("")},children:"+ Add"})]})]}),v&&!L?o.jsx("p",{className:"text-[11px] text-[#A9B6D9]",children:v}):null,L?o.jsxs("div",{className:`rounded-xl border border-[#2A2E4A] bg-[#0B1226] p-3 sm:p-4 shadow-[0_10px_30px_rgba(4,7,16,0.35)] space-y-3 ${U?"hidden sm:block":""}`,children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-[#E5E7FF] leading-tight",children:L.name||"Untitled alias"}),L.category?o.jsxs("p",{className:"text-[11px] text-[#7F91B6]",children:["Category: ",L.category]}):null]})}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-[#7F91B6]",children:[o.jsx("button",{type:"button",onClick:()=>{g?z():(m(!0),w("Editing"))},className:"underline hover:text-[#5EF1D4] transition-colors",children:g?l?"Saving":"Save":"Edit"}),o.jsx("span",{className:"text-[#2A2E4A]",children:"|"}),o.jsx("button",{type:"button",onClick:()=>{const N=i.findIndex(F=>F.id===L.id);N!==-1&&$(N)},className:"underline hover:text-[#FF8F70] transition-colors",children:"Remove"}),o.jsx("span",{className:"text-[#2A2E4A]",children:"|"}),o.jsx("button",{type:"button",onClick:()=>{y(""),m(!1),w("")},className:"underline hover:text-[#E5E7FF] transition-colors",children:"Hide"}),v?o.jsx("span",{className:"text-[11px] text-[#A9B6D9]",children:v}):null]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase tracking-wide text-[#7F91B6] block mb-1",children:"Alias name"}),o.jsx("input",{ref:b,type:"text",value:L.name||"",onChange:N=>{const F=i.findIndex(A=>A.id===L.id);F!==-1&&k(F,"name",N.target.value)},placeholder:"e.g. cherry_fruit",disabled:!g,className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase tracking-wide text-[#7F91B6] block mb-1",children:"Category (optional)"}),o.jsxs("select",{value:L.category||"",onChange:N=>{const F=i.findIndex(A=>A.id===L.id);F!==-1&&k(F,"category",N.target.value)},className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-sm text-[#E5E7FF] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]",children:[o.jsx("option",{value:"",children:"Uncategorized"}),K.map(N=>o.jsx("option",{value:N,children:N||"Uncategorized"},N||"uncat"))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase tracking-wide text-[#7F91B6] block mb-1",children:"Expands to"}),o.jsx("textarea",{value:L.text,onChange:N=>{const F=i.findIndex(A=>A.id===L.id);F!==-1&&k(F,"text",N.target.value)},placeholder:"Prompt text for this alias",rows:2,disabled:!g,className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] resize-y min-h-[72px]"})]}),o.jsxs("div",{className:"text-[11px] text-[#7F91B6]",children:["Invoke with:"," ",o.jsx("code",{className:"text-[#E5E7FF] bg-[#0F1A2F] px-1 py-0.5 rounded",children:L.category?`${L.category}:${L.name}`:L.name||"alias"})]})]})]}):null,i.length===0?o.jsx("div",{className:"rounded-lg border border-dashed border-[#2A2E4A] px-4 py-6 text-center text-sm text-[#A9B6D9]",children:"No aliases yet. Add your first one."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3",children:R.map(N=>{const F=N.id===x,A=N.category?`${N.category}:${N.name}`:N.name,I=(N.text||"").slice(0,96)+((N.text||"").length>96?"":"");return o.jsxs("button",{type:"button",onClick:()=>y(Q=>Q===N.id?"":N.id),className:`text-left rounded-xl border px-3 py-3 transition-all btn-touch ${F?"border-[#5EF1D4] bg-[#0F1A2F] shadow-[0_12px_34px_rgba(5,7,22,0.35)]":"border-[#27304A] bg-[#0C1222]"}`,children:[o.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[o.jsx("div",{className:"text-sm font-semibold text-[#E5E7FF] truncate",children:N.name||"Untitled"}),F?o.jsx("span",{className:"text-xs text-[#5EF1D4]",children:""}):null]}),o.jsx("div",{className:"text-xs text-[#A9B6D9] line-clamp-2",children:I||""}),o.jsxs("div",{className:"mt-2 text-[11px] text-[#7F91B6] font-mono",children:["$",A||"alias","$"]})]},N.id)})})]})]})}),s?o.jsx("p",{className:"text-xs text-[#FF8F70]",children:"Could not load aliases. Try again later."}):null,r?o.jsx("p",{className:"text-xs text-[#A9B6D9]",children:"Loading aliases"}):null]}),L&&U?o.jsxs("div",{className:"fixed inset-0 z-40 sm:hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>{y(""),m(!1),w("")}}),o.jsxs("div",{className:"absolute left-2 right-2 bg-[#0B1226] border border-[#2A2E4A] rounded-2xl shadow-[0_-10px_30px_rgba(4,7,16,0.35)] p-3 space-y-3 pb-3 overflow-y-auto",style:{maxHeight:"80vh",bottom:"72px"},children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-[#E5E7FF] leading-tight",children:L.name||"Untitled alias"}),L.category?o.jsxs("p",{className:"text-[11px] text-[#7F91B6]",children:["Category: ",L.category]}):null]}),o.jsx("button",{type:"button",onClick:()=>{y(""),m(!1),w("")},className:"text-sm text-[#E5E7FF] underline",children:"Close"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-[#7F91B6]",children:[o.jsx("button",{type:"button",onClick:()=>{g?z():(m(!0),w("Editing"))},className:"underline hover:text-[#5EF1D4] transition-colors",children:g?l?"Saving":"Save":"Edit"}),o.jsx("span",{className:"text-[#2A2E4A]",children:"|"}),o.jsx("button",{type:"button",onClick:()=>{const N=i.findIndex(F=>F.id===L.id);N!==-1&&$(N)},className:"underline hover:text-[#FF8F70] transition-colors",children:"Remove"}),v?o.jsx("span",{className:"text-[11px] text-[#A9B6D9]",children:v}):null]}),o.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase tracking-wide text-[#7F91B6] block mb-1",children:"Alias name"}),o.jsx("input",{ref:b,type:"text",value:L.name||"",onChange:N=>{const F=i.findIndex(A=>A.id===L.id);F!==-1&&k(F,"name",N.target.value)},placeholder:"e.g. cherry_fruit",disabled:!g,className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase tracking-wide text-[#7F91B6] block mb-1",children:"Category (optional)"}),o.jsxs("select",{value:L.category||"",onChange:N=>{const F=i.findIndex(A=>A.id===L.id);F!==-1&&k(F,"category",N.target.value)},className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-sm text-[#E5E7FF] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]",children:[o.jsx("option",{value:"",children:"Uncategorized"}),K.map(N=>o.jsx("option",{value:N,children:N||"Uncategorized"},N||"uncat"))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs uppercase tracking-wide text-[#7F91B6] block mb-1",children:"Expands to"}),o.jsx("textarea",{value:L.text,onChange:N=>{const F=i.findIndex(A=>A.id===L.id);F!==-1&&k(F,"text",N.target.value)},placeholder:"Prompt text for this alias",rows:2,disabled:!g,className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] resize-y min-h-[72px]"})]}),o.jsxs("div",{className:"text-[11px] text-[#7F91B6]",children:["Invoke with:"," ",o.jsx("code",{className:"text-[#E5E7FF] bg-[#0F1A2F] px-1 py-0.5 rounded",children:L.category?`${L.category}:${L.name}`:L.name||"alias"})]})]})]})]}):null]})}function aw(){var g,m;const{authed:e,ready:t,login:n}=co(),r=lu(),s=((m=(g=Et().state)==null?void 0:g.from)==null?void 0:m.pathname)||"/studio",[a,i]=d.useState(""),[u,c]=d.useState(""),[p,f]=d.useState(""),[h,x]=d.useState(!1),[y,S]=d.useState(!1);d.useEffect(()=>{try{localStorage.getItem("cozygen_idle_logout")&&(S(!0),localStorage.removeItem("cozygen_idle_logout"))}catch{}},[]),d.useEffect(()=>{t&&e&&r(s,{replace:!0})},[t,e,s,r]);const j=async v=>{v.preventDefault(),f(""),x(!0);try{await n(a,u),r(s,{replace:!0})}catch(w){w!=null&&w.unauthorized?f("Invalid username or password."):f("Unable to sign in. Please try again.")}finally{x(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-950 to-black px-4 py-10",children:o.jsx("div",{className:"w-full max-w-md rounded-2xl bg-slate-900/70 border border-slate-800/80 shadow-2xl backdrop-blur",children:o.jsxs("div",{className:"p-6 sm:p-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/10 border border-emerald-400/30 flex items-center justify-center text-emerald-300 text-xl",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-slate-400",children:"CozyGen"}),o.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Sign in to continue"})]})]}),o.jsxs("form",{className:"space-y-4",onSubmit:j,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"login-username",className:"block text-sm font-medium text-slate-300 mb-2",children:"Username"}),o.jsx("input",{id:"login-username",type:"text",className:"w-full rounded-xl border border-slate-700 bg-slate-800/70 px-4 py-3 text-white placeholder-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",value:a,onChange:v=>i(v.target.value),autoComplete:"username",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),o.jsx("input",{id:"login-password",type:"password",className:"w-full rounded-xl border border-slate-700 bg-slate-800/70 px-4 py-3 text-white placeholder-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",value:u,onChange:v=>c(v.target.value),autoComplete:"current-password",required:!0})]}),p&&o.jsx("div",{className:"rounded-lg border border-red-500/60 bg-red-500/10 px-4 py-3 text-red-200 text-sm",children:p}),y&&!p&&o.jsx("div",{className:"rounded-lg border border-amber-500/60 bg-amber-500/10 px-4 py-3 text-amber-200 text-sm",children:"You were signed out due to inactivity. Please sign in again."}),o.jsx("button",{type:"submit",disabled:h,className:"w-full inline-flex items-center justify-center gap-2 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold px-4 py-3 transition disabled:opacity-60 disabled:cursor-not-allowed shadow-lg shadow-emerald-500/20",children:h?"Signing in":"Sign in"})]}),o.jsxs("p",{className:"text-xs text-slate-500 mt-6",children:["Access is protected by CozyGen auth. Set ",o.jsx("code",{className:"font-mono",children:"COZYGEN_AUTH_USER"})," /",o.jsx("code",{className:"font-mono",children:"COZYGEN_AUTH_PASS"})," on the server to enable."]})]})})})}function iw(){const{pathname:e,hash:t}=Et();return d.useEffect(()=>{t||window.scrollTo(0,0)},[e,t]),null}function Gn({children:e}){const{authed:t,ready:n}=co(),r=Et();return n?t?e:o.jsx(Bp,{to:"/login",state:{from:r},replace:!0}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:"Loading"})}function uw(){const{pathname:e}=Et(),{defaultCreds:t,authed:n}=co(),r=e==="/login";return o.jsxs("div",{className:"app-shell min-h-screen",children:[!r&&o.jsx(_y,{}),!r&&n&&t&&o.jsxs("div",{className:"bg-amber-500/10 text-amber-200 border border-amber-400/50 px-4 py-2 text-sm text-center",children:["Default CozyGen credentials are still in use. Change ",o.jsx("code",{className:"font-mono",children:"COZYGEN_AUTH_USER"})," /",o.jsx("code",{className:"font-mono",children:"COZYGEN_AUTH_PASS"})," on the server."]}),o.jsx(iw,{}),o.jsx("main",{className:`${r?"px-0 py-0":"max-w-7xl mx-auto px-3 sm:px-4 py-4 pb-24 md:pb-6"}`,children:o.jsxs(Kv,{children:[o.jsx(It,{path:"/login",element:o.jsx(aw,{})}),o.jsx(It,{path:"/",element:o.jsx(Gn,{children:o.jsx(td,{})})}),o.jsx(It,{path:"/studio",element:o.jsx(Gn,{children:o.jsx(td,{})})}),o.jsx(It,{path:"/gallery",element:o.jsx(Gn,{children:o.jsx(z0,{})})}),o.jsx(It,{path:"/presets",element:o.jsx(Gn,{children:o.jsx(q0,{})})}),o.jsx(It,{path:"/lora-library",element:o.jsx(Gn,{children:o.jsx(tw,{})})}),o.jsx(It,{path:"/aliases",element:o.jsx(Gn,{children:o.jsx(ow,{})})}),o.jsx(It,{path:"*",element:o.jsx(Bp,{to:"/studio",replace:!0})})]})}),!r&&o.jsx(Ly,{})]})}function cw(){return o.jsx(ty,{children:o.jsx(Ey,{children:o.jsx(uw,{})})})}Yo.createRoot(document.getElementById("root")).render(o.jsx(Wr.StrictMode,{children:o.jsx(cw,{})}));
