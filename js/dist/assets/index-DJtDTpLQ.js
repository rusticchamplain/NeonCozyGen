function Wm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Ld(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Bm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,l.get?l:{enumerable:!0,get:function(){return e[r]}})}),n}var Od={exports:{}},Js={},Rd={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),Vm=Symbol.for("react.portal"),Hm=Symbol.for("react.fragment"),Gm=Symbol.for("react.strict_mode"),Km=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Ym=Symbol.for("react.context"),qm=Symbol.for("react.forward_ref"),Xm=Symbol.for("react.suspense"),Jm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),Fu=Symbol.iterator;function eh(e){return e===null||typeof e!="object"?null:(e=Fu&&e[Fu]||e["@@iterator"],typeof e=="function"?e:null)}var Td={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Id=Object.assign,Ad={};function Sr(e,t,n){this.props=e,this.context=t,this.refs=Ad,this.updater=n||Td}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zd(){}zd.prototype=Sr.prototype;function va(e,t,n){this.props=e,this.context=t,this.refs=Ad,this.updater=n||Td}var xa=va.prototype=new zd;xa.constructor=va;Id(xa,Sr.prototype);xa.isPureReactComponent=!0;var Lu=Array.isArray,Md=Object.prototype.hasOwnProperty,wa={current:null},$d={key:!0,ref:!0,__self:!0,__source:!0};function Dd(e,t,n){var r,l={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Md.call(t,r)&&!$d.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:El,type:e,key:s,ref:i,props:l,_owner:wa.current}}function th(e,t){return{$$typeof:El,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===El}function nh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ou=/\/+/g;function No(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nh(""+e.key):t.toString(36)}function ss(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case El:case Vm:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+No(i,0):r,Lu(l)?(n="",e!=null&&(n=e.replace(Ou,"$&/")+"/"),ss(l,t,n,"",function(c){return c})):l!=null&&(Sa(l)&&(l=th(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Ou,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",Lu(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+No(s,a);i+=ss(s,t,n,u,l)}else if(u=eh(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+No(s,a++),i+=ss(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ml(e,t,n){if(e==null)return e;var r=[],l=0;return ss(e,r,"","",function(s){return t.call(n,s,l++)}),r}function rh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},os={transition:null},lh={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:os,ReactCurrentOwner:wa};function Ud(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Ml,forEach:function(e,t,n){Ml(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ml(e,function(){t++}),t},toArray:function(e){return Ml(e,function(t){return t})||[]},only:function(e){if(!Sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Sr;me.Fragment=Hm;me.Profiler=Km;me.PureComponent=va;me.StrictMode=Gm;me.Suspense=Xm;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lh;me.act=Ud;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Id({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=wa.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Md.call(t,u)&&!$d.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:El,type:e.type,key:l,ref:s,props:r,_owner:i}};me.createContext=function(e){return e={$$typeof:Ym,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qm,_context:e},e.Consumer=e};me.createElement=Dd;me.createFactory=function(e){var t=Dd.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:qm,render:e}};me.isValidElement=Sa;me.lazy=function(e){return{$$typeof:Zm,_payload:{_status:-1,_result:e},_init:rh}};me.memo=function(e,t){return{$$typeof:Jm,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=os.transition;os.transition={};try{e()}finally{os.transition=t}};me.unstable_act=Ud;me.useCallback=function(e,t){return Je.current.useCallback(e,t)};me.useContext=function(e){return Je.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};me.useEffect=function(e,t){return Je.current.useEffect(e,t)};me.useId=function(){return Je.current.useId()};me.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return Je.current.useMemo(e,t)};me.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};me.useRef=function(e){return Je.current.useRef(e)};me.useState=function(e){return Je.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return Je.current.useTransition()};me.version="18.3.1";Rd.exports=me;var d=Rd.exports;const Vr=Ld(d),sh=Wm({__proto__:null,default:Vr},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=d,ih=Symbol.for("react.element"),ah=Symbol.for("react.fragment"),uh=Object.prototype.hasOwnProperty,ch=oh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dh={key:!0,ref:!0,__self:!0,__source:!0};function Wd(e,t,n){var r,l={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)uh.call(t,r)&&!dh.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:ih,type:e,key:s,ref:i,props:l,_owner:ch.current}}Js.Fragment=ah;Js.jsx=Wd;Js.jsxs=Wd;Od.exports=Js;var o=Od.exports,si={},Bd={exports:{}},ut={},Vd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,I){var U=E.length;E.push(I);e:for(;0<U;){var P=U-1>>>1,$=E[P];if(0<l($,I))E[P]=I,E[U]=$,U=P;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var I=E[0],U=E.pop();if(U!==I){E[0]=U;e:for(var P=0,$=E.length,G=$>>>1;P<G;){var Q=2*(P+1)-1,ne=E[Q],K=Q+1,b=E[K];if(0>l(ne,U))K<$&&0>l(b,ne)?(E[P]=b,E[K]=U,P=K):(E[P]=ne,E[Q]=U,P=Q);else if(K<$&&0>l(b,U))E[P]=b,E[K]=U,P=K;else break e}}return I}function l(E,I){var U=E.sortIndex-I.sortIndex;return U!==0?U:E.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],m=1,p=null,g=3,v=!1,w=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=E)r(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=n(c)}}function j(E){if(C=!1,y(E),!w)if(n(u)!==null)w=!0,O(F);else{var I=n(c);I!==null&&x(j,I.startTime-E)}}function F(E,I){w=!1,C&&(C=!1,h(k),k=-1),v=!0;var U=g;try{for(y(I),p=n(u);p!==null&&(!(p.expirationTime>I)||E&&!Z());){var P=p.callback;if(typeof P=="function"){p.callback=null,g=p.priorityLevel;var $=P(p.expirationTime<=I);I=e.unstable_now(),typeof $=="function"?p.callback=$:p===n(u)&&r(u),y(I)}else r(u);p=n(u)}if(p!==null)var G=!0;else{var Q=n(c);Q!==null&&x(j,Q.startTime-I),G=!1}return G}finally{p=null,g=U,v=!1}}var L=!1,z=null,k=-1,D=5,T=-1;function Z(){return!(e.unstable_now()-T<D)}function te(){if(z!==null){var E=e.unstable_now();T=E;var I=!0;try{I=z(!0,E)}finally{I?q():(L=!1,z=null)}}else L=!1}var q;if(typeof f=="function")q=function(){f(te)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,A=V.port2;V.port1.onmessage=te,q=function(){A.postMessage(null)}}else q=function(){S(te,0)};function O(E){z=E,L||(L=!0,q())}function x(E,I){k=S(function(){E(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,O(F))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(E){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var U=g;g=I;try{return E()}finally{g=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,I){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var U=g;g=E;try{return I()}finally{g=U}},e.unstable_scheduleCallback=function(E,I,U){var P=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?P+U:P):U=P,E){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,E={id:m++,callback:I,priorityLevel:E,startTime:U,expirationTime:$,sortIndex:-1},U>P?(E.sortIndex=U,t(c,E),n(u)===null&&E===n(c)&&(C?(h(k),k=-1):C=!0,x(j,U-P))):(E.sortIndex=$,t(u,E),w||v||(w=!0,O(F))),E},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(E){var I=g;return function(){var U=g;g=I;try{return E.apply(this,arguments)}finally{g=U}}}})(Hd);Vd.exports=Hd;var fh=Vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=d,at=fh;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gd=new Set,sl={};function Un(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(sl[e]=t,e=0;e<t.length;e++)Gd.add(t[e])}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oi=Object.prototype.hasOwnProperty,mh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ru={},Tu={};function hh(e){return oi.call(Tu,e)?!0:oi.call(Ru,e)?!1:mh.test(e)?Tu[e]=!0:(Ru[e]=!0,!1)}function gh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yh(e,t,n,r){if(t===null||typeof t>"u"||gh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ca=/[\-:]([a-z])/g;function ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ca,ja);Ve[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ca,ja);Ve[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ca,ja);Ve[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Na(e,t,n,r){var l=Ve.hasOwnProperty(t)?Ve[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yh(t,n,l,r)&&(n=null),r||l===null?hh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=ph.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$l=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),ii=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),Qd=Symbol.for("react.context"),Ea=Symbol.for("react.forward_ref"),ai=Symbol.for("react.suspense"),ui=Symbol.for("react.suspense_list"),ba=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Yd=Symbol.for("react.offscreen"),Iu=Symbol.iterator;function Pr(e){return e===null||typeof e!="object"?null:(e=Iu&&e[Iu]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,ko;function zr(e){if(ko===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ko=t&&t[1]||""}return`
`+ko+e}var Eo=!1;function bo(e,t){if(!e||Eo)return"";Eo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,a=s.length-1;1<=i&&0<=a&&l[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==s[a]){var u=`
`+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{Eo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zr(e):""}function vh(e){switch(e.tag){case 5:return zr(e.type);case 16:return zr("Lazy");case 13:return zr("Suspense");case 19:return zr("SuspenseList");case 0:case 2:case 15:return e=bo(e.type,!1),e;case 11:return e=bo(e.type.render,!1),e;case 1:return e=bo(e.type,!0),e;default:return""}}function ci(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Gn:return"Portal";case ii:return"Profiler";case ka:return"StrictMode";case ai:return"Suspense";case ui:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qd:return(e.displayName||"Context")+".Consumer";case Kd:return(e._context.displayName||"Context")+".Provider";case Ea:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ba:return t=e.displayName||null,t!==null?t:ci(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return ci(e(t))}catch{}}return null}function xh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ci(t);case 8:return t===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wh(e){var t=qd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dl(e){e._valueTracker||(e._valueTracker=wh(e))}function Xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function di(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Au(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jd(e,t){t=t.checked,t!=null&&Na(e,"checked",t,!1)}function fi(e,t){Jd(e,t);var n=hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pi(e,t.type,n):t.hasOwnProperty("defaultValue")&&pi(e,t.type,hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pi(e,t,n){(t!=="number"||ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mr=Array.isArray;function sr(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function mi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Mu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Mr(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hn(n)}}function Zd(e,t){var n=hn(t.value),r=hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $u(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ef(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ef(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ul,tf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ul.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ol(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sh=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){Sh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hr[t]=Hr[e]})});function nf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+t).trim():t+"px"}function rf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=nf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Ch=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gi(e,t){if(t){if(Ch[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function yi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function _a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,or=null,ir=null;function Du(e){if(e=Pl(e)){if(typeof xi!="function")throw Error(B(280));var t=e.stateNode;t&&(t=ro(t),xi(e.stateNode,e.type,t))}}function lf(e){or?ir?ir.push(e):ir=[e]:or=e}function sf(){if(or){var e=or,t=ir;if(ir=or=null,Du(e),t)for(e=0;e<t.length;e++)Du(t[e])}}function of(e,t){return e(t)}function af(){}var _o=!1;function uf(e,t,n){if(_o)return e(t,n);_o=!0;try{return of(e,t,n)}finally{_o=!1,(or!==null||ir!==null)&&(af(),sf())}}function il(e,t){var n=e.stateNode;if(n===null)return null;var r=ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var wi=!1;if(Wt)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{wi=!1}function jh(e,t,n,r,l,s,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var Gr=!1,vs=null,xs=!1,Si=null,Nh={onError:function(e){Gr=!0,vs=e}};function kh(e,t,n,r,l,s,i,a,u){Gr=!1,vs=null,jh.apply(Nh,arguments)}function Eh(e,t,n,r,l,s,i,a,u){if(kh.apply(this,arguments),Gr){if(Gr){var c=vs;Gr=!1,vs=null}else throw Error(B(198));xs||(xs=!0,Si=c)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uu(e){if(Wn(e)!==e)throw Error(B(188))}function bh(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Uu(l),e;if(s===r)return Uu(l),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function df(e){return e=bh(e),e!==null?ff(e):null}function ff(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ff(e);if(t!==null)return t;e=e.sibling}return null}var pf=at.unstable_scheduleCallback,Wu=at.unstable_cancelCallback,_h=at.unstable_shouldYield,Ph=at.unstable_requestPaint,Ie=at.unstable_now,Fh=at.unstable_getCurrentPriorityLevel,Pa=at.unstable_ImmediatePriority,mf=at.unstable_UserBlockingPriority,ws=at.unstable_NormalPriority,Lh=at.unstable_LowPriority,hf=at.unstable_IdlePriority,Zs=null,Tt=null;function Oh(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Zs,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Ih,Rh=Math.log,Th=Math.LN2;function Ih(e){return e>>>=0,e===0?32:31-(Rh(e)/Th|0)|0}var Wl=64,Bl=4194304;function $r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ss(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~l;a!==0?r=$r(a):(s&=i,s!==0&&(r=$r(s)))}else i=n&~l,i!==0?r=$r(i):s!==0&&(r=$r(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),l=1<<n,r|=e[n],t&=~l;return r}function Ah(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Nt(s),a=1<<i,u=l[i];u===-1?(!(a&n)||a&r)&&(l[i]=Ah(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function Ci(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gf(){var e=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),e}function Po(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Mh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Nt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function Fa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var xe=0;function yf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vf,La,xf,wf,Sf,ji=!1,Vl=[],rn=null,ln=null,sn=null,al=new Map,ul=new Map,Xt=[],$h="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(t.pointerId)}}function Lr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Pl(t),t!==null&&La(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Dh(e,t,n,r,l){switch(t){case"focusin":return rn=Lr(rn,e,t,n,r,l),!0;case"dragenter":return ln=Lr(ln,e,t,n,r,l),!0;case"mouseover":return sn=Lr(sn,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return al.set(s,Lr(al.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,ul.set(s,Lr(ul.get(s)||null,e,t,n,r,l)),!0}return!1}function Cf(e){var t=_n(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=cf(n),t!==null){e.blockedOn=t,Sf(e.priority,function(){xf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ni(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vi=r,n.target.dispatchEvent(r),vi=null}else return t=Pl(n),t!==null&&La(t),e.blockedOn=n,!1;t.shift()}return!0}function Vu(e,t,n){is(e)&&n.delete(t)}function Uh(){ji=!1,rn!==null&&is(rn)&&(rn=null),ln!==null&&is(ln)&&(ln=null),sn!==null&&is(sn)&&(sn=null),al.forEach(Vu),ul.forEach(Vu)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,ji||(ji=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Uh)))}function cl(e){function t(l){return Or(l,e)}if(0<Vl.length){Or(Vl[0],e);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&Or(rn,e),ln!==null&&Or(ln,e),sn!==null&&Or(sn,e),al.forEach(t),ul.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Cf(n),n.blockedOn===null&&Xt.shift()}var ar=Gt.ReactCurrentBatchConfig,Cs=!0;function Wh(e,t,n,r){var l=xe,s=ar.transition;ar.transition=null;try{xe=1,Oa(e,t,n,r)}finally{xe=l,ar.transition=s}}function Bh(e,t,n,r){var l=xe,s=ar.transition;ar.transition=null;try{xe=4,Oa(e,t,n,r)}finally{xe=l,ar.transition=s}}function Oa(e,t,n,r){if(Cs){var l=Ni(e,t,n,r);if(l===null)$o(e,t,r,js,n),Bu(e,r);else if(Dh(l,e,t,n,r))r.stopPropagation();else if(Bu(e,r),t&4&&-1<$h.indexOf(e)){for(;l!==null;){var s=Pl(l);if(s!==null&&vf(s),s=Ni(e,t,n,r),s===null&&$o(e,t,r,js,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else $o(e,t,r,null,n)}}var js=null;function Ni(e,t,n,r){if(js=null,e=_a(r),e=_n(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return js=e,null}function jf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fh()){case Pa:return 1;case mf:return 4;case ws:case Lh:return 16;case hf:return 536870912;default:return 16}default:return 16}}var Zt=null,Ra=null,as=null;function Nf(){if(as)return as;var e,t=Ra,n=t.length,r,l="value"in Zt?Zt.value:Zt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return as=l.slice(e,1<r?1-r:void 0)}function us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function Hu(){return!1}function ct(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hl:Hu,this.isPropagationStopped=Hu,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),t}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=ct(Cr),_l=Oe({},Cr,{view:0,detail:0}),Vh=ct(_l),Fo,Lo,Rr,eo=Oe({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rr&&(Rr&&e.type==="mousemove"?(Fo=e.screenX-Rr.screenX,Lo=e.screenY-Rr.screenY):Lo=Fo=0,Rr=e),Fo)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),Gu=ct(eo),Hh=Oe({},eo,{dataTransfer:0}),Gh=ct(Hh),Kh=Oe({},_l,{relatedTarget:0}),Oo=ct(Kh),Qh=Oe({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yh=ct(Qh),qh=Oe({},Cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xh=ct(qh),Jh=Oe({},Cr,{data:0}),Ku=ct(Jh),Zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tg[e])?!!t[e]:!1}function Ia(){return ng}var rg=Oe({},_l,{key:function(e){if(e.key){var t=Zh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lg=ct(rg),sg=Oe({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qu=ct(sg),og=Oe({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),ig=ct(og),ag=Oe({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ug=ct(ag),cg=Oe({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dg=ct(cg),fg=[9,13,27,32],Aa=Wt&&"CompositionEvent"in window,Kr=null;Wt&&"documentMode"in document&&(Kr=document.documentMode);var pg=Wt&&"TextEvent"in window&&!Kr,kf=Wt&&(!Aa||Kr&&8<Kr&&11>=Kr),Yu=" ",qu=!1;function Ef(e,t){switch(e){case"keyup":return fg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function mg(e,t){switch(e){case"compositionend":return bf(t);case"keypress":return t.which!==32?null:(qu=!0,Yu);case"textInput":return e=t.data,e===Yu&&qu?null:e;default:return null}}function hg(e,t){if(Qn)return e==="compositionend"||!Aa&&Ef(e,t)?(e=Nf(),as=Ra=Zt=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kf&&t.locale!=="ko"?null:t.data;default:return null}}var gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gg[e.type]:t==="textarea"}function _f(e,t,n,r){lf(r),t=Ns(t,"onChange"),0<t.length&&(n=new Ta("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qr=null,dl=null;function yg(e){$f(e,0)}function to(e){var t=Xn(e);if(Xd(t))return e}function vg(e,t){if(e==="change")return t}var Pf=!1;if(Wt){var Ro;if(Wt){var To="oninput"in document;if(!To){var Ju=document.createElement("div");Ju.setAttribute("oninput","return;"),To=typeof Ju.oninput=="function"}Ro=To}else Ro=!1;Pf=Ro&&(!document.documentMode||9<document.documentMode)}function Zu(){Qr&&(Qr.detachEvent("onpropertychange",Ff),dl=Qr=null)}function Ff(e){if(e.propertyName==="value"&&to(dl)){var t=[];_f(t,dl,e,_a(e)),uf(yg,t)}}function xg(e,t,n){e==="focusin"?(Zu(),Qr=t,dl=n,Qr.attachEvent("onpropertychange",Ff)):e==="focusout"&&Zu()}function wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(dl)}function Sg(e,t){if(e==="click")return to(t)}function Cg(e,t){if(e==="input"||e==="change")return to(t)}function jg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:jg;function fl(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!oi.call(t,l)||!bt(e[l],t[l]))return!1}return!0}function ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tc(e,t){var n=ec(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ec(n)}}function Lf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Of(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ys(e.document)}return t}function za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ng(e){var t=Of(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lf(n.ownerDocument.documentElement,n)){if(r!==null&&za(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=tc(n,s);var i=tc(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kg=Wt&&"documentMode"in document&&11>=document.documentMode,Yn=null,ki=null,Yr=null,Ei=!1;function nc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ei||Yn==null||Yn!==ys(r)||(r=Yn,"selectionStart"in r&&za(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yr&&fl(Yr,r)||(Yr=r,r=Ns(ki,"onSelect"),0<r.length&&(t=new Ta("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function Gl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qn={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},Io={},Rf={};Wt&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function no(e){if(Io[e])return Io[e];if(!qn[e])return e;var t=qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rf)return Io[e]=t[n];return e}var Tf=no("animationend"),If=no("animationiteration"),Af=no("animationstart"),zf=no("transitionend"),Mf=new Map,rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){Mf.set(e,t),Un(t,[e])}for(var Ao=0;Ao<rc.length;Ao++){var zo=rc[Ao],Eg=zo.toLowerCase(),bg=zo[0].toUpperCase()+zo.slice(1);vn(Eg,"on"+bg)}vn(Tf,"onAnimationEnd");vn(If,"onAnimationIteration");vn(Af,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(zf,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_g=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function lc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Eh(r,t,void 0,e),e.currentTarget=null}function $f(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&l.isPropagationStopped())break e;lc(l,a,c),s=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&l.isPropagationStopped())break e;lc(l,a,c),s=u}}}if(xs)throw e=Si,xs=!1,Si=null,e}function ke(e,t){var n=t[Li];n===void 0&&(n=t[Li]=new Set);var r=e+"__bubble";n.has(r)||(Df(t,e,2,!1),n.add(r))}function Mo(e,t,n){var r=0;t&&(r|=4),Df(n,e,r,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function pl(e){if(!e[Kl]){e[Kl]=!0,Gd.forEach(function(n){n!=="selectionchange"&&(_g.has(n)||Mo(n,!1,e),Mo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,Mo("selectionchange",!1,t))}}function Df(e,t,n,r){switch(jf(t)){case 1:var l=Wh;break;case 4:l=Bh;break;default:l=Oa}n=l.bind(null,t,n,e),l=void 0,!wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function $o(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;i=i.return}for(;a!==null;){if(i=_n(a),i===null)return;if(u=i.tag,u===5||u===6){r=s=i;continue e}a=a.parentNode}}r=r.return}uf(function(){var c=s,m=_a(n),p=[];e:{var g=Mf.get(e);if(g!==void 0){var v=Ta,w=e;switch(e){case"keypress":if(us(n)===0)break e;case"keydown":case"keyup":v=lg;break;case"focusin":w="focus",v=Oo;break;case"focusout":w="blur",v=Oo;break;case"beforeblur":case"afterblur":v=Oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ig;break;case Tf:case If:case Af:v=Yh;break;case zf:v=ug;break;case"scroll":v=Vh;break;case"wheel":v=dg;break;case"copy":case"cut":case"paste":v=Xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Qu}var C=(t&4)!==0,S=!C&&e==="scroll",h=C?g!==null?g+"Capture":null:g;C=[];for(var f=c,y;f!==null;){y=f;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,h!==null&&(j=il(f,h),j!=null&&C.push(ml(f,j,y)))),S)break;f=f.return}0<C.length&&(g=new v(g,w,null,n,m),p.push({event:g,listeners:C}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&n!==vi&&(w=n.relatedTarget||n.fromElement)&&(_n(w)||w[Bt]))break e;if((v||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?_n(w):null,w!==null&&(S=Wn(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(C=Gu,j="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(C=Qu,j="onPointerLeave",h="onPointerEnter",f="pointer"),S=v==null?g:Xn(v),y=w==null?g:Xn(w),g=new C(j,f+"leave",v,n,m),g.target=S,g.relatedTarget=y,j=null,_n(m)===c&&(C=new C(h,f+"enter",w,n,m),C.target=y,C.relatedTarget=S,j=C),S=j,v&&w)t:{for(C=v,h=w,f=0,y=C;y;y=Hn(y))f++;for(y=0,j=h;j;j=Hn(j))y++;for(;0<f-y;)C=Hn(C),f--;for(;0<y-f;)h=Hn(h),y--;for(;f--;){if(C===h||h!==null&&C===h.alternate)break t;C=Hn(C),h=Hn(h)}C=null}else C=null;v!==null&&sc(p,g,v,C,!1),w!==null&&S!==null&&sc(p,S,w,C,!0)}}e:{if(g=c?Xn(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var F=vg;else if(Xu(g))if(Pf)F=Cg;else{F=wg;var L=xg}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(F=Sg);if(F&&(F=F(e,c))){_f(p,F,n,m);break e}L&&L(e,g,c),e==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&pi(g,"number",g.value)}switch(L=c?Xn(c):window,e){case"focusin":(Xu(L)||L.contentEditable==="true")&&(Yn=L,ki=c,Yr=null);break;case"focusout":Yr=ki=Yn=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,nc(p,n,m);break;case"selectionchange":if(kg)break;case"keydown":case"keyup":nc(p,n,m)}var z;if(Aa)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Qn?Ef(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(kf&&n.locale!=="ko"&&(Qn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Qn&&(z=Nf()):(Zt=m,Ra="value"in Zt?Zt.value:Zt.textContent,Qn=!0)),L=Ns(c,k),0<L.length&&(k=new Ku(k,e,null,n,m),p.push({event:k,listeners:L}),z?k.data=z:(z=bf(n),z!==null&&(k.data=z)))),(z=pg?mg(e,n):hg(e,n))&&(c=Ns(c,"onBeforeInput"),0<c.length&&(m=new Ku("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:c}),m.data=z))}$f(p,t)})}function ml(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ns(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=il(e,n),s!=null&&r.unshift(ml(e,s,l)),s=il(e,t),s!=null&&r.push(ml(e,s,l))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=il(n,s),u!=null&&i.unshift(ml(n,u,a))):l||(u=il(n,s),u!=null&&i.push(ml(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Pg=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function oc(e){return(typeof e=="string"?e:""+e).replace(Pg,`
`).replace(Fg,"")}function Ql(e,t,n){if(t=oc(t),oc(e)!==t&&n)throw Error(B(425))}function ks(){}var bi=null,_i=null;function Pi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fi=typeof setTimeout=="function"?setTimeout:void 0,Lg=typeof clearTimeout=="function"?clearTimeout:void 0,ic=typeof Promise=="function"?Promise:void 0,Og=typeof queueMicrotask=="function"?queueMicrotask:typeof ic<"u"?function(e){return ic.resolve(null).then(e).catch(Rg)}:Fi;function Rg(e){setTimeout(function(){throw e})}function Do(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),cl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);cl(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ac(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+jr,hl="__reactProps$"+jr,Bt="__reactContainer$"+jr,Li="__reactEvents$"+jr,Tg="__reactListeners$"+jr,Ig="__reactHandles$"+jr;function _n(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ac(e);e!==null;){if(n=e[Rt])return n;e=ac(e)}return t}e=n,n=e.parentNode}return null}function Pl(e){return e=e[Rt]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function ro(e){return e[hl]||null}var Oi=[],Jn=-1;function xn(e){return{current:e}}function Ee(e){0>Jn||(e.current=Oi[Jn],Oi[Jn]=null,Jn--)}function Se(e,t){Jn++,Oi[Jn]=e.current,e.current=t}var gn={},Ye=xn(gn),nt=xn(!1),In=gn;function pr(e,t){var n=e.type.contextTypes;if(!n)return gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function rt(e){return e=e.childContextTypes,e!=null}function Es(){Ee(nt),Ee(Ye)}function uc(e,t,n){if(Ye.current!==gn)throw Error(B(168));Se(Ye,t),Se(nt,n)}function Uf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(B(108,xh(e)||"Unknown",l));return Oe({},n,r)}function bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,In=Ye.current,Se(Ye,e),Se(nt,nt.current),!0}function cc(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Uf(e,t,In),r.__reactInternalMemoizedMergedChildContext=e,Ee(nt),Ee(Ye),Se(Ye,e)):Ee(nt),Se(nt,n)}var zt=null,lo=!1,Uo=!1;function Wf(e){zt===null?zt=[e]:zt.push(e)}function Ag(e){lo=!0,Wf(e)}function wn(){if(!Uo&&zt!==null){Uo=!0;var e=0,t=xe;try{var n=zt;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,lo=!1}catch(l){throw zt!==null&&(zt=zt.slice(e+1)),pf(Pa,wn),l}finally{xe=t,Uo=!1}}return null}var Zn=[],er=0,_s=null,Ps=0,ft=[],pt=0,An=null,Mt=1,$t="";function jn(e,t){Zn[er++]=Ps,Zn[er++]=_s,_s=e,Ps=t}function Bf(e,t,n){ft[pt++]=Mt,ft[pt++]=$t,ft[pt++]=An,An=e;var r=Mt;e=$t;var l=32-Nt(r)-1;r&=~(1<<l),n+=1;var s=32-Nt(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,Mt=1<<32-Nt(t)+l|n<<l|r,$t=s+e}else Mt=1<<s|n<<l|r,$t=e}function Ma(e){e.return!==null&&(jn(e,1),Bf(e,1,0))}function $a(e){for(;e===_s;)_s=Zn[--er],Zn[er]=null,Ps=Zn[--er],Zn[er]=null;for(;e===An;)An=ft[--pt],ft[pt]=null,$t=ft[--pt],ft[pt]=null,Mt=ft[--pt],ft[pt]=null}var it=null,ot=null,be=!1,jt=null;function Vf(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,ot=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=An!==null?{id:Mt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,it=e,ot=null,!0):!1;default:return!1}}function Ri(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ti(e){if(be){var t=ot;if(t){var n=t;if(!dc(e,t)){if(Ri(e))throw Error(B(418));t=on(n.nextSibling);var r=it;t&&dc(e,t)?Vf(r,n):(e.flags=e.flags&-4097|2,be=!1,it=e)}}else{if(Ri(e))throw Error(B(418));e.flags=e.flags&-4097|2,be=!1,it=e}}}function fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function Yl(e){if(e!==it)return!1;if(!be)return fc(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pi(e.type,e.memoizedProps)),t&&(t=ot)){if(Ri(e))throw Hf(),Error(B(418));for(;t;)Vf(e,t),t=on(t.nextSibling)}if(fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=it?on(e.stateNode.nextSibling):null;return!0}function Hf(){for(var e=ot;e;)e=on(e.nextSibling)}function mr(){ot=it=null,be=!1}function Da(e){jt===null?jt=[e]:jt.push(e)}var zg=Gt.ReactCurrentBatchConfig;function Tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=l.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function ql(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pc(e){var t=e._init;return t(e._payload)}function Gf(e){function t(h,f){if(e){var y=h.deletions;y===null?(h.deletions=[f],h.flags|=16):y.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=dn(h,f),h.index=0,h.sibling=null,h}function s(h,f,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<f?(h.flags|=2,f):y):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,y,j){return f===null||f.tag!==6?(f=Qo(y,h.mode,j),f.return=h,f):(f=l(f,y),f.return=h,f)}function u(h,f,y,j){var F=y.type;return F===Kn?m(h,f,y.props.children,j,y.key):f!==null&&(f.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Yt&&pc(F)===f.type)?(j=l(f,y.props),j.ref=Tr(h,f,y),j.return=h,j):(j=gs(y.type,y.key,y.props,null,h.mode,j),j.ref=Tr(h,f,y),j.return=h,j)}function c(h,f,y,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Yo(y,h.mode,j),f.return=h,f):(f=l(f,y.children||[]),f.return=h,f)}function m(h,f,y,j,F){return f===null||f.tag!==7?(f=On(y,h.mode,j,F),f.return=h,f):(f=l(f,y),f.return=h,f)}function p(h,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Qo(""+f,h.mode,y),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $l:return y=gs(f.type,f.key,f.props,null,h.mode,y),y.ref=Tr(h,null,f),y.return=h,y;case Gn:return f=Yo(f,h.mode,y),f.return=h,f;case Yt:var j=f._init;return p(h,j(f._payload),y)}if(Mr(f)||Pr(f))return f=On(f,h.mode,y,null),f.return=h,f;ql(h,f)}return null}function g(h,f,y,j){var F=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return F!==null?null:a(h,f,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $l:return y.key===F?u(h,f,y,j):null;case Gn:return y.key===F?c(h,f,y,j):null;case Yt:return F=y._init,g(h,f,F(y._payload),j)}if(Mr(y)||Pr(y))return F!==null?null:m(h,f,y,j,null);ql(h,y)}return null}function v(h,f,y,j,F){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(y)||null,a(f,h,""+j,F);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $l:return h=h.get(j.key===null?y:j.key)||null,u(f,h,j,F);case Gn:return h=h.get(j.key===null?y:j.key)||null,c(f,h,j,F);case Yt:var L=j._init;return v(h,f,y,L(j._payload),F)}if(Mr(j)||Pr(j))return h=h.get(y)||null,m(f,h,j,F,null);ql(f,j)}return null}function w(h,f,y,j){for(var F=null,L=null,z=f,k=f=0,D=null;z!==null&&k<y.length;k++){z.index>k?(D=z,z=null):D=z.sibling;var T=g(h,z,y[k],j);if(T===null){z===null&&(z=D);break}e&&z&&T.alternate===null&&t(h,z),f=s(T,f,k),L===null?F=T:L.sibling=T,L=T,z=D}if(k===y.length)return n(h,z),be&&jn(h,k),F;if(z===null){for(;k<y.length;k++)z=p(h,y[k],j),z!==null&&(f=s(z,f,k),L===null?F=z:L.sibling=z,L=z);return be&&jn(h,k),F}for(z=r(h,z);k<y.length;k++)D=v(z,h,k,y[k],j),D!==null&&(e&&D.alternate!==null&&z.delete(D.key===null?k:D.key),f=s(D,f,k),L===null?F=D:L.sibling=D,L=D);return e&&z.forEach(function(Z){return t(h,Z)}),be&&jn(h,k),F}function C(h,f,y,j){var F=Pr(y);if(typeof F!="function")throw Error(B(150));if(y=F.call(y),y==null)throw Error(B(151));for(var L=F=null,z=f,k=f=0,D=null,T=y.next();z!==null&&!T.done;k++,T=y.next()){z.index>k?(D=z,z=null):D=z.sibling;var Z=g(h,z,T.value,j);if(Z===null){z===null&&(z=D);break}e&&z&&Z.alternate===null&&t(h,z),f=s(Z,f,k),L===null?F=Z:L.sibling=Z,L=Z,z=D}if(T.done)return n(h,z),be&&jn(h,k),F;if(z===null){for(;!T.done;k++,T=y.next())T=p(h,T.value,j),T!==null&&(f=s(T,f,k),L===null?F=T:L.sibling=T,L=T);return be&&jn(h,k),F}for(z=r(h,z);!T.done;k++,T=y.next())T=v(z,h,k,T.value,j),T!==null&&(e&&T.alternate!==null&&z.delete(T.key===null?k:T.key),f=s(T,f,k),L===null?F=T:L.sibling=T,L=T);return e&&z.forEach(function(te){return t(h,te)}),be&&jn(h,k),F}function S(h,f,y,j){if(typeof y=="object"&&y!==null&&y.type===Kn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $l:e:{for(var F=y.key,L=f;L!==null;){if(L.key===F){if(F=y.type,F===Kn){if(L.tag===7){n(h,L.sibling),f=l(L,y.props.children),f.return=h,h=f;break e}}else if(L.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Yt&&pc(F)===L.type){n(h,L.sibling),f=l(L,y.props),f.ref=Tr(h,L,y),f.return=h,h=f;break e}n(h,L);break}else t(h,L);L=L.sibling}y.type===Kn?(f=On(y.props.children,h.mode,j,y.key),f.return=h,h=f):(j=gs(y.type,y.key,y.props,null,h.mode,j),j.ref=Tr(h,f,y),j.return=h,h=j)}return i(h);case Gn:e:{for(L=y.key;f!==null;){if(f.key===L)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(h,f.sibling),f=l(f,y.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Yo(y,h.mode,j),f.return=h,h=f}return i(h);case Yt:return L=y._init,S(h,f,L(y._payload),j)}if(Mr(y))return w(h,f,y,j);if(Pr(y))return C(h,f,y,j);ql(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,y),f.return=h,h=f):(n(h,f),f=Qo(y,h.mode,j),f.return=h,h=f),i(h)):n(h,f)}return S}var hr=Gf(!0),Kf=Gf(!1),Fs=xn(null),Ls=null,tr=null,Ua=null;function Wa(){Ua=tr=Ls=null}function Ba(e){var t=Fs.current;Ee(Fs),e._currentValue=t}function Ii(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){Ls=e,Ua=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Ua!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(Ls===null)throw Error(B(308));tr=e,Ls.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var Pn=null;function Va(e){Pn===null?Pn=[e]:Pn.push(e)}function Qf(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Va(t)):(n.next=l.next,l.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Vt(e,n)}return l=r.interleaved,l===null?(t.next=t,Va(r)):(t.next=l.next,l.next=t),r.interleaved=t,Vt(e,n)}function cs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fa(e,n)}}function mc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Os(e,t,n,r){var l=e.updateQueue;qt=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?s=c:i.next=c,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(s!==null){var p=l.baseState;i=0,m=c=u=null,a=s;do{var g=a.lane,v=a.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,C=a;switch(g=t,v=n,C.tag){case 1:if(w=C.payload,typeof w=="function"){p=w.call(v,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=C.payload,g=typeof w=="function"?w.call(v,p,g):w,g==null)break e;p=Oe({},p,g);break e;case 2:qt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=v,u=p):m=m.next=v,i|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(m===null&&(u=p),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Mn|=i,e.lanes=i,e.memoizedState=p}}function hc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(B(191,l));l.call(r)}}}var Fl={},It=xn(Fl),gl=xn(Fl),yl=xn(Fl);function Fn(e){if(e===Fl)throw Error(B(174));return e}function Ga(e,t){switch(Se(yl,t),Se(gl,e),Se(It,Fl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hi(t,e)}Ee(It),Se(It,t)}function gr(){Ee(It),Ee(gl),Ee(yl)}function qf(e){Fn(yl.current);var t=Fn(It.current),n=hi(t,e.type);t!==n&&(Se(gl,e),Se(It,n))}function Ka(e){gl.current===e&&(Ee(It),Ee(gl))}var Pe=xn(0);function Rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=[];function Qa(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var ds=Gt.ReactCurrentDispatcher,Bo=Gt.ReactCurrentBatchConfig,zn=0,Fe=null,Me=null,De=null,Ts=!1,qr=!1,vl=0,Mg=0;function He(){throw Error(B(321))}function Ya(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function qa(e,t,n,r,l,s){if(zn=s,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ds.current=e===null||e.memoizedState===null?Wg:Bg,e=n(r,l),qr){s=0;do{if(qr=!1,vl=0,25<=s)throw Error(B(301));s+=1,De=Me=null,t.updateQueue=null,ds.current=Vg,e=n(r,l)}while(qr)}if(ds.current=Is,t=Me!==null&&Me.next!==null,zn=0,De=Me=Fe=null,Ts=!1,t)throw Error(B(300));return e}function Xa(){var e=vl!==0;return vl=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Fe.memoizedState=De=e:De=De.next=e,De}function yt(){if(Me===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=De===null?Fe.memoizedState:De.next;if(t!==null)De=t,Me=e;else{if(e===null)throw Error(B(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},De===null?Fe.memoizedState=De=e:De=De.next=e}return De}function xl(e,t){return typeof t=="function"?t(e):t}function Vo(e){var t=yt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Me,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=i=null,u=null,c=s;do{var m=c.lane;if((zn&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,i=r):u=u.next=p,Fe.lanes|=m,Mn|=m}c=c.next}while(c!==null&&c!==s);u===null?i=r:u.next=a,bt(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,Fe.lanes|=s,Mn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ho(e){var t=yt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);bt(s,t.memoizedState)||(tt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Xf(){}function Jf(e,t){var n=Fe,r=yt(),l=t(),s=!bt(r.memoizedState,l);if(s&&(r.memoizedState=l,tt=!0),r=r.queue,Ja(tp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,wl(9,ep.bind(null,n,r,l,t),void 0,null),Ue===null)throw Error(B(349));zn&30||Zf(n,t,l)}return l}function Zf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ep(e,t,n,r){t.value=n,t.getSnapshot=r,np(t)&&rp(e)}function tp(e,t,n){return n(function(){np(t)&&rp(e)})}function np(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function rp(e){var t=Vt(e,1);t!==null&&kt(t,e,1,-1)}function gc(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ug.bind(null,Fe,e),[t.memoizedState,e]}function wl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lp(){return yt().memoizedState}function fs(e,t,n,r){var l=Ot();Fe.flags|=e,l.memoizedState=wl(1|t,n,void 0,r===void 0?null:r)}function so(e,t,n,r){var l=yt();r=r===void 0?null:r;var s=void 0;if(Me!==null){var i=Me.memoizedState;if(s=i.destroy,r!==null&&Ya(r,i.deps)){l.memoizedState=wl(t,n,s,r);return}}Fe.flags|=e,l.memoizedState=wl(1|t,n,s,r)}function yc(e,t){return fs(8390656,8,e,t)}function Ja(e,t){return so(2048,8,e,t)}function sp(e,t){return so(4,2,e,t)}function op(e,t){return so(4,4,e,t)}function ip(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ap(e,t,n){return n=n!=null?n.concat([e]):null,so(4,4,ip.bind(null,t,e),n)}function Za(){}function up(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cp(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dp(e,t,n){return zn&21?(bt(n,t)||(n=gf(),Fe.lanes|=n,Mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=n)}function $g(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=Bo.transition;Bo.transition={};try{e(!1),t()}finally{xe=n,Bo.transition=r}}function fp(){return yt().memoizedState}function Dg(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pp(e))mp(t,n);else if(n=Qf(e,t,n,r),n!==null){var l=Xe();kt(n,e,r,l),hp(n,t,r)}}function Ug(e,t,n){var r=cn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pp(e))mp(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(l.hasEagerState=!0,l.eagerState=a,bt(a,i)){var u=t.interleaved;u===null?(l.next=l,Va(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Qf(e,t,l,r),n!==null&&(l=Xe(),kt(n,e,r,l),hp(n,t,r))}}function pp(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function mp(e,t){qr=Ts=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fa(e,n)}}var Is={readContext:gt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Wg={readContext:gt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:yc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fs(4194308,4,ip.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return fs(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dg.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:gc,useDebugValue:Za,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=gc(!1),t=e[0];return e=$g.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,l=Ot();if(be){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Ue===null)throw Error(B(349));zn&30||Zf(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,yc(tp.bind(null,r,s,e),[e]),r.flags|=2048,wl(9,ep.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Ue.identifierPrefix;if(be){var n=$t,r=Mt;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=vl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bg={readContext:gt,useCallback:up,useContext:gt,useEffect:Ja,useImperativeHandle:ap,useInsertionEffect:sp,useLayoutEffect:op,useMemo:cp,useReducer:Vo,useRef:lp,useState:function(){return Vo(xl)},useDebugValue:Za,useDeferredValue:function(e){var t=yt();return dp(t,Me.memoizedState,e)},useTransition:function(){var e=Vo(xl)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Xf,useSyncExternalStore:Jf,useId:fp,unstable_isNewReconciler:!1},Vg={readContext:gt,useCallback:up,useContext:gt,useEffect:Ja,useImperativeHandle:ap,useInsertionEffect:sp,useLayoutEffect:op,useMemo:cp,useReducer:Ho,useRef:lp,useState:function(){return Ho(xl)},useDebugValue:Za,useDeferredValue:function(e){var t=yt();return Me===null?t.memoizedState=e:dp(t,Me.memoizedState,e)},useTransition:function(){var e=Ho(xl)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Xf,useSyncExternalStore:Jf,useId:fp,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ai(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),l=cn(e),s=Dt(r,l);s.payload=t,n!=null&&(s.callback=n),t=an(e,s,l),t!==null&&(kt(t,e,l,r),cs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),l=cn(e),s=Dt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=an(e,s,l),t!==null&&(kt(t,e,l,r),cs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=cn(e),l=Dt(n,r);l.tag=2,t!=null&&(l.callback=t),t=an(e,l,r),t!==null&&(kt(t,e,r,n),cs(t,e,r))}};function vc(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!fl(n,r)||!fl(l,s):!0}function gp(e,t,n){var r=!1,l=gn,s=t.contextType;return typeof s=="object"&&s!==null?s=gt(s):(l=rt(t)?In:Ye.current,r=t.contextTypes,s=(r=r!=null)?pr(e,l):gn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function xc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function zi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ha(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=gt(s):(s=rt(t)?In:Ye.current,l.context=pr(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ai(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&oo.enqueueReplaceState(l,l.state,null),Os(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function yr(e,t){try{var n="",r=t;do n+=vh(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Go(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Hg=typeof WeakMap=="function"?WeakMap:Map;function yp(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Qi=r),Mi(e,t)},n}function vp(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Mi(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Mi(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function wc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Hg;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=sy.bind(null,e,t,n),t.then(e,e))}function Sc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var Gg=Gt.ReactCurrentOwner,tt=!1;function qe(e,t,n,r){t.child=e===null?Kf(t,null,n,r):hr(t,e.child,n,r)}function jc(e,t,n,r,l){n=n.render;var s=t.ref;return ur(t,l),r=qa(e,t,n,r,s,l),n=Xa(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ht(e,t,l)):(be&&n&&Ma(t),t.flags|=1,qe(e,t,r,l),t.child)}function Nc(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!iu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,xp(e,t,s,r,l)):(e=gs(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(i,r)&&e.ref===t.ref)return Ht(e,t,l)}return t.flags|=1,e=dn(s,r),e.ref=t.ref,e.return=t,t.child=e}function xp(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(fl(s,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,Ht(e,t,l)}return $i(e,t,n,r,l)}function wp(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(rr,st),st|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(rr,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(rr,st),st|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Se(rr,st),st|=r;return qe(e,t,l,n),t.child}function Sp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $i(e,t,n,r,l){var s=rt(n)?In:Ye.current;return s=pr(t,s),ur(t,l),n=qa(e,t,n,r,s,l),r=Xa(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ht(e,t,l)):(be&&r&&Ma(t),t.flags|=1,qe(e,t,n,l),t.child)}function kc(e,t,n,r,l){if(rt(n)){var s=!0;bs(t)}else s=!1;if(ur(t,l),t.stateNode===null)ps(e,t),gp(t,n,r),zi(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=gt(c):(c=rt(n)?In:Ye.current,c=pr(t,c));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&xc(t,i,r,c),qt=!1;var g=t.memoizedState;i.state=g,Os(t,r,i,l),u=t.memoizedState,a!==r||g!==u||nt.current||qt?(typeof m=="function"&&(Ai(t,n,m,r),u=t.memoizedState),(a=qt||vc(t,n,a,r,g,u,c))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Yf(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:wt(t.type,a),i.props=c,p=t.pendingProps,g=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=gt(u):(u=rt(n)?In:Ye.current,u=pr(t,u));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==p||g!==u)&&xc(t,i,r,u),qt=!1,g=t.memoizedState,i.state=g,Os(t,r,i,l);var w=t.memoizedState;a!==p||g!==w||nt.current||qt?(typeof v=="function"&&(Ai(t,n,v,r),w=t.memoizedState),(c=qt||vc(t,n,c,r,g,w,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Di(e,t,n,r,s,l)}function Di(e,t,n,r,l,s){Sp(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&cc(t,n,!1),Ht(e,t,s);r=t.stateNode,Gg.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=hr(t,e.child,null,s),t.child=hr(t,null,a,s)):qe(e,t,a,s),t.memoizedState=r.state,l&&cc(t,n,!0),t.child}function Cp(e){var t=e.stateNode;t.pendingContext?uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uc(e,t.context,!1),Ga(e,t.containerInfo)}function Ec(e,t,n,r,l){return mr(),Da(l),t.flags|=256,qe(e,t,n,r),t.child}var Ui={dehydrated:null,treeContext:null,retryLane:0};function Wi(e){return{baseLanes:e,cachePool:null,transitions:null}}function jp(e,t,n){var r=t.pendingProps,l=Pe.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Se(Pe,l&1),e===null)return Ti(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=uo(i,r,0,null),e=On(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Wi(n),t.memoizedState=Ui,e):eu(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Kg(e,t,i,r,a,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=dn(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=dn(a,s):(s=On(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Wi(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Ui,r}return s=e.child,e=s.sibling,r=dn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function eu(e,t){return t=uo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xl(e,t,n,r){return r!==null&&Da(r),hr(t,e.child,null,n),e=eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kg(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Go(Error(B(422))),Xl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=uo({mode:"visible",children:r.children},l,0,null),s=On(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&hr(t,e.child,null,i),t.child.memoizedState=Wi(i),t.memoizedState=Ui,s);if(!(t.mode&1))return Xl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Go(s,r,void 0),Xl(e,t,i,r)}if(a=(i&e.childLanes)!==0,tt||a){if(r=Ue,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Vt(e,l),kt(r,e,l,-1))}return ou(),r=Go(Error(B(421))),Xl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=oy.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,ot=on(l.nextSibling),it=t,be=!0,jt=null,e!==null&&(ft[pt++]=Mt,ft[pt++]=$t,ft[pt++]=An,Mt=e.id,$t=e.overflow,An=t),t=eu(t,r.children),t.flags|=4096,t)}function bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ii(e.return,t,n)}function Ko(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function Np(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(qe(e,t,r.children,n),r=Pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bc(e,n,t);else if(e.tag===19)bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Pe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Rs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ko(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Rs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ko(t,!0,n,null,s);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ps(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qg(e,t,n){switch(t.tag){case 3:Cp(t),mr();break;case 5:qf(t);break;case 1:rt(t.type)&&bs(t);break;case 4:Ga(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;Se(Fs,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Pe,Pe.current&1),t.flags|=128,null):n&t.child.childLanes?jp(e,t,n):(Se(Pe,Pe.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);Se(Pe,Pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Np(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Se(Pe,Pe.current),r)break;return null;case 22:case 23:return t.lanes=0,wp(e,t,n)}return Ht(e,t,n)}var kp,Bi,Ep,bp;kp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bi=function(){};Ep=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Fn(It.current);var s=null;switch(n){case"input":l=di(e,l),r=di(e,r),s=[];break;case"select":l=Oe({},l,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":l=mi(e,l),r=mi(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ks)}gi(n,r);var i;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ke("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};bp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ir(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yg(e,t,n){var r=t.pendingProps;switch($a(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return rt(t.type)&&Es(),Ge(t),null;case 3:return r=t.stateNode,gr(),Ee(nt),Ee(Ye),Qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(Xi(jt),jt=null))),Bi(e,t),Ge(t),null;case 5:Ka(t);var l=Fn(yl.current);if(n=t.type,e!==null&&t.stateNode!=null)Ep(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ge(t),null}if(e=Fn(It.current),Yl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Rt]=t,r[hl]=s,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(l=0;l<Dr.length;l++)ke(Dr[l],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Au(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":Mu(r,s),ke("invalid",r)}gi(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ql(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ql(r.textContent,a,e),l=["children",""+a]):sl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ke("scroll",r)}switch(n){case"input":Dl(r),zu(r,s,!0);break;case"textarea":Dl(r),$u(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ks)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ef(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Rt]=t,e[hl]=r,kp(e,t,!1,!1),t.stateNode=e;e:{switch(i=yi(n,r),n){case"dialog":ke("cancel",e),ke("close",e),l=r;break;case"iframe":case"object":case"embed":ke("load",e),l=r;break;case"video":case"audio":for(l=0;l<Dr.length;l++)ke(Dr[l],e);l=r;break;case"source":ke("error",e),l=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),l=r;break;case"details":ke("toggle",e),l=r;break;case"input":Au(e,r),l=di(e,r),ke("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=Oe({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Mu(e,r),l=mi(e,r),ke("invalid",e);break;default:l=r}gi(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?rf(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&tf(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ol(e,u):typeof u=="number"&&ol(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ke("scroll",e):u!=null&&Na(e,s,u,i))}switch(n){case"input":Dl(e),zu(e,r,!1);break;case"textarea":Dl(e),$u(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?sr(e,!!r.multiple,s,!1):r.defaultValue!=null&&sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ks)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)bp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Fn(yl.current),Fn(It.current),Yl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(s=r.nodeValue!==n)&&(e=it,e!==null))switch(e.tag){case 3:Ql(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ql(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Ge(t),null;case 13:if(Ee(Pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&ot!==null&&t.mode&1&&!(t.flags&128))Hf(),mr(),t.flags|=98560,s=!1;else if(s=Yl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(B(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Rt]=t}else mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),s=!1}else jt!==null&&(Xi(jt),jt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pe.current&1?$e===0&&($e=3):ou())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return gr(),Bi(e,t),e===null&&pl(t.stateNode.containerInfo),Ge(t),null;case 10:return Ba(t.type._context),Ge(t),null;case 17:return rt(t.type)&&Es(),Ge(t),null;case 19:if(Ee(Pe),s=t.memoizedState,s===null)return Ge(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)Ir(s,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Rs(e),i!==null){for(t.flags|=128,Ir(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Pe,Pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ie()>vr&&(t.flags|=128,r=!0,Ir(s,!1),t.lanes=4194304)}else{if(!r)if(e=Rs(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ir(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!be)return Ge(t),null}else 2*Ie()-s.renderingStartTime>vr&&n!==1073741824&&(t.flags|=128,r=!0,Ir(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ie(),t.sibling=null,n=Pe.current,Se(Pe,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return su(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function qg(e,t){switch($a(t),t.tag){case 1:return rt(t.type)&&Es(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),Ee(nt),Ee(Ye),Qa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ka(t),null;case 13:if(Ee(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Pe),null;case 4:return gr(),null;case 10:return Ba(t.type._context),null;case 22:case 23:return su(),null;case 24:return null;default:return null}}var Jl=!1,Qe=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,ee=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Vi(e,t,n){try{n()}catch(r){Re(e,t,r)}}var _c=!1;function Jg(e,t){if(bi=Cs,e=Of(),za(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,m=0,p=e,g=null;t:for(;;){for(var v;p!==n||l!==0&&p.nodeType!==3||(a=i+l),p!==s||r!==0&&p.nodeType!==3||(u=i+r),p.nodeType===3&&(i+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===e)break t;if(g===n&&++c===l&&(a=i),g===s&&++m===r&&(u=i),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(_i={focusedElem:e,selectionRange:n},Cs=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,S=w.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?C:wt(t.type,C),S);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(j){Re(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return w=_c,_c=!1,w}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Vi(t,n,s)}l=l.next}while(l!==r)}}function io(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _p(e){var t=e.alternate;t!==null&&(e.alternate=null,_p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[hl],delete t[Li],delete t[Tg],delete t[Ig])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pp(e){return e.tag===5||e.tag===3||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ks));else if(r!==4&&(e=e.child,e!==null))for(Gi(e,t,n),e=e.sibling;e!==null;)Gi(e,t,n),e=e.sibling}function Ki(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ki(e,t,n),e=e.sibling;e!==null;)Ki(e,t,n),e=e.sibling}var We=null,Ct=!1;function Qt(e,t,n){for(n=n.child;n!==null;)Fp(e,t,n),n=n.sibling}function Fp(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:Qe||nr(n,t);case 6:var r=We,l=Ct;We=null,Qt(e,t,n),We=r,Ct=l,We!==null&&(Ct?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Ct?(e=We,n=n.stateNode,e.nodeType===8?Do(e.parentNode,n):e.nodeType===1&&Do(e,n),cl(e)):Do(We,n.stateNode));break;case 4:r=We,l=Ct,We=n.stateNode.containerInfo,Ct=!0,Qt(e,t,n),We=r,Ct=l;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Vi(n,t,i),l=l.next}while(l!==r)}Qt(e,t,n);break;case 1:if(!Qe&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,t,a)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,Qt(e,t,n),Qe=r):Qt(e,t,n);break;default:Qt(e,t,n)}}function Fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xg),t.forEach(function(r){var l=iy.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Ct=!1;break e;case 3:We=a.stateNode.containerInfo,Ct=!0;break e;case 4:We=a.stateNode.containerInfo,Ct=!0;break e}a=a.return}if(We===null)throw Error(B(160));Fp(s,i,l),We=null,Ct=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){Re(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lp(t,e),t=t.sibling}function Lp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Lt(e),r&4){try{Xr(3,e,e.return),io(3,e)}catch(C){Re(e,e.return,C)}try{Xr(5,e,e.return)}catch(C){Re(e,e.return,C)}}break;case 1:xt(t,e),Lt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(xt(t,e),Lt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var l=e.stateNode;try{ol(l,"")}catch(C){Re(e,e.return,C)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Jd(l,s),yi(a,i);var c=yi(a,s);for(i=0;i<u.length;i+=2){var m=u[i],p=u[i+1];m==="style"?rf(l,p):m==="dangerouslySetInnerHTML"?tf(l,p):m==="children"?ol(l,p):Na(l,m,p,c)}switch(a){case"input":fi(l,s);break;case"textarea":Zd(l,s);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?sr(l,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?sr(l,!!s.multiple,s.defaultValue,!0):sr(l,!!s.multiple,s.multiple?[]:"",!1))}l[hl]=s}catch(C){Re(e,e.return,C)}}break;case 6:if(xt(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error(B(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(C){Re(e,e.return,C)}}break;case 3:if(xt(t,e),Lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cl(t.containerInfo)}catch(C){Re(e,e.return,C)}break;case 4:xt(t,e),Lt(e);break;case 13:xt(t,e),Lt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(ru=Ie())),r&4&&Fc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(c=Qe)||m,xt(t,e),Qe=c):xt(t,e),Lt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(ee=e,m=e.child;m!==null;){for(p=ee=m;ee!==null;){switch(g=ee,v=g.child,g.tag){case 0:case 11:case 14:case 15:Xr(4,g,g.return);break;case 1:nr(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(C){Re(r,n,C)}}break;case 5:nr(g,g.return);break;case 22:if(g.memoizedState!==null){Oc(p);continue}}v!==null?(v.return=g,ee=v):Oc(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{l=p.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=nf("display",i))}catch(C){Re(e,e.return,C)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(C){Re(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:xt(t,e),Lt(e),r&4&&Fc(e);break;case 21:break;default:xt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pp(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(ol(l,""),r.flags&=-33);var s=Pc(e);Ki(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Pc(e);Gi(e,a,i);break;default:throw Error(B(161))}}catch(u){Re(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zg(e,t,n){ee=e,Op(e)}function Op(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var l=ee,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||Jl;if(!i){var a=l.alternate,u=a!==null&&a.memoizedState!==null||Qe;a=Jl;var c=Qe;if(Jl=i,(Qe=u)&&!c)for(ee=l;ee!==null;)i=ee,u=i.child,i.tag===22&&i.memoizedState!==null?Rc(l):u!==null?(u.return=i,ee=u):Rc(l);for(;s!==null;)ee=s,Op(s),s=s.sibling;ee=l,Jl=a,Qe=c}Lc(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,ee=s):Lc(e)}}function Lc(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||io(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&hc(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hc(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&cl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Qe||t.flags&512&&Hi(t)}catch(g){Re(t,t.return,g)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Oc(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Rc(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{io(4,t)}catch(u){Re(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){Re(t,l,u)}}var s=t.return;try{Hi(t)}catch(u){Re(t,s,u)}break;case 5:var i=t.return;try{Hi(t)}catch(u){Re(t,i,u)}}}catch(u){Re(t,t.return,u)}if(t===e){ee=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ee=a;break}ee=t.return}}var ey=Math.ceil,As=Gt.ReactCurrentDispatcher,tu=Gt.ReactCurrentOwner,ht=Gt.ReactCurrentBatchConfig,ge=0,Ue=null,Ae=null,Be=0,st=0,rr=xn(0),$e=0,Sl=null,Mn=0,ao=0,nu=0,Jr=null,et=null,ru=0,vr=1/0,At=null,zs=!1,Qi=null,un=null,Zl=!1,en=null,Ms=0,Zr=0,Yi=null,ms=-1,hs=0;function Xe(){return ge&6?Ie():ms!==-1?ms:ms=Ie()}function cn(e){return e.mode&1?ge&2&&Be!==0?Be&-Be:zg.transition!==null?(hs===0&&(hs=gf()),hs):(e=xe,e!==0||(e=window.event,e=e===void 0?16:jf(e.type)),e):1}function kt(e,t,n,r){if(50<Zr)throw Zr=0,Yi=null,Error(B(185));bl(e,n,r),(!(ge&2)||e!==Ue)&&(e===Ue&&(!(ge&2)&&(ao|=n),$e===4&&Jt(e,Be)),lt(e,r),n===1&&ge===0&&!(t.mode&1)&&(vr=Ie()+500,lo&&wn()))}function lt(e,t){var n=e.callbackNode;zh(e,t);var r=Ss(e,e===Ue?Be:0);if(r===0)n!==null&&Wu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wu(n),t===1)e.tag===0?Ag(Tc.bind(null,e)):Wf(Tc.bind(null,e)),Og(function(){!(ge&6)&&wn()}),n=null;else{switch(yf(r)){case 1:n=Pa;break;case 4:n=mf;break;case 16:n=ws;break;case 536870912:n=hf;break;default:n=ws}n=Dp(n,Rp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rp(e,t){if(ms=-1,hs=0,ge&6)throw Error(B(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=Ss(e,e===Ue?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$s(e,r);else{t=r;var l=ge;ge|=2;var s=Ip();(Ue!==e||Be!==t)&&(At=null,vr=Ie()+500,Ln(e,t));do try{ry();break}catch(a){Tp(e,a)}while(!0);Wa(),As.current=s,ge=l,Ae!==null?t=0:(Ue=null,Be=0,t=$e)}if(t!==0){if(t===2&&(l=Ci(e),l!==0&&(r=l,t=qi(e,l))),t===1)throw n=Sl,Ln(e,0),Jt(e,r),lt(e,Ie()),n;if(t===6)Jt(e,r);else{if(l=e.current.alternate,!(r&30)&&!ty(l)&&(t=$s(e,r),t===2&&(s=Ci(e),s!==0&&(r=s,t=qi(e,s))),t===1))throw n=Sl,Ln(e,0),Jt(e,r),lt(e,Ie()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Nn(e,et,At);break;case 3:if(Jt(e,r),(r&130023424)===r&&(t=ru+500-Ie(),10<t)){if(Ss(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Fi(Nn.bind(null,e,et,At),t);break}Nn(e,et,At);break;case 4:if(Jt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Nt(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ey(r/1960))-r,10<r){e.timeoutHandle=Fi(Nn.bind(null,e,et,At),r);break}Nn(e,et,At);break;case 5:Nn(e,et,At);break;default:throw Error(B(329))}}}return lt(e,Ie()),e.callbackNode===n?Rp.bind(null,e):null}function qi(e,t){var n=Jr;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=$s(e,t),e!==2&&(t=et,et=n,t!==null&&Xi(t)),e}function Xi(e){et===null?et=e:et.push.apply(et,e)}function ty(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!bt(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~nu,t&=~ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function Tc(e){if(ge&6)throw Error(B(327));cr();var t=Ss(e,0);if(!(t&1))return lt(e,Ie()),null;var n=$s(e,t);if(e.tag!==0&&n===2){var r=Ci(e);r!==0&&(t=r,n=qi(e,r))}if(n===1)throw n=Sl,Ln(e,0),Jt(e,t),lt(e,Ie()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,et,At),lt(e,Ie()),null}function lu(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(vr=Ie()+500,lo&&wn())}}function $n(e){en!==null&&en.tag===0&&!(ge&6)&&cr();var t=ge;ge|=1;var n=ht.transition,r=xe;try{if(ht.transition=null,xe=1,e)return e()}finally{xe=r,ht.transition=n,ge=t,!(ge&6)&&wn()}}function su(){st=rr.current,Ee(rr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lg(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch($a(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Es();break;case 3:gr(),Ee(nt),Ee(Ye),Qa();break;case 5:Ka(r);break;case 4:gr();break;case 13:Ee(Pe);break;case 19:Ee(Pe);break;case 10:Ba(r.type._context);break;case 22:case 23:su()}n=n.return}if(Ue=e,Ae=e=dn(e.current,null),Be=st=t,$e=0,Sl=null,nu=ao=Mn=0,et=Jr=null,Pn!==null){for(t=0;t<Pn.length;t++)if(n=Pn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}Pn=null}return e}function Tp(e,t){do{var n=Ae;try{if(Wa(),ds.current=Is,Ts){for(var r=Fe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ts=!1}if(zn=0,De=Me=Fe=null,qr=!1,vl=0,tu.current=null,n===null||n.return===null){$e=1,Sl=t,Ae=null;break}e:{var s=e,i=n.return,a=n,u=t;if(t=Be,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=Sc(i);if(v!==null){v.flags&=-257,Cc(v,i,a,s,t),v.mode&1&&wc(s,c,t),t=v,u=c;var w=t.updateQueue;if(w===null){var C=new Set;C.add(u),t.updateQueue=C}else w.add(u);break e}else{if(!(t&1)){wc(s,c,t),ou();break e}u=Error(B(426))}}else if(be&&a.mode&1){var S=Sc(i);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Cc(S,i,a,s,t),Da(yr(u,a));break e}}s=u=yr(u,a),$e!==4&&($e=2),Jr===null?Jr=[s]:Jr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=yp(s,u,t);mc(s,h);break e;case 1:a=u;var f=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(un===null||!un.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=vp(s,a,t);mc(s,j);break e}}s=s.return}while(s!==null)}zp(n)}catch(F){t=F,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Ip(){var e=As.current;return As.current=Is,e===null?Is:e}function ou(){($e===0||$e===3||$e===2)&&($e=4),Ue===null||!(Mn&268435455)&&!(ao&268435455)||Jt(Ue,Be)}function $s(e,t){var n=ge;ge|=2;var r=Ip();(Ue!==e||Be!==t)&&(At=null,Ln(e,t));do try{ny();break}catch(l){Tp(e,l)}while(!0);if(Wa(),ge=n,As.current=r,Ae!==null)throw Error(B(261));return Ue=null,Be=0,$e}function ny(){for(;Ae!==null;)Ap(Ae)}function ry(){for(;Ae!==null&&!_h();)Ap(Ae)}function Ap(e){var t=$p(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?zp(e):Ae=t,tu.current=null}function zp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qg(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ae=null;return}}else if(n=Yg(n,t,st),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);$e===0&&($e=5)}function Nn(e,t,n){var r=xe,l=ht.transition;try{ht.transition=null,xe=1,ly(e,t,n,r)}finally{ht.transition=l,xe=r}return null}function ly(e,t,n,r){do cr();while(en!==null);if(ge&6)throw Error(B(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mh(e,s),e===Ue&&(Ae=Ue=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zl||(Zl=!0,Dp(ws,function(){return cr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ht.transition,ht.transition=null;var i=xe;xe=1;var a=ge;ge|=4,tu.current=null,Jg(e,n),Lp(n,e),Ng(_i),Cs=!!bi,_i=bi=null,e.current=n,Zg(n),Ph(),ge=a,xe=i,ht.transition=s}else e.current=n;if(Zl&&(Zl=!1,en=e,Ms=l),s=e.pendingLanes,s===0&&(un=null),Oh(n.stateNode),lt(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(zs)throw zs=!1,e=Qi,Qi=null,e;return Ms&1&&e.tag!==0&&cr(),s=e.pendingLanes,s&1?e===Yi?Zr++:(Zr=0,Yi=e):Zr=0,wn(),null}function cr(){if(en!==null){var e=yf(Ms),t=ht.transition,n=xe;try{if(ht.transition=null,xe=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,Ms=0,ge&6)throw Error(B(331));var l=ge;for(ge|=4,ee=e.current;ee!==null;){var s=ee,i=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ee=c;ee!==null;){var m=ee;switch(m.tag){case 0:case 11:case 15:Xr(8,m,s)}var p=m.child;if(p!==null)p.return=m,ee=p;else for(;ee!==null;){m=ee;var g=m.sibling,v=m.return;if(_p(m),m===c){ee=null;break}if(g!==null){g.return=v,ee=g;break}ee=v}}}var w=s.alternate;if(w!==null){var C=w.child;if(C!==null){w.child=null;do{var S=C.sibling;C.sibling=null,C=S}while(C!==null)}}ee=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ee=i;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,ee=h;break e}ee=s.return}}var f=e.current;for(ee=f;ee!==null;){i=ee;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,ee=y;else e:for(i=f;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:io(9,a)}}catch(F){Re(a,a.return,F)}if(a===i){ee=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,ee=j;break e}ee=a.return}}if(ge=l,wn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Zs,e)}catch{}r=!0}return r}finally{xe=n,ht.transition=t}}return!1}function Ic(e,t,n){t=yr(n,t),t=yp(e,t,1),e=an(e,t,1),t=Xe(),e!==null&&(bl(e,1,t),lt(e,t))}function Re(e,t,n){if(e.tag===3)Ic(e,e,n);else for(;t!==null;){if(t.tag===3){Ic(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=yr(n,e),e=vp(t,e,1),t=an(t,e,1),e=Xe(),t!==null&&(bl(t,1,e),lt(t,e));break}}t=t.return}}function sy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Ue===e&&(Be&n)===n&&($e===4||$e===3&&(Be&130023424)===Be&&500>Ie()-ru?Ln(e,0):nu|=n),lt(e,t)}function Mp(e,t){t===0&&(e.mode&1?(t=Bl,Bl<<=1,!(Bl&130023424)&&(Bl=4194304)):t=1);var n=Xe();e=Vt(e,t),e!==null&&(bl(e,t,n),lt(e,n))}function oy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mp(e,n)}function iy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Mp(e,n)}var $p;$p=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tt=!1,Qg(e,t,n);tt=!!(e.flags&131072)}else tt=!1,be&&t.flags&1048576&&Bf(t,Ps,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ps(e,t),e=t.pendingProps;var l=pr(t,Ye.current);ur(t,n),l=qa(null,t,r,e,l,n);var s=Xa();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(s=!0,bs(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ha(t),l.updater=oo,t.stateNode=l,l._reactInternals=t,zi(t,r,e,n),t=Di(null,t,r,!0,s,n)):(t.tag=0,be&&s&&Ma(t),qe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ps(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=uy(r),e=wt(r,e),l){case 0:t=$i(null,t,r,e,n);break e;case 1:t=kc(null,t,r,e,n);break e;case 11:t=jc(null,t,r,e,n);break e;case 14:t=Nc(null,t,r,wt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:wt(r,l),$i(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:wt(r,l),kc(e,t,r,l,n);case 3:e:{if(Cp(t),e===null)throw Error(B(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Yf(e,t),Os(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=yr(Error(B(423)),t),t=Ec(e,t,r,n,l);break e}else if(r!==l){l=yr(Error(B(424)),t),t=Ec(e,t,r,n,l);break e}else for(ot=on(t.stateNode.containerInfo.firstChild),it=t,be=!0,jt=null,n=Kf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===l){t=Ht(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return qf(t),e===null&&Ti(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,Pi(r,l)?i=null:s!==null&&Pi(r,s)&&(t.flags|=32),Sp(e,t),qe(e,t,i,n),t.child;case 6:return e===null&&Ti(t),null;case 13:return jp(e,t,n);case 4:return Ga(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hr(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:wt(r,l),jc(e,t,r,l,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,Se(Fs,r._currentValue),r._currentValue=i,s!==null)if(bt(s.value,i)){if(s.children===l.children&&!nt.current){t=Ht(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Dt(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ii(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(B(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ii(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,ur(t,n),l=gt(l),r=r(l),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,l=wt(r,t.pendingProps),l=wt(r.type,l),Nc(e,t,r,l,n);case 15:return xp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:wt(r,l),ps(e,t),t.tag=1,rt(r)?(e=!0,bs(t)):e=!1,ur(t,n),gp(t,r,l),zi(t,r,l,n),Di(null,t,r,!0,e,n);case 19:return Np(e,t,n);case 22:return wp(e,t,n)}throw Error(B(156,t.tag))};function Dp(e,t){return pf(e,t)}function ay(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new ay(e,t,n,r)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uy(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ea)return 11;if(e===ba)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gs(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")iu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Kn:return On(n.children,l,s,t);case ka:i=8,l|=8;break;case ii:return e=mt(12,n,t,l|2),e.elementType=ii,e.lanes=s,e;case ai:return e=mt(13,n,t,l),e.elementType=ai,e.lanes=s,e;case ui:return e=mt(19,n,t,l),e.elementType=ui,e.lanes=s,e;case Yd:return uo(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kd:i=10;break e;case Qd:i=9;break e;case Ea:i=11;break e;case ba:i=14;break e;case Yt:i=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=mt(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function On(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function uo(e,t,n,r){return e=mt(22,e,r,t),e.elementType=Yd,e.lanes=n,e.stateNode={isHidden:!1},e}function Qo(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function Yo(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cy(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function au(e,t,n,r,l,s,i,a,u){return e=new cy(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(s),e}function dy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Up(e){if(!e)return gn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(rt(n))return Uf(e,n,t)}return t}function Wp(e,t,n,r,l,s,i,a,u){return e=au(n,r,!0,e,l,s,i,a,u),e.context=Up(null),n=e.current,r=Xe(),l=cn(n),s=Dt(r,l),s.callback=t??null,an(n,s,l),e.current.lanes=l,bl(e,l,r),lt(e,r),e}function co(e,t,n,r){var l=t.current,s=Xe(),i=cn(l);return n=Up(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(l,t,i),e!==null&&(kt(e,l,i,s),cs(e,l,i)),i}function Ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ac(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uu(e,t){Ac(e,t),(e=e.alternate)&&Ac(e,t)}function fy(){return null}var Bp=typeof reportError=="function"?reportError:function(e){console.error(e)};function cu(e){this._internalRoot=e}fo.prototype.render=cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));co(e,t,null,null)};fo.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$n(function(){co(null,e,null,null)}),t[Bt]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&Cf(e)}};function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zc(){}function py(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=Ds(i);s.call(c)}}var i=Wp(t,r,e,0,null,!1,!1,"",zc);return e._reactRootContainer=i,e[Bt]=i.current,pl(e.nodeType===8?e.parentNode:e),$n(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=Ds(u);a.call(c)}}var u=au(e,0,!1,null,null,!1,!1,"",zc);return e._reactRootContainer=u,e[Bt]=u.current,pl(e.nodeType===8?e.parentNode:e),$n(function(){co(t,u,n,r)}),u}function mo(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var a=l;l=function(){var u=Ds(i);a.call(u)}}co(t,i,e,l)}else i=py(n,t,e,l,r);return Ds(i)}vf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$r(t.pendingLanes);n!==0&&(Fa(t,n|1),lt(t,Ie()),!(ge&6)&&(vr=Ie()+500,wn()))}break;case 13:$n(function(){var r=Vt(e,1);if(r!==null){var l=Xe();kt(r,e,1,l)}}),uu(e,1)}};La=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=Xe();kt(t,e,134217728,n)}uu(e,134217728)}};xf=function(e){if(e.tag===13){var t=cn(e),n=Vt(e,t);if(n!==null){var r=Xe();kt(n,e,t,r)}uu(e,t)}};wf=function(){return xe};Sf=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};xi=function(e,t,n){switch(t){case"input":if(fi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ro(r);if(!l)throw Error(B(90));Xd(r),fi(r,l)}}}break;case"textarea":Zd(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};of=lu;af=$n;var my={usingClientEntryPoint:!1,Events:[Pl,Xn,ro,lf,sf,lu]},Ar={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hy={bundleType:Ar.bundleType,version:Ar.version,rendererPackageName:Ar.rendererPackageName,rendererConfig:Ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=df(e),e===null?null:e.stateNode},findFiberByHostInstance:Ar.findFiberByHostInstance||fy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Zs=es.inject(hy),Tt=es}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!du(t))throw Error(B(200));return dy(e,t,null,n)};ut.createRoot=function(e,t){if(!du(e))throw Error(B(299));var n=!1,r="",l=Bp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=au(e,1,!1,null,null,n,!1,r,l),e[Bt]=t.current,pl(e.nodeType===8?e.parentNode:e),new cu(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=df(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return $n(e)};ut.hydrate=function(e,t,n){if(!po(t))throw Error(B(200));return mo(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!du(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=Bp;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Wp(t,null,e,1,n??null,l,!1,s,i),e[Bt]=t.current,pl(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new fo(t)};ut.render=function(e,t,n){if(!po(t))throw Error(B(200));return mo(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!po(e))throw Error(B(40));return e._reactRootContainer?($n(function(){mo(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};ut.unstable_batchedUpdates=lu;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!po(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return mo(e,t,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function Vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vp)}catch(e){console.error(e)}}Vp(),Bd.exports=ut;var Hp=Bd.exports,Mc=Hp;si.createRoot=Mc.createRoot,si.hydrateRoot=Mc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}var tn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(tn||(tn={}));const $c="popstate";function gy(e){e===void 0&&(e={});function t(l,s){let{pathname:i="/",search:a="",hash:u=""}=Bn(l.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Ji("",{pathname:i,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(l,s){let i=l.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let u=l.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:Us(s))}function r(l,s){fu(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return vy(t,n,r,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yy(){return Math.random().toString(36).substr(2,8)}function Dc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ji(e,t,n,r){return n===void 0&&(n=null),Cl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bn(t):t,{state:n,key:t&&t.key||r||yy()})}function Us(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vy(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,i=l.history,a=tn.Pop,u=null,c=m();c==null&&(c=0,i.replaceState(Cl({},i.state,{idx:c}),""));function m(){return(i.state||{idx:null}).idx}function p(){a=tn.Pop;let S=m(),h=S==null?null:S-c;c=S,u&&u({action:a,location:C.location,delta:h})}function g(S,h){a=tn.Push;let f=Ji(C.location,S,h);n&&n(f,S),c=m()+1;let y=Dc(f,c),j=C.createHref(f);try{i.pushState(y,"",j)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(j)}s&&u&&u({action:a,location:C.location,delta:1})}function v(S,h){a=tn.Replace;let f=Ji(C.location,S,h);n&&n(f,S),c=m();let y=Dc(f,c),j=C.createHref(f);i.replaceState(y,"",j),s&&u&&u({action:a,location:C.location,delta:0})}function w(S){let h=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof S=="string"?S:Us(S);return f=f.replace(/ $/,"%20"),Le(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let C={get action(){return a},get location(){return e(l,i)},listen(S){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener($c,p),u=S,()=>{l.removeEventListener($c,p),u=null}},createHref(S){return t(l,S)},createURL:w,encodeLocation(S){let h=w(S);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:v,go(S){return i.go(S)}};return C}var Uc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Uc||(Uc={}));function xy(e,t,n){return n===void 0&&(n="/"),wy(e,t,n)}function wy(e,t,n,r){let l=typeof t=="string"?Bn(t):t,s=xr(l.pathname||"/",n);if(s==null)return null;let i=Gp(e);Sy(i);let a=null;for(let u=0;a==null&&u<i.length;++u){let c=Oy(s);a=Fy(i[u],c)}return a}function Gp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,i,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};u.relativePath.startsWith("/")&&(Le(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=fn([r,u.relativePath]),m=n.concat(u);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Gp(s.children,t,m,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:_y(c,s.index),routesMeta:m})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))l(s,i);else for(let u of Kp(s.path))l(s,i,u)}),t}function Kp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let i=Kp(r.join("/")),a=[];return a.push(...i.map(u=>u===""?s:[s,u].join("/"))),l&&a.push(...i),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Sy(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Py(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cy=/^:[\w-]+$/,jy=3,Ny=2,ky=1,Ey=10,by=-2,Wc=e=>e==="*";function _y(e,t){let n=e.split("/"),r=n.length;return n.some(Wc)&&(r+=by),t&&(r+=Ny),n.filter(l=>!Wc(l)).reduce((l,s)=>l+(Cy.test(s)?jy:s===""?ky:Ey),r)}function Py(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Fy(e,t,n){let{routesMeta:r}=e,l={},s="/",i=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",p=Zi({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),g=u.route;if(!p)return null;Object.assign(l,p.params),i.push({params:l,pathname:fn([s,p.pathname]),pathnameBase:Ay(fn([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=fn([s,p.pathnameBase]))}return i}function Zi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ly(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],i=s.replace(/(.)\/+$/,"$1"),a=l.slice(1);return{params:r.reduce((c,m,p)=>{let{paramName:g,isOptional:v}=m;if(g==="*"){let C=a[p]||"";i=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const w=a[p];return v&&!w?c[g]=void 0:c[g]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:e}}function Ly(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Oy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ry(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Bn(e):e;return{pathname:n?n.startsWith("/")?n:Ty(n,t):t,search:zy(r),hash:My(l)}}function Ty(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function qo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iy(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pu(e,t){let n=Iy(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mu(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Bn(e):(l=Cl({},e),Le(!l.pathname||!l.pathname.includes("?"),qo("?","pathname","search",l)),Le(!l.pathname||!l.pathname.includes("#"),qo("#","pathname","hash",l)),Le(!l.search||!l.search.includes("#"),qo("#","search","hash",l)));let s=e===""||l.pathname==="",i=s?"/":l.pathname,a;if(i==null)a=n;else{let p=t.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),p-=1;l.pathname=g.join("/")}a=p>=0?t[p]:"/"}let u=Ry(l,a),c=i&&i!=="/"&&i.endsWith("/"),m=(s||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const fn=e=>e.join("/").replace(/\/\/+/g,"/"),Ay=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zy=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,My=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $y(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qp=["post","put","patch","delete"];new Set(Qp);const Dy=["get",...Qp];new Set(Dy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl.apply(this,arguments)}const ho=d.createContext(null),Yp=d.createContext(null),Kt=d.createContext(null),go=d.createContext(null),Sn=d.createContext({outlet:null,matches:[],isDataRoute:!1}),qp=d.createContext(null);function Uy(e,t){let{relative:n}=t===void 0?{}:t;Nr()||Le(!1);let{basename:r,navigator:l}=d.useContext(Kt),{hash:s,pathname:i,search:a}=vo(e,{relative:n}),u=i;return r!=="/"&&(u=i==="/"?r:fn([r,i])),l.createHref({pathname:u,search:a,hash:s})}function Nr(){return d.useContext(go)!=null}function vt(){return Nr()||Le(!1),d.useContext(go).location}function Xp(e){d.useContext(Kt).static||d.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=d.useContext(Sn);return e?ev():Wy()}function Wy(){Nr()||Le(!1);let e=d.useContext(ho),{basename:t,future:n,navigator:r}=d.useContext(Kt),{matches:l}=d.useContext(Sn),{pathname:s}=vt(),i=JSON.stringify(pu(l,n.v7_relativeSplatPath)),a=d.useRef(!1);return Xp(()=>{a.current=!0}),d.useCallback(function(c,m){if(m===void 0&&(m={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=mu(c,JSON.parse(i),s,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:fn([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,i,s,e])}function vo(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=d.useContext(Kt),{matches:l}=d.useContext(Sn),{pathname:s}=vt(),i=JSON.stringify(pu(l,r.v7_relativeSplatPath));return d.useMemo(()=>mu(e,JSON.parse(i),s,n==="path"),[e,i,s,n])}function By(e,t){return Vy(e,t)}function Vy(e,t,n,r){Nr()||Le(!1);let{navigator:l}=d.useContext(Kt),{matches:s}=d.useContext(Sn),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=vt(),m;if(t){var p;let S=typeof t=="string"?Bn(t):t;u==="/"||(p=S.pathname)!=null&&p.startsWith(u)||Le(!1),m=S}else m=c;let g=m.pathname||"/",v=g;if(u!=="/"){let S=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=xy(e,{pathname:v}),C=Yy(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:fn([u,l.encodeLocation?l.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:fn([u,l.encodeLocation?l.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return t&&C?d.createElement(go.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:tn.Pop}},C):C}function Hy(){let e=Zy(),t=$y(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:l},n):null,null)}const Gy=d.createElement(Hy,null);class Ky extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(Sn.Provider,{value:this.props.routeContext},d.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qy(e){let{routeContext:t,match:n,children:r}=e,l=d.useContext(ho);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Sn.Provider,{value:t},r)}function Yy(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(l=n)==null?void 0:l.errors;if(a!=null){let m=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);m>=0||Le(!1),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=m),p.route.id){let{loaderData:g,errors:v}=n,w=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((m,p,g)=>{let v,w=!1,C=null,S=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,C=p.route.errorElement||Gy,u&&(c<0&&g===0?(tv("route-fallback"),w=!0,S=null):c===g&&(w=!0,S=p.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,g+1)),f=()=>{let y;return v?y=C:w?y=S:p.route.Component?y=d.createElement(p.route.Component,null):p.route.element?y=p.route.element:y=m,d.createElement(Qy,{match:p,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?d.createElement(Ky,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Jp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jp||{}),Zp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zp||{});function qy(e){let t=d.useContext(ho);return t||Le(!1),t}function Xy(e){let t=d.useContext(Yp);return t||Le(!1),t}function Jy(e){let t=d.useContext(Sn);return t||Le(!1),t}function em(e){let t=Jy(),n=t.matches[t.matches.length-1];return n.route.id||Le(!1),n.route.id}function Zy(){var e;let t=d.useContext(qp),n=Xy(),r=em();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ev(){let{router:e}=qy(Jp.UseNavigateStable),t=em(Zp.UseNavigateStable),n=d.useRef(!1);return Xp(()=>{n.current=!0}),d.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,jl({fromRouteId:t},s)))},[e,t])}const Bc={};function tv(e,t,n){Bc[e]||(Bc[e]=!0)}function nv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tm(e){let{to:t,replace:n,state:r,relative:l}=e;Nr()||Le(!1);let{future:s,static:i}=d.useContext(Kt),{matches:a}=d.useContext(Sn),{pathname:u}=vt(),c=yo(),m=mu(t,pu(a,s.v7_relativeSplatPath),u,l==="path"),p=JSON.stringify(m);return d.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:l}),[c,p,l,n,r]),null}function kn(e){Le(!1)}function rv(e){let{basename:t="/",children:n=null,location:r,navigationType:l=tn.Pop,navigator:s,static:i=!1,future:a}=e;Nr()&&Le(!1);let u=t.replace(/^\/*/,"/"),c=d.useMemo(()=>({basename:u,navigator:s,static:i,future:jl({v7_relativeSplatPath:!1},a)}),[u,a,s,i]);typeof r=="string"&&(r=Bn(r));let{pathname:m="/",search:p="",hash:g="",state:v=null,key:w="default"}=r,C=d.useMemo(()=>{let S=xr(m,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:w},navigationType:l}},[u,m,p,g,v,w,l]);return C==null?null:d.createElement(Kt.Provider,{value:c},d.createElement(go.Provider,{children:n,value:C}))}function lv(e){let{children:t,location:n}=e;return By(ea(t),n)}new Promise(()=>{});function ea(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,l)=>{if(!d.isValidElement(r))return;let s=[...t,l];if(r.type===d.Fragment){n.push.apply(n,ea(r.props.children,s));return}r.type!==kn&&Le(!1),!r.props.index||!r.props.children||Le(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ea(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(this,arguments)}function nm(e,t){if(e==null)return{};var n={},r=Object.keys(e),l,s;for(s=0;s<r.length;s++)l=r[s],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function sv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ov(e,t){return e.button===0&&(!t||t==="_self")&&!sv(e)}const iv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],av=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],uv="6";try{window.__reactRouterVersion=uv}catch{}const cv=d.createContext({isTransitioning:!1}),dv="startTransition",Vc=sh[dv];function fv(e){let{basename:t,children:n,future:r,window:l}=e,s=d.useRef();s.current==null&&(s.current=gy({window:l,v5Compat:!0}));let i=s.current,[a,u]=d.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},m=d.useCallback(p=>{c&&Vc?Vc(()=>u(p)):u(p)},[u,c]);return d.useLayoutEffect(()=>i.listen(m),[i,m]),d.useEffect(()=>nv(r),[r]),d.createElement(rv,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rm=d.forwardRef(function(t,n){let{onClick:r,relative:l,reloadDocument:s,replace:i,state:a,target:u,to:c,preventScrollReset:m,viewTransition:p}=t,g=nm(t,iv),{basename:v}=d.useContext(Kt),w,C=!1;if(typeof c=="string"&&mv.test(c)&&(w=c,pv))try{let y=new URL(window.location.href),j=c.startsWith("//")?new URL(y.protocol+c):new URL(c),F=xr(j.pathname,v);j.origin===y.origin&&F!=null?c=F+j.search+j.hash:C=!0}catch{}let S=Uy(c,{relative:l}),h=gv(c,{replace:i,state:a,target:u,preventScrollReset:m,relative:l,viewTransition:p});function f(y){r&&r(y),y.defaultPrevented||h(y)}return d.createElement("a",Ws({},g,{href:w||S,onClick:C||s?r:f,ref:n,target:u}))}),Ur=d.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:l=!1,className:s="",end:i=!1,style:a,to:u,viewTransition:c,children:m}=t,p=nm(t,av),g=vo(u,{relative:p.relative}),v=vt(),w=d.useContext(Yp),{navigator:C,basename:S}=d.useContext(Kt),h=w!=null&&yv(g)&&c===!0,f=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,y=v.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;l||(y=y.toLowerCase(),j=j?j.toLowerCase():null,f=f.toLowerCase()),j&&S&&(j=xr(j,S)||j);const F=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let L=y===f||!i&&y.startsWith(f)&&y.charAt(F)==="/",z=j!=null&&(j===f||!i&&j.startsWith(f)&&j.charAt(f.length)==="/"),k={isActive:L,isPending:z,isTransitioning:h},D=L?r:void 0,T;typeof s=="function"?T=s(k):T=[s,L?"active":null,z?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let Z=typeof a=="function"?a(k):a;return d.createElement(rm,Ws({},p,{"aria-current":D,className:T,ref:n,style:Z,to:u,viewTransition:c}),typeof m=="function"?m(k):m)});var ta;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ta||(ta={}));var Hc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hc||(Hc={}));function hv(e){let t=d.useContext(ho);return t||Le(!1),t}function gv(e,t){let{target:n,replace:r,state:l,preventScrollReset:s,relative:i,viewTransition:a}=t===void 0?{}:t,u=yo(),c=vt(),m=vo(e,{relative:i});return d.useCallback(p=>{if(ov(p,n)){p.preventDefault();let g=r!==void 0?r:Us(c)===Us(m);u(e,{replace:g,state:l,preventScrollReset:s,relative:i,viewTransition:a})}},[c,u,m,r,l,n,e,s,i,a])}function yv(e,t){t===void 0&&(t={});let n=d.useContext(cv);n==null&&Le(!1);let{basename:r}=hv(ta.useViewTransitionState),l=vo(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zi(l.pathname,i)!=null||Zi(l.pathname,s)!=null}function lm(){const[e,t]=d.useState(()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem("cozygen_gallery_pending")==="1"}catch{return!1}});return d.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1),l=s=>{s.key==="cozygen_gallery_pending"&&t(s.newValue==="1")};return window.addEventListener("cozygen:gallery-pending",n),window.addEventListener("cozygen:gallery-viewed",r),window.addEventListener("storage",l),()=>{window.removeEventListener("cozygen:gallery-pending",n),window.removeEventListener("cozygen:gallery-viewed",r),window.removeEventListener("storage",l)}},[]),e}const na="cozygen_token";function hu(){try{return typeof window>"u"?null:localStorage.getItem(na)}catch{return null}}function sm(e){try{if(typeof window>"u")return;e?localStorage.setItem(na,e):localStorage.removeItem(na)}catch{}}function Xo(){sm(null)}function Ll(){const e=hu();return e?{Authorization:`Bearer ${e}`}:{}}const Ol=async(e,t)=>{if(t.status===401){const r=new Error("unauthorized");throw r.unauthorized=!0,r.status=401,r}if(!t.ok)throw new Error(`${e} failed`);return(t.headers.get("content-type")||"").includes("application/json")?t.json():t.text()},Rl=async(e,t={})=>{const{signal:n}=t,r=await fetch(e,{headers:{...Ll()},signal:n});return Ol(e,r)},om=async(e,t,n={})=>{const{signal:r}=n,l=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...Ll()},body:JSON.stringify(t),credentials:"include",signal:r});return Ol(e,l)};async function vv(e={}){return Rl("/cozygen/workflows",e)}async function xv(e,t={}){return Rl(`/cozygen/workflows/${encodeURIComponent(e)}`,t)}async function wv(e,t={}){return Rl(`/cozygen/get_choices?type=${encodeURIComponent(e)}`,t)}async function im(e){const t=await fetch("/prompt",{method:"POST",headers:{"Content-Type":"application/json",...Ll()},body:JSON.stringify(e),credentials:"include"});return Ol("/prompt",t)}async function Sv(e){const t=new FormData;t.append("image",e);const n=await fetch("/cozygen/upload_image",{method:"POST",headers:{...Ll()},body:t,credentials:"include"});return Ol("/cozygen/upload_image",n)}async function am(e="",t=1,n=50,r=!1,l=!1,s="all",i="",a={}){const u=new URLSearchParams({subfolder:e,page:String(t),per_page:String(n),show_hidden:r?"1":"0",recursive:l?"1":"0",kind:s});return i&&u.set("cache_bust",String(i)),Rl(`/cozygen/api/gallery?${u.toString()}`,a)}async function Cv(){return Rl("/cozygen/api/aliases")}async function jv(e){return om("/cozygen/api/aliases",e||{})}async function Nv(e,t){return om("/cozygen/api/login",{username:e,password:t})}async function kv(){return fetch("/cozygen/api/auth_status",{headers:{...Ll()},credentials:"include"}).then(e=>Ol("/cozygen/api/auth_status",e))}const Ev=30*60*1e3,Gc="cozygen_idle_logout",um=d.createContext(null);function bv({children:e}){const[t,n]=d.useState(!1),[r,l]=d.useState(null),[s,i]=d.useState(!1),[a,u]=d.useState(null),c=d.useCallback(async()=>{if(!hu()){l(null),i(!1),n(!0);return}try{const w=await kv();l((w==null?void 0:w.user)||null),i(!!(w!=null&&w.default_credentials))}catch{Xo(),l(null),i(!1)}finally{n(!0)}},[]);d.useEffect(()=>{c()},[c]);const m=d.useCallback(async(v,w)=>{const C=await Nv(v,w);sm((C==null?void 0:C.token)||""),l((C==null?void 0:C.user)||v),i(!!(C!=null&&C.default_credentials));try{localStorage.removeItem(Gc)}catch{}return C},[]),p=d.useCallback(()=>{Xo(),l(null),i(!1)},[]);d.useEffect(()=>{if(!t)return;const v=()=>{a&&clearTimeout(a);const C=setTimeout(()=>{Xo(),l(null),i(!1);try{localStorage.setItem(Gc,"1")}catch{}window.location.hash="#/login"},Ev);u(C)};v();const w=["pointerdown","keydown","visibilitychange"];return w.forEach(C=>window.addEventListener(C,v,{passive:!0})),()=>{a&&clearTimeout(a),w.forEach(C=>window.removeEventListener(C,v))}},[t,a]);const g=d.useMemo(()=>({ready:t,user:r,authed:!!r,defaultCreds:s,login:m,logout:p,refresh:c}),[t,r,s,m,p,c]);return o.jsx(um.Provider,{value:g,children:e})}function xo(){const e=d.useContext(um);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function _v({children:e}){return o.jsx(bv,{children:e})}const cm="cozygen_last_render_payload";function Pv(e){if(e)try{if(typeof window>"u")return;window.localStorage.setItem(cm,JSON.stringify(e))}catch{}}function dm(){try{if(typeof window>"u")return null;const e=window.localStorage.getItem(cm);return e?JSON.parse(e):null}catch{return null}}async function fm(){const e=dm();if(!e||!e.workflow)return{success:!1,error:"No previous render to repeat"};try{return window.dispatchEvent(new CustomEvent("cozygen:render-state",{detail:{active:!0}})),await im({prompt:e.workflow}),window.dispatchEvent(new CustomEvent("cozygen:render-state",{detail:{active:!1}})),{success:!0}}catch(t){return console.error("Failed to requeue prompt",t),window.dispatchEvent(new CustomEvent("cozygen:render-state",{detail:{active:!1}})),t!=null&&t.unauthorized?(window.location.hash="#/login",{success:!1,error:"Session expired"}):{success:!1,error:"Failed to queue prompt"}}}function pm(){const e=dm();return!!(e&&e.workflow)}const Fv=({size:e=32,className:t=""})=>o.jsxs("svg",{width:e,height:e,viewBox:"0 0 32 32",fill:"none",className:t,"aria-hidden":"true",children:[o.jsx("path",{d:"M8 24L20 4",stroke:"url(#logo-gradient)",strokeWidth:"3",strokeLinecap:"round"}),o.jsx("path",{d:"M6 26C6 26 7 24 8 24C9 24 10 25 8 27C6 29 4 28 6 26Z",fill:"url(#logo-warm)"}),o.jsx("circle",{cx:"22",cy:"8",r:"2",fill:"url(#logo-spark)"}),o.jsx("circle",{cx:"26",cy:"12",r:"1.5",fill:"url(#logo-spark)",opacity:"0.8"}),o.jsx("circle",{cx:"24",cy:"16",r:"1",fill:"url(#logo-spark)",opacity:"0.6"}),o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"logo-gradient",x1:"8",y1:"24",x2:"20",y2:"4",gradientUnits:"userSpaceOnUse",children:[o.jsx("stop",{stopColor:"#FF9F7A"}),o.jsx("stop",{offset:"0.5",stopColor:"#9F8CFF"}),o.jsx("stop",{offset:"1",stopColor:"#44E1C5"})]}),o.jsxs("linearGradient",{id:"logo-warm",x1:"4",y1:"24",x2:"10",y2:"28",gradientUnits:"userSpaceOnUse",children:[o.jsx("stop",{stopColor:"#FF9F7A"}),o.jsx("stop",{offset:"1",stopColor:"#FFD666"})]}),o.jsxs("radialGradient",{id:"logo-spark",cx:"0.3",cy:"0.3",r:"0.7",children:[o.jsx("stop",{stopColor:"#FFFFFF"}),o.jsx("stop",{offset:"0.5",stopColor:"#44E1C5"}),o.jsx("stop",{offset:"1",stopColor:"#9F8CFF"})]})]})]}),Te=({children:e,size:t=16,className:n="",...r})=>o.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,"aria-hidden":"true",...r,children:e}),mm=e=>o.jsxs(Te,{...e,children:[o.jsx("path",{d:"M12 19l7-7 3 3-7 7-3-3z"}),o.jsx("path",{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}),o.jsx("path",{d:"M2 2l7.586 7.586"}),o.jsx("circle",{cx:"11",cy:"11",r:"2"})]}),gu=e=>o.jsxs(Te,{...e,children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",fill:"currentColor",stroke:"none"}),o.jsx("path",{d:"M21 15l-5-5L5 21"})]}),Tl=e=>o.jsxs(Te,{...e,children:[o.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"}),o.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7",strokeWidth:"3"})]}),yu=e=>o.jsx(Te,{...e,children:o.jsx("path",{d:"M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),vu=e=>o.jsx(Te,{...e,children:o.jsx("polygon",{points:"5 3 19 12 5 21 5 3",fill:"currentColor",stroke:"none"})}),Kc=e=>o.jsxs(Te,{...e,children:[o.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"}),o.jsx("polyline",{points:"16 17 21 12 16 7"}),o.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),Lv=e=>o.jsxs(Te,{...e,children:[o.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),o.jsx("line",{x1:"9",y1:"9",x2:"9",y2:"15"}),o.jsx("line",{x1:"15",y1:"9",x2:"15",y2:"15"}),o.jsx("circle",{cx:"9",cy:"12",r:"1.5",fill:"currentColor",stroke:"none"}),o.jsx("circle",{cx:"15",cy:"10",r:"1.5",fill:"currentColor",stroke:"none"})]}),Ov=e=>o.jsx(Te,{...e,children:o.jsx("polyline",{points:"3 12 7 12 10 6 14 18 17 12 21 12"})}),Rv=e=>o.jsxs(Te,{...e,children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),o.jsx("circle",{cx:"12",cy:"12",r:"4"}),o.jsx("line",{x1:"3",y1:"9",x2:"6",y2:"9"})]}),Qc=e=>o.jsxs(Te,{...e,children:[o.jsx("path",{d:"M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"}),o.jsx("path",{d:"M2 10h20"})]}),Yc=e=>o.jsx(Te,{...e,children:o.jsx("path",{d:"M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"})}),qc=e=>o.jsxs(Te,{...e,children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Xc=e=>o.jsxs(Te,{...e,children:[o.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"}),o.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),Jc=e=>o.jsx(Te,{...e,children:o.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),Zc=e=>o.jsxs(Te,{...e,children:[o.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),o.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),ra=e=>o.jsxs(Te,{...e,children:[o.jsx("polyline",{points:"23 4 23 10 17 10"}),o.jsx("path",{d:"M20.49 15a9 9 0 11-2.12-9.36L23 10"})]}),Tv=e=>o.jsx(Te,{...e,children:o.jsx("polyline",{points:"15 18 9 12 15 6"})}),Iv=e=>o.jsx(Te,{...e,children:o.jsx("polyline",{points:"9 18 15 12 9 6"})}),la=e=>o.jsxs(Te,{...e,children:[o.jsx("circle",{cx:"9",cy:"6",r:"1",fill:"currentColor",stroke:"none"}),o.jsx("circle",{cx:"15",cy:"6",r:"1",fill:"currentColor",stroke:"none"}),o.jsx("circle",{cx:"9",cy:"12",r:"1",fill:"currentColor",stroke:"none"}),o.jsx("circle",{cx:"15",cy:"12",r:"1",fill:"currentColor",stroke:"none"}),o.jsx("circle",{cx:"9",cy:"18",r:"1",fill:"currentColor",stroke:"none"}),o.jsx("circle",{cx:"15",cy:"18",r:"1",fill:"currentColor",stroke:"none"})]}),sa=e=>o.jsxs(Te,{...e,children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),Av=e=>o.jsxs(Te,{...e,children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeDasharray:"4 2"}),o.jsx("line",{x1:"9",y1:"12",x2:"15",y2:"12"})]}),zv=e=>o.jsxs(Te,{...e,children:[o.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),o.jsx("polyline",{points:"5 12 12 5 19 12"})]}),ed=[{to:"/",label:"Studio",Icon:mm,end:!0}],Mv=[{to:"/gallery",label:"Gallery",Icon:gu},{to:"/aliases",label:"Aliases",Icon:Tl}],ts=({isActive:e})=>["slim-nav-link btn-touch",e?"is-active":null].filter(Boolean).join(" ");function $v(){const[e,t]=d.useState(!1),{pathname:n}=vt(),r=lm(),{logout:l,user:s}=xo(),[i,a]=d.useState(!1),u=()=>t(C=>!C),c=()=>t(!1),p=!(n==="/login");d.useEffect(()=>{const C=S=>{var f;const h=!!((f=S==null?void 0:S.detail)!=null&&f.active);a(h)};return window.addEventListener("cozygen:render-state",C),()=>window.removeEventListener("cozygen:render-state",C)},[]);const g=async()=>{if(i)return;if(n==="/"||n==="/studio"){try{window.dispatchEvent(new Event("cozygen:request-render"))}catch{}return}if(!pm()){alert("No previous render found yet. Render once from Studio first.");return}a(!0);const S=await fm();a(!1),S!=null&&S.success||alert((S==null?void 0:S.error)||"Failed to render.")},v=()=>{try{l()}catch{}window.location.hash="#/login"},w=[...ed,...Mv];return o.jsxs("header",{className:"top-bar",children:[o.jsx("div",{className:"top-bar-shell",children:o.jsxs("div",{className:"brand-row",children:[o.jsxs(rm,{to:"/",className:"brand-mark",onClick:c,children:[o.jsx(Fv,{size:28,className:"brand-logo"}),o.jsx("span",{className:"brand-text",children:"CozyGen"})]}),o.jsx("nav",{className:"desktop-nav","aria-label":"Main navigation",children:w.map(C=>o.jsx(Ur,{to:C.to,end:C.end,className:ts,children:o.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[o.jsx(C.Icon,{size:16}),o.jsx("span",{children:C.label}),C.to==="/gallery"&&r?o.jsx("span",{className:"badge-dot","aria-hidden":"true"}):null]})},C.to))}),o.jsx("div",{className:"flex-1"}),p?o.jsxs("button",{type:"button",className:`desktop-render-btn ${i?"is-busy":""}`,onClick:g,title:i?"Rendering":"Render","aria-busy":i,"aria-disabled":i,disabled:i,children:[o.jsx("span",{className:"render-icon",children:i?o.jsx("span",{className:"render-spinner","aria-hidden":"true"}):o.jsx(vu,{size:16})}),o.jsx("span",{className:"render-label",children:i?"Rendering":"Render"})]}):null,o.jsxs("button",{type:"button",className:"desktop-logout-btn",onClick:v,title:"Sign out",children:[o.jsx("span",{className:"logout-icon",children:o.jsx(Kc,{size:16})}),o.jsx("span",{className:"logout-label",children:"Logout"}),s?o.jsxs("span",{className:"logout-user",children:["@",s]}):null]}),o.jsx("button",{type:"button",className:`mobile-menu-toggle btn-touch ${e?"is-active":""} md:hidden`,onClick:u,"aria-expanded":e,"aria-controls":"cozygen-mobile-nav","aria-label":e?"Close menu":"Open menu",children:o.jsx("span",{className:"mobile-menu-icon",children:o.jsx("span",{})})})]})}),o.jsxs("div",{id:"cozygen-mobile-nav",className:`mobile-nav-drawer md:hidden ${e?"is-open":""}`,role:"menu",children:[o.jsx("div",{className:"mobile-nav-section",children:ed.map(C=>o.jsx(Ur,{to:C.to,end:C.end,className:ts,onClick:c,role:"menuitem",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(C.Icon,{size:16}),o.jsx("span",{children:C.label})]})},C.to))}),o.jsxs("div",{className:"mobile-nav-section secondary",children:[o.jsx(Ur,{to:"/gallery",className:ts,onClick:c,role:"menuitem",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(gu,{size:16}),o.jsx("span",{children:"Gallery"}),r?o.jsx("span",{className:"badge-dot","aria-hidden":"true"}):null]})}),o.jsx(Ur,{to:"/aliases",className:ts,onClick:c,role:"menuitem",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Tl,{size:16}),o.jsx("span",{children:"Aliases"})]})}),o.jsx("button",{type:"button",className:"slim-nav-link btn-touch text-left",onClick:()=>{c(),v()},role:"menuitem",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(Kc,{size:16}),o.jsx("span",{children:"Logout"}),s?o.jsxs("span",{className:"text-slate-400 text-xs",children:["@",s]}):null]})})]})]})]})}const Dv=[{to:"/",label:"Studio",Icon:mm,end:!0},{to:"/gallery",label:"Gallery",Icon:gu},{to:"/aliases",label:"Aliases",Icon:Tl},{to:"#composer",label:"Composer",Icon:yu,isComposer:!0},{to:"#render",label:"Render",Icon:vu,isAction:!0}],Uv=({isActive:e})=>["bottom-nav-link",e?"is-active":""].filter(Boolean).join(" ");function Wv(){const e=vt(),t=yo(),n=lm(),[r,l]=Vr.useState(!1),[s,i]=Vr.useState(!1),a=e.pathname==="/"||e.pathname==="",u=async()=>{if(!(typeof window>"u")){if(!a){t("/studio"),setTimeout(()=>{try{window.dispatchEvent(new CustomEvent("cozygen:open-composer",{detail:{}}))}catch{}},0);return}try{window.dispatchEvent(new CustomEvent("cozygen:open-composer",{detail:{}}))}catch{}}},c=async()=>{if(!(typeof window>"u"))if(l(!0),setTimeout(()=>l(!1),400),a)try{window.dispatchEvent(new CustomEvent("cozygen:request-render"))}catch{}else{if(!pm())return;const m=await fm();m.success||console.warn("Requeue failed:",m.error)}};return Vr.useEffect(()=>{const m=p=>{var v;const g=!!((v=p==null?void 0:p.detail)!=null&&v.active);i(g),g&&(l(!0),setTimeout(()=>l(!1),400))};return window.addEventListener("cozygen:render-state",m),()=>window.removeEventListener("cozygen:render-state",m)},[]),o.jsx("nav",{className:"bottom-nav md:hidden","aria-label":"Bottom navigation",children:Dv.map(m=>m.isAction?o.jsxs("button",{type:"button",className:`bottom-nav-link is-action ${r?"is-flash":""} ${s?"is-rendering":""}`,onClick:c,"aria-label":"Render",children:[o.jsx("span",{className:"bottom-nav-icon","aria-hidden":"true",children:o.jsx(vu,{size:20})}),o.jsx("span",{className:"bottom-nav-label",children:"Render"})]},"render"):m.isComposer?o.jsxs("button",{type:"button",className:"bottom-nav-link",onClick:u,"aria-label":"Prompt composer",children:[o.jsx("span",{className:"bottom-nav-icon","aria-hidden":"true",children:o.jsx(yu,{size:20})}),o.jsx("span",{className:"bottom-nav-label",children:"Composer"})]},"composer"):o.jsxs(Ur,{to:m.to,end:m.end,className:Uv,children:[o.jsx("span",{className:"bottom-nav-icon","aria-hidden":"true",children:o.jsx(m.Icon,{size:20})}),o.jsxs("span",{className:"bottom-nav-label",children:[m.label,m.to==="/gallery"&&n?o.jsx("span",{className:"badge-dot pulse","aria-hidden":"true"}):null]})]},m.to))})}function Bv(e,t){if(!t||t<=0)return null;const n=Number(e)||0,r=Number(t)||0,l=Math.round(n/r*100);return Number.isFinite(l)?Math.max(0,Math.min(100,l)):null}function Vv({busy:e=!1,progressValue:t=0,progressMax:n=0,statusText:r="Idle",statusPhase:l="idle",primaryLabel:s="Render",onPrimary:i,primaryDisabled:a=!1}){const u=Bv(t,n);let c="bg-[#3D4270]";l==="queued"?c="bg-[#FF60D0]":l==="running"?c="bg-[#3EF0FF]":l==="finished"?c="bg-[#5CFF9A]":l==="error"&&(c="bg-[#FF4F88]");const p={idle:"Idle",queued:"Queued",running:"Running",finished:"Finished",error:"Error"}[l]||"Status",g=l==="running"?"animate-pulse":"",v=e||a;return o.jsxs("div",{className:"dock-bar-inner",children:[o.jsx("button",{type:"button",onClick:i,disabled:v,className:`w-full rounded-full px-6 py-3 text-sm sm:text-base font-semibold tracking-[0.25em] uppercase
          bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)]
          text-[#050716]
          shadow-[0_0_35px_rgba(255,96,208,0.45)]
          transition-transform
          disabled:opacity-60 disabled:cursor-not-allowed
          active:translate-y-[1px]`,children:e?"Rendering":s}),o.jsxs("div",{className:"mt-2 flex items-center justify-between text-[10px] sm:text-[11px] text-[#9DA3FFCC]",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`h-2 w-2 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.35)] ${c} ${g}`}),o.jsx("span",{className:"tracking-[0.25em] uppercase",children:p})]}),o.jsxs("span",{className:"flex items-center gap-2",children:[u!=null&&e&&o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx("span",{className:"h-1.5 w-10 rounded-full bg-[#1B1F3A] overflow-hidden",children:o.jsx("span",{className:"block h-full bg-[#3EF0FF]",style:{width:`${u}%`}})}),o.jsxs("span",{children:[u,"%"]})]}),o.jsx("span",{className:"truncate max-w-[9rem] text-right",children:r||(e?"Working":"Idle")})]})]})]})}const hm="jpg,jpeg,png,webp,gif,bmp,tif,tiff",xu=(e="")=>/\.(png|jpe?g|gif|webp|bmp|tif?f)$/i.test(e),gm=(e="")=>/\.(mp4|webm|mov|mkv)$/i.test(e);async function Jo({subfolder:e="",page:t=1,perPage:n=50,exts:r=hm}={}){const l=new URLSearchParams({subfolder:e,page:String(t),per_page:String(n),exts:r}),s=await fetch(`/cozygen/input?${l.toString()}`);if(!s.ok)throw new Error(`Input list failed: ${s.status}`);return s.json()}const Bs=e=>`/cozygen/input/file?path=${encodeURIComponent(e)}`,oa="output::",wo=(e="")=>e.replace(/\\/g,"/").replace(/^\/+/,"").replace(/\/+$/,""),ym=(e="")=>{const t=e.replace(/\\/g,"/").split("/").filter(Boolean);return t[t.length-1]||""},Hv=({subfolder:e="",filename:t=""}={})=>{const n=ym(t);if(!n)return"";const r=wo(e);return`${oa}${r}::${n}`},ia=(e="")=>{if(typeof e!="string"||!e.startsWith(oa))return null;const t=e.slice(oa.length);if(!t)return null;const n=t.lastIndexOf("::"),r=n===-1?t:t.slice(n+2);return r?{subfolder:n===-1?"":t.slice(0,n),filename:r}:null},Vs=({filename:e="",subfolder:t="",type:n="output"}={})=>{const r=ym(e);return r?`/view?${new URLSearchParams({filename:r,subfolder:wo(t),type:n||"output"}).toString()}`:""},aa=(e="")=>e.split("/").slice(0,-1).join("/"),Gv=e=>{if(typeof e!="string"||!e)return e!=null&&e.path?aa(e.path):"";const t=ia(e);return t?wo(t.subfolder):aa(e)},td=(e=[])=>e.map(t=>{const n=t.rel_path||t.name||"",r=t.name||n||"Untitled",l=!!t.is_dir,s=l?"":Bs(n);return{...t,name:r,rel_path:n,is_dir:l,is_image:!l&&xu(r),is_video:!l&&gm(r),source:"input",preview_url:s}}),Kv=(e=[])=>e.map(t=>{const n=t.filename||"",r=t.subfolder||"",l=t.type==="directory",s=l?r||n:[r,n].filter(Boolean).join("/"),i=n||r||s||"Untitled",a=l?"":Vs({filename:n,subfolder:r,type:t.type});return{...t,name:i,rel_path:s,is_dir:l,is_image:!l&&xu(n),is_video:!l&&gm(n),source:"output",preview_url:a}}),Cn={get(e,t){try{return(typeof window<"u"?JSON.parse(localStorage.getItem(e)):null)??t}catch{return t}},set(e,t){try{typeof window<"u"&&localStorage.setItem(e,JSON.stringify(t))}catch{}}};function Qv({input:e,value:t,onFormChange:n}){var K;const r=((K=e==null?void 0:e.inputs)==null?void 0:K.param_name)||"Image Input",l=(e==null?void 0:e.class_type)||"CozyGenImageInput",s=`cg_last_input_cwd::${r}`,i=`cg_last_picker_source::${r}`,[a,u]=d.useState(""),[c,m]=d.useState(!1),[p,g]=d.useState(!1),[v,w]=d.useState(Cn.get(s,"")),[C,S]=d.useState(1),[h,f]=d.useState(50),[y,j]=d.useState([]),[F,L]=d.useState(1),[z,k]=d.useState(!1),[D,T]=d.useState(""),[Z,te]=d.useState([]),[q,V]=d.useState(!0),[A,O]=d.useState(()=>Cn.get(i,"inputs")==="outputs"?"outputs":"inputs"),x=A,E=d.useCallback(b=>{const N=b==="outputs"?"outputs":"inputs";O(N),Cn.set(i,N),w(""),S(1)},[]),I=d.useMemo(()=>{if(a)try{const b=new URL(a,window.location.origin);return(b.searchParams.get("path")||b.searchParams.get("filename")||b.pathname.split("/").pop()||"").split("/").pop()||"No file selected."}catch{}if(!t)return"No file selected.";if(typeof t=="string"){const b=ia(t);return b!=null&&b.filename?b.filename.split("/").pop():t.split("/").pop()}return t!=null&&t.path?t.path.split("/").pop():"No file selected."},[a,t]);d.useEffect(()=>{if(typeof t=="string"&&t){const b=ia(t);b!=null&&b.filename?u(Vs({filename:b.filename,subfolder:b.subfolder,type:"output"})):u(Bs(t)),m(!1)}else t!=null&&t.url?(u(t.url),m(!1)):(u(""),m(!1))},[t]);const U=d.useCallback(async b=>{const N=await Sv(b),M=`/view?filename=${N.filename}&type=input`;u(M),m(!1),Cn.set(s,""),l==="CozyGenImageInput"?n(r,N.filename):n(r,{source:"Upload",path:N.filename,url:M})},[l,n,r]),P=d.useCallback(()=>{u(""),m(!1),l==="CozyGenImageInput"?n(r,""):n(r,{source:"Upload",path:"",url:""})},[l,n,r]),$=d.useCallback(()=>{const N=Gv(t)||Cn.get(s,"");w(N),S(1),g(!0)},[t]),G=d.useCallback(()=>{g(!1)},[]);d.useEffect(()=>{if(p){if(x!=="inputs"){te([]);return}(async()=>{try{const b=await Jo({subfolder:"",page:1,perPage:0,exts:""});te((b.items||[]).filter(N=>N.is_dir))}catch{}})()}},[p,x]),d.useEffect(()=>{if(!p)return;let b=!1;async function N(){k(!0);try{if(x==="outputs"){const M=await am(v,C,h);if(b)return;const Y=Kv(M&&M.items||[]);b||(j(Y),L(M&&M.total_pages||1))}else{const Y=await Jo({subfolder:v,page:C,perPage:h,exts:q?hm:""}),se=(Y.items||[]).some(ie=>!ie.is_dir);if(q&&!se){const ie=await Jo({subfolder:v,page:C,perPage:h,exts:""});b||(j(td(ie.items||[])),L(ie.total_pages||1),V(!1));return}b||(j(td(Y.items||[])),L(Y.total_pages||1))}}catch(M){console.error(x==="outputs"?"Failed to load output directory":"Failed to load input directory",M),b||(j([]),L(1))}finally{b||k(!1)}}return N(),()=>{b=!0}},[p,v,C,h,q,x]);const Q=d.useMemo(()=>{const b=D.trim().toLowerCase();let N=y;return q&&(N=N.filter(M=>{if(M.is_dir)return!0;const Y=M.name||M.filename||M.rel_path||"";return xu(String(Y))})),b?N.filter(M=>(M.name||M.filename||M.rel_path||"").toLowerCase().includes(b)):N},[y,D,q]),ne=d.useCallback(b=>{if(!b)return;const N=typeof b=="object"?b:null;if(((N==null?void 0:N.source)||"inputs")==="output"){const ie=Hv({subfolder:(N==null?void 0:N.subfolder)||"",filename:(N==null?void 0:N.filename)||(N==null?void 0:N.name)||""});if(!ie)return;const Ce=(N==null?void 0:N.preview_url)||Vs({filename:N==null?void 0:N.filename,subfolder:N==null?void 0:N.subfolder,type:N==null?void 0:N.type});u(Ce),m(!1),Cn.set(s,wo((N==null?void 0:N.subfolder)||"")),l==="CozyGenImageInput"?n(r,ie):n(r,{source:"OutputGallery",path:ie,url:Ce}),g(!1);return}const Y=typeof b=="string"?b:(N==null?void 0:N.rel_path)||(N==null?void 0:N.path)||"";if(!Y)return;const se=(N==null?void 0:N.preview_url)||Bs(Y);u(se),m(!1),Cn.set(s,aa(Y)),l==="CozyGenImageInput"?n(r,Y):n(r,{source:"Server",path:Y,url:se}),g(!1)},[l,n,r]);return{param:r,previewUrl:a,imgReady:c,setImgReady:m,displayName:I,serverOpen:p,openServer:$,closeServer:G,cwd:v,setCwd:w,page:C,setPage:S,perPage:h,setPerPage:f,totalPages:F,loading:z,search:D,setSearch:T,topDirs:Z,imagesOnly:q,setImagesOnly:V,shownEntries:Q,pickerSource:x,setPickerSource:E,handleUpload:U,clearImage:P,selectServer:ne}}function Yv({open:e,cwd:t,setCwd:n,page:r,setPage:l,perPage:s,setPerPage:i,totalPages:a,topDirs:u,loading:c,imagesOnly:m,setImagesOnly:p,search:g,setSearch:v,shownEntries:w,onSelect:C,onClose:S,pickerSource:h,setPickerSource:f}){if(d.useEffect(()=>{if(!e)return;const k=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=k}},[e]),!e)return null;const y=h||"inputs",j=typeof f=="function",F=()=>{n(""),l(1)},L=k=>{j&&k!==y&&(f(k),n(""),l(1))},z=t.split("/").filter(Boolean);return o.jsxs("div",{className:"fixed inset-0 z-40",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:S}),o.jsx("div",{className:"relative w-full h-full sm:h-[90vh] sm:max-w-5xl sm:mx-auto sm:mt-8",children:o.jsxs("div",{className:"flex flex-col w-full h-full rounded-none sm:rounded-3xl border border-[#3D4270] bg-[#050716] shadow-[0_0_40px_rgba(0,0,0,0.9)] overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-3 px-3 sm:px-4 py-2 sm:py-3 border-b border-[#3D4270] bg-[#050716F2]",children:[o.jsx("button",{type:"button",className:"text-[11px] sm:text-xs font-medium tracking-[0.16em] uppercase text-[#9CF7FF] hover:text-[#FFFFFF]",onClick:S,children:"Close"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[10px] tracking-[0.18em] uppercase text-[#9DA3FFCC]",children:y==="outputs"?"Output Browser":"Input Browser"}),o.jsxs("div",{className:"mt-1 text-[10px] text-[#C3C7FF] overflow-x-auto whitespace-nowrap no-scrollbar",children:[o.jsx("button",{type:"button",className:"hover:text-[#FFFFFF]",onClick:F,children:"/"}),z.map((k,D)=>{const T=z.slice(0,D+1).join("/");return o.jsxs("span",{children:[o.jsx("span",{className:"mx-1 text-[#555A96]",children:"/"}),o.jsx("button",{type:"button",className:"hover:text-[#FFFFFF]",onClick:()=>{n(T),l(1)},children:k})]},T)})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-end sm:items-center gap-2 sm:gap-3",children:[j&&o.jsxs("div",{className:"inline-flex rounded-full border border-[#3D4270] bg-[#050716] p-[2px] text-[10px]",children:[o.jsx("button",{type:"button",className:`px-3 py-1 rounded-full tracking-[0.14em] uppercase ${y==="inputs"?"bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)] text-[#050716]":"text-[#C3C7FF] hover:text-[#FFFFFF]"}`,onClick:()=>L("inputs"),children:"Inputs"}),o.jsx("button",{type:"button",className:`px-3 py-1 rounded-full tracking-[0.14em] uppercase ${y==="outputs"?"bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)] text-[#050716]":"text-[#C3C7FF] hover:text-[#FFFFFF]"}`,onClick:()=>L("outputs"),children:"Outputs"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsxs("label",{className:"inline-flex items-center gap-1.5",children:[o.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 accent-[#3EF0FF]",checked:m,onChange:k=>{p(k.target.checked),l(1)}}),o.jsx("span",{className:"text-[10px] sm:text-[11px] text-[#9DA3FFCC]",children:"Images only"})]}),o.jsx("input",{type:"search",value:g,onChange:k=>v(k.target.value),placeholder:"Search",className:"w-28 sm:w-44 rounded-full border border-[#3D4270] bg-[#050716] px-3 py-1.5 text-[11px] text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80]"}),o.jsxs("select",{className:"rounded-full border border-[#3D4270] bg-[#050716] px-2.5 py-1.5 text-[11px] text-[#C3C7FF]",value:s,onChange:k=>{const D=parseInt(k.target.value,10)||50;i(D),l(1)},children:[o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[o.jsx("button",{type:"button",className:"px-2.5 py-1 rounded-full border border-[#3D4270] bg-[#050716] text-[11px] text-[#C3C7FF] hover:bg-[#111325] disabled:opacity-40",disabled:r<=1||c,onClick:()=>l(k=>Math.max(1,k-1)),children:""}),o.jsxs("span",{className:"text-[11px] text-[#9DA3FFCC]",children:[r," / ",a]}),o.jsx("button",{type:"button",className:"px-2.5 py-1 rounded-full border border-[#3D4270] bg-[#050716] text-[11px] text-[#C3C7FF] hover:bg-[#111325] disabled:opacity-40",disabled:r>=a||c,onClick:()=>l(k=>k<a?k+1:k),children:""})]})]})]}),u.length>0&&o.jsxs("div",{className:"px-3 sm:px-4 py-2 border-b border-[#3D4270] flex gap-2 overflow-x-auto no-scrollbar",children:[o.jsx("button",{type:"button",className:`px-3 py-1.5 rounded-full text-[11px] font-medium tracking-[0.16em] uppercase ${t===""?"bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)] text-[#050716]":"border border-[#3D4270] bg-[#050716] text-[#C3C7FF] hover:border-[#3EF0FF80]"}`,onClick:F,children:"Root"}),u.map(k=>o.jsx("button",{type:"button",className:`px-3 py-1.5 rounded-full text-[11px] font-medium tracking-[0.16em] uppercase ${t===k.rel_path?"bg-[linear-gradient(90deg,#FF60D0,#3EF0FF)] text-[#050716]":"border border-[#3D4270] bg-[#050716] text-[#C3C7FF] hover:border-[#3EF0FF80]"}`,onClick:()=>{n(k.rel_path),l(1)},children:k.name},k.rel_path))]}),o.jsxs("div",{className:"flex-1 min-h-0 overflow-auto p-3 sm:p-4",children:[c&&o.jsxs("div",{className:"py-10 text-center text-[11px] text-[#9DA3FFCC]",children:["Scanning ",y==="outputs"?"output":"input"," folders"]}),!c&&w.length===0&&o.jsx("div",{className:"py-10 text-center text-[11px] text-[#9DA3FFCC]",children:"Nothing here yet. Try a different folder or turn off Images only."}),o.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3",children:!c&&w.map(k=>{const D=`${k.source||"input"}::${k.rel_path||k.name}`,T=k.is_dir?"":k.preview_url||(k.source==="output"?Vs({filename:k.filename,subfolder:k.subfolder,type:k.type}):Bs(k.rel_path||""));return o.jsx("button",{type:"button",className:"text-left rounded-xl border border-[#3D4270] bg-[#050716] px-2.5 py-2 transition hover:border-[#3EF0FF80]",onClick:()=>{k.is_dir?(n(k.rel_path||""),l(1)):C(k)},children:k.is_dir?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-7 w-7 rounded-xl bg-[radial-gradient(circle_at_0%_0%,#3EF0FF,transparent_55%),radial-gradient(circle_at_100%_100%,#FF60D0,transparent_55%)] opacity-90"}),o.jsx("div",{className:"text-[11px] text-[#E5E7FF] truncate",children:k.name})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"aspect-square w-full rounded-lg overflow-hidden mb-2 bg-[#111325] flex items-center justify-center",children:T?o.jsx("img",{className:"w-full h-full object-cover",alt:k.name,src:T}):o.jsx("div",{className:"w-full h-full bg-[#1b1f3b]"})}),o.jsx("div",{className:"text-[10px] text-[#C3C7FF] truncate",children:k.name})]})},D)})})]}),o.jsxs("div",{className:"sm:hidden border-t border-[#3D4270] px-3 py-2 flex items-center justify-between text-[10px] text-[#9DA3FFCC]",children:[o.jsxs("span",{children:["Page ",r," / ",a]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",className:"px-2 py-1 rounded-full border border-[#3D4270] bg-[#050716] hover:bg-[#111325] disabled:opacity-40",disabled:r<=1||c,onClick:()=>l(k=>Math.max(1,k-1)),children:""}),o.jsx("button",{type:"button",className:"px-2 py-1 rounded-full border border-[#3D4270] bg-[#050716] hover:bg-[#111325] disabled:opacity-40",disabled:r>=a||c,onClick:()=>l(k=>k<a?k+1:k),children:""})]})]})]})})]})}var ua={exports:{}},Dn={},vm={exports:{}},qv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xv=qv,Jv=Xv;function xm(){}function wm(){}wm.resetWarningCache=xm;var Zv=function(){function e(r,l,s,i,a,u){if(u!==Jv){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:wm,resetWarningCache:xm};return n.PropTypes=n,n};vm.exports=Zv();var Sm=vm.exports,ca={exports:{}},Pt={},da={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",l=/^(input|select|textarea|button|object|iframe)$/;function s(p,g){return g.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function i(p){var g=p.offsetWidth<=0&&p.offsetHeight<=0;if(g&&!p.innerHTML)return!0;try{var v=window.getComputedStyle(p),w=v.getPropertyValue("display");return g?w!==r&&s(p,v):w===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(p){for(var g=p,v=p.getRootNode&&p.getRootNode();g&&g!==document.body;){if(v&&g===v&&(g=v.host.parentNode),i(g))return!1;g=g.parentNode}return!0}function u(p,g){var v=p.nodeName.toLowerCase(),w=l.test(v)&&!p.disabled||v==="a"&&p.href||g;return w&&a(p)}function c(p){var g=p.getAttribute("tabindex");g===null&&(g=void 0);var v=isNaN(g);return(v||g>=0)&&u(p,!v)}function m(p){var g=[].slice.call(p.querySelectorAll("*"),0).reduce(function(v,w){return v.concat(w.shadowRoot?m(w.shadowRoot):[w])},[]);return g.filter(c)}e.exports=t.default})(da,da.exports);var Cm=da.exports;Object.defineProperty(Pt,"__esModule",{value:!0});Pt.resetState=rx;Pt.log=lx;Pt.handleBlur=Nl;Pt.handleFocus=kl;Pt.markForFocusLater=sx;Pt.returnFocus=ox;Pt.popWithoutFocus=ix;Pt.setupScopedFocus=ax;Pt.teardownScopedFocus=ux;var ex=Cm,tx=nx(ex);function nx(e){return e&&e.__esModule?e:{default:e}}var wr=[],lr=null,fa=!1;function rx(){wr=[]}function lx(){}function Nl(){fa=!0}function kl(){if(fa){if(fa=!1,!lr)return;setTimeout(function(){if(!lr.contains(document.activeElement)){var e=(0,tx.default)(lr)[0]||lr;e.focus()}},0)}}function sx(){wr.push(document.activeElement)}function ox(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{wr.length!==0&&(t=wr.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function ix(){wr.length>0&&wr.pop()}function ax(e){lr=e,window.addEventListener?(window.addEventListener("blur",Nl,!1),document.addEventListener("focus",kl,!0)):(window.attachEvent("onBlur",Nl),document.attachEvent("onFocus",kl))}function ux(){lr=null,window.addEventListener?(window.removeEventListener("blur",Nl),document.removeEventListener("focus",kl)):(window.detachEvent("onBlur",Nl),document.detachEvent("onFocus",kl))}var pa={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=Cm,r=l(n);function l(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function i(a,u){var c=(0,r.default)(a);if(!c.length){u.preventDefault();return}var m=void 0,p=u.shiftKey,g=c[0],v=c[c.length-1],w=s();if(a===w){if(!p)return;m=v}if(v===w&&!p&&(m=g),g===w&&p&&(m=v),m){u.preventDefault(),m.focus();return}var C=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=C!=null&&C[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var h=c.indexOf(w);if(h>-1&&(h+=p?-1:1),m=c[h],typeof m>"u"){u.preventDefault(),m=p?v:g,m.focus();return}u.preventDefault(),m.focus()}}e.exports=t.default})(pa,pa.exports);var cx=pa.exports,Ft={},dx=function(){},fx=dx,Et={},jm={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(jm);var px=jm.exports;Object.defineProperty(Et,"__esModule",{value:!0});Et.canUseDOM=Et.SafeNodeList=Et.SafeHTMLCollection=void 0;var mx=px,hx=gx(mx);function gx(e){return e&&e.__esModule?e:{default:e}}var So=hx.default,yx=So.canUseDOM?window.HTMLElement:{};Et.SafeHTMLCollection=So.canUseDOM?window.HTMLCollection:{};Et.SafeNodeList=So.canUseDOM?window.NodeList:{};Et.canUseDOM=So.canUseDOM;Et.default=yx;Object.defineProperty(Ft,"__esModule",{value:!0});Ft.resetState=Cx;Ft.log=jx;Ft.assertNodeList=Nm;Ft.setElement=Nx;Ft.validateElement=wu;Ft.hide=kx;Ft.show=Ex;Ft.documentNotReadyOrSSRTesting=bx;var vx=fx,xx=Sx(vx),wx=Et;function Sx(e){return e&&e.__esModule?e:{default:e}}var dt=null;function Cx(){dt&&(dt.removeAttribute?dt.removeAttribute("aria-hidden"):dt.length!=null?dt.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(dt).forEach(function(e){return e.removeAttribute("aria-hidden")})),dt=null}function jx(){}function Nm(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function Nx(e){var t=e;if(typeof t=="string"&&wx.canUseDOM){var n=document.querySelectorAll(t);Nm(n,t),t=n}return dt=t||dt,dt}function wu(e){var t=e||dt;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,xx.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function kx(e){var t=!0,n=!1,r=void 0;try{for(var l=wu(e)[Symbol.iterator](),s;!(t=(s=l.next()).done);t=!0){var i=s.value;i.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}function Ex(e){var t=!0,n=!1,r=void 0;try{for(var l=wu(e)[Symbol.iterator](),s;!(t=(s=l.next()).done);t=!0){var i=s.value;i.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!t&&l.return&&l.return()}finally{if(n)throw r}}}function bx(){dt=null}var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.resetState=_x;kr.log=Px;var el={},tl={};function nd(e,t){e.classList.remove(t)}function _x(){var e=document.getElementsByTagName("html")[0];for(var t in el)nd(e,el[t]);var n=document.body;for(var r in tl)nd(n,tl[r]);el={},tl={}}function Px(){}var Fx=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},Lx=function(t,n){return t[n]&&(t[n]-=1),n},Ox=function(t,n,r){r.forEach(function(l){Fx(n,l),t.add(l)})},Rx=function(t,n,r){r.forEach(function(l){Lx(n,l),n[l]===0&&t.remove(l)})};kr.add=function(t,n){return Ox(t.classList,t.nodeName.toLowerCase()=="html"?el:tl,n.split(" "))};kr.remove=function(t,n){return Rx(t.classList,t.nodeName.toLowerCase()=="html"?el:tl,n.split(" "))};var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.log=Ix;Er.resetState=Ax;function Tx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var km=function e(){var t=this;Tx(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Hs=new km;function Ix(){console.log("portalOpenInstances ----------"),console.log(Hs.openInstances.length),Hs.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function Ax(){Hs=new km}Er.default=Hs;var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.resetState=Dx;Su.log=Ux;var zx=Er,Mx=$x(zx);function $x(e){return e&&e.__esModule?e:{default:e}}var Ke=void 0,St=void 0,Rn=[];function Dx(){for(var e=[Ke,St],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}Ke=St=null,Rn=[]}function Ux(){console.log("bodyTrap ----------"),console.log(Rn.length);for(var e=[Ke,St],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function rd(){Rn.length!==0&&Rn[Rn.length-1].focusContent()}function Wx(e,t){!Ke&&!St&&(Ke=document.createElement("div"),Ke.setAttribute("data-react-modal-body-trap",""),Ke.style.position="absolute",Ke.style.opacity="0",Ke.setAttribute("tabindex","0"),Ke.addEventListener("focus",rd),St=Ke.cloneNode(),St.addEventListener("focus",rd)),Rn=t,Rn.length>0?(document.body.firstChild!==Ke&&document.body.insertBefore(Ke,document.body.firstChild),document.body.lastChild!==St&&document.body.appendChild(St)):(Ke.parentElement&&Ke.parentElement.removeChild(Ke),St.parentElement&&St.parentElement.removeChild(St))}Mx.default.subscribe(Wx);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(V){for(var A=1;A<arguments.length;A++){var O=arguments[A];for(var x in O)Object.prototype.hasOwnProperty.call(O,x)&&(V[x]=O[x])}return V},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},l=function(){function V(A,O){for(var x=0;x<O.length;x++){var E=O[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,O,x){return O&&V(A.prototype,O),x&&V(A,x),A}}(),s=d,i=Sm,a=F(i),u=Pt,c=j(u),m=cx,p=F(m),g=Ft,v=j(g),w=kr,C=j(w),S=Et,h=F(S),f=Er,y=F(f);function j(V){if(V&&V.__esModule)return V;var A={};if(V!=null)for(var O in V)Object.prototype.hasOwnProperty.call(V,O)&&(A[O]=V[O]);return A.default=V,A}function F(V){return V&&V.__esModule?V:{default:V}}function L(V,A){if(!(V instanceof A))throw new TypeError("Cannot call a class as a function")}function z(V,A){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:V}function k(V,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);V.prototype=Object.create(A&&A.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(V,A):V.__proto__=A)}var D={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},T=function(A){return A.code==="Tab"||A.keyCode===9},Z=function(A){return A.code==="Escape"||A.keyCode===27},te=0,q=function(V){k(A,V);function A(O){L(this,A);var x=z(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,O));return x.setOverlayRef=function(E){x.overlay=E,x.props.overlayRef&&x.props.overlayRef(E)},x.setContentRef=function(E){x.content=E,x.props.contentRef&&x.props.contentRef(E)},x.afterClose=function(){var E=x.props,I=E.appElement,U=E.ariaHideApp,P=E.htmlOpenClassName,$=E.bodyOpenClassName,G=E.parentSelector,Q=G&&G().ownerDocument||document;$&&C.remove(Q.body,$),P&&C.remove(Q.getElementsByTagName("html")[0],P),U&&te>0&&(te-=1,te===0&&v.show(I)),x.props.shouldFocusAfterRender&&(x.props.shouldReturnFocusAfterClose?(c.returnFocus(x.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),x.props.onAfterClose&&x.props.onAfterClose(),y.default.deregister(x)},x.open=function(){x.beforeOpen(),x.state.afterOpen&&x.state.beforeClose?(clearTimeout(x.closeTimer),x.setState({beforeClose:!1})):(x.props.shouldFocusAfterRender&&(c.setupScopedFocus(x.node),c.markForFocusLater()),x.setState({isOpen:!0},function(){x.openAnimationFrame=requestAnimationFrame(function(){x.setState({afterOpen:!0}),x.props.isOpen&&x.props.onAfterOpen&&x.props.onAfterOpen({overlayEl:x.overlay,contentEl:x.content})})}))},x.close=function(){x.props.closeTimeoutMS>0?x.closeWithTimeout():x.closeWithoutTimeout()},x.focusContent=function(){return x.content&&!x.contentHasFocus()&&x.content.focus({preventScroll:!0})},x.closeWithTimeout=function(){var E=Date.now()+x.props.closeTimeoutMS;x.setState({beforeClose:!0,closesAt:E},function(){x.closeTimer=setTimeout(x.closeWithoutTimeout,x.state.closesAt-Date.now())})},x.closeWithoutTimeout=function(){x.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},x.afterClose)},x.handleKeyDown=function(E){T(E)&&(0,p.default)(x.content,E),x.props.shouldCloseOnEsc&&Z(E)&&(E.stopPropagation(),x.requestClose(E))},x.handleOverlayOnClick=function(E){x.shouldClose===null&&(x.shouldClose=!0),x.shouldClose&&x.props.shouldCloseOnOverlayClick&&(x.ownerHandlesClose()?x.requestClose(E):x.focusContent()),x.shouldClose=null},x.handleContentOnMouseUp=function(){x.shouldClose=!1},x.handleOverlayOnMouseDown=function(E){!x.props.shouldCloseOnOverlayClick&&E.target==x.overlay&&E.preventDefault()},x.handleContentOnClick=function(){x.shouldClose=!1},x.handleContentOnMouseDown=function(){x.shouldClose=!1},x.requestClose=function(E){return x.ownerHandlesClose()&&x.props.onRequestClose(E)},x.ownerHandlesClose=function(){return x.props.onRequestClose},x.shouldBeClosed=function(){return!x.state.isOpen&&!x.state.beforeClose},x.contentHasFocus=function(){return document.activeElement===x.content||x.content.contains(document.activeElement)},x.buildClassName=function(E,I){var U=(typeof I>"u"?"undefined":r(I))==="object"?I:{base:D[E],afterOpen:D[E]+"--after-open",beforeClose:D[E]+"--before-close"},P=U.base;return x.state.afterOpen&&(P=P+" "+U.afterOpen),x.state.beforeClose&&(P=P+" "+U.beforeClose),typeof I=="string"&&I?P+" "+I:P},x.attributesFromObject=function(E,I){return Object.keys(I).reduce(function(U,P){return U[E+"-"+P]=I[P],U},{})},x.state={afterOpen:!1,beforeClose:!1},x.shouldClose=null,x.moveFromContentToOverlay=null,x}return l(A,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(x,E){this.props.isOpen&&!x.isOpen?this.open():!this.props.isOpen&&x.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!E.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var x=this.props,E=x.appElement,I=x.ariaHideApp,U=x.htmlOpenClassName,P=x.bodyOpenClassName,$=x.parentSelector,G=$&&$().ownerDocument||document;P&&C.add(G.body,P),U&&C.add(G.getElementsByTagName("html")[0],U),I&&(te+=1,v.hide(E)),y.default.register(this)}},{key:"render",value:function(){var x=this.props,E=x.id,I=x.className,U=x.overlayClassName,P=x.defaultStyles,$=x.children,G=I?{}:P.content,Q=U?{}:P.overlay;if(this.shouldBeClosed())return null;var ne={ref:this.setOverlayRef,className:this.buildClassName("overlay",U),style:n({},Q,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},K=n({id:E,ref:this.setContentRef,style:n({},G,this.props.style.content),className:this.buildClassName("content",I),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),b=this.props.contentElement(K,$);return this.props.overlayElement(ne,b)}}]),A}(s.Component);q.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},q.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(h.default),a.default.instanceOf(S.SafeHTMLCollection),a.default.instanceOf(S.SafeNodeList),a.default.arrayOf(a.default.instanceOf(h.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=q,e.exports=t.default})(ca,ca.exports);var Bx=ca.exports;function Em(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function bm(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function _m(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Em.__suppressDeprecationWarning=!0;bm.__suppressDeprecationWarning=!0;_m.__suppressDeprecationWarning=!0;function Vx(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,l=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?l="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(l="UNSAFE_componentWillUpdate"),n!==null||r!==null||l!==null){var s=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+i+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(l!==null?`
  `+l:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Em,t.componentWillReceiveProps=bm),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=_m;var a=t.componentDidUpdate;t.componentDidUpdate=function(c,m,p){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,c,m,g)}}return e}const Hx=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Vx},Symbol.toStringTag,{value:"Module"})),Gx=Bm(Hx);Object.defineProperty(Dn,"__esModule",{value:!0});Dn.bodyOpenClassName=Dn.portalClassName=void 0;var ld=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx=function(){function e(t,n){for(var r=0;r<n.length;r++){var l=n[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pm=d,Gs=Il(Pm),Qx=Hp,Ks=Il(Qx),Yx=Sm,de=Il(Yx),qx=Bx,sd=Il(qx),Xx=Ft,Jx=e0(Xx),nn=Et,od=Il(nn),Zx=Gx;function e0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Il(e){return e&&e.__esModule?e:{default:e}}function t0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function n0(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r0=Dn.portalClassName="ReactModalPortal",l0=Dn.bodyOpenClassName="ReactModal__Body--open",En=nn.canUseDOM&&Ks.default.createPortal!==void 0,ad=function(t){return document.createElement(t)},ud=function(){return En?Ks.default.createPortal:Ks.default.unstable_renderSubtreeIntoContainer};function ns(e){return e()}var Al=function(e){n0(t,e);function t(){var n,r,l,s;t0(this,t);for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];return s=(r=(l=id(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),l),l.removePortal=function(){!En&&Ks.default.unmountComponentAtNode(l.node);var c=ns(l.props.parentSelector);c&&c.contains(l.node)?c.removeChild(l.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},l.portalRef=function(c){l.portal=c},l.renderPortal=function(c){var m=ud(),p=m(l,Gs.default.createElement(sd.default,ld({defaultStyles:t.defaultStyles},c)),l.node);l.portalRef(p)},r),id(l,s)}return Kx(t,[{key:"componentDidMount",value:function(){if(nn.canUseDOM){En||(this.node=ad("div")),this.node.className=this.props.portalClassName;var r=ns(this.props.parentSelector);r.appendChild(this.node),!En&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var l=ns(r.parentSelector),s=ns(this.props.parentSelector);return{prevParent:l,nextParent:s}}},{key:"componentDidUpdate",value:function(r,l,s){if(nn.canUseDOM){var i=this.props,a=i.isOpen,u=i.portalClassName;r.portalClassName!==u&&(this.node.className=u);var c=s.prevParent,m=s.nextParent;m!==c&&(c.removeChild(this.node),m.appendChild(this.node)),!(!r.isOpen&&!a)&&!En&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!nn.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,l=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||l+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-l)):this.removePortal()}}},{key:"render",value:function(){if(!nn.canUseDOM||!En)return null;!this.node&&En&&(this.node=ad("div"));var r=ud();return r(Gs.default.createElement(sd.default,ld({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){Jx.setElement(r)}}]),t}(Pm.Component);Al.propTypes={isOpen:de.default.bool.isRequired,style:de.default.shape({content:de.default.object,overlay:de.default.object}),portalClassName:de.default.string,bodyOpenClassName:de.default.string,htmlOpenClassName:de.default.string,className:de.default.oneOfType([de.default.string,de.default.shape({base:de.default.string.isRequired,afterOpen:de.default.string.isRequired,beforeClose:de.default.string.isRequired})]),overlayClassName:de.default.oneOfType([de.default.string,de.default.shape({base:de.default.string.isRequired,afterOpen:de.default.string.isRequired,beforeClose:de.default.string.isRequired})]),appElement:de.default.oneOfType([de.default.instanceOf(od.default),de.default.instanceOf(nn.SafeHTMLCollection),de.default.instanceOf(nn.SafeNodeList),de.default.arrayOf(de.default.instanceOf(od.default))]),onAfterOpen:de.default.func,onRequestClose:de.default.func,closeTimeoutMS:de.default.number,ariaHideApp:de.default.bool,shouldFocusAfterRender:de.default.bool,shouldCloseOnOverlayClick:de.default.bool,shouldReturnFocusAfterClose:de.default.bool,preventScroll:de.default.bool,parentSelector:de.default.func,aria:de.default.object,data:de.default.object,role:de.default.string,contentLabel:de.default.string,shouldCloseOnEsc:de.default.bool,overlayRef:de.default.func,contentRef:de.default.func,id:de.default.string,overlayElement:de.default.func,contentElement:de.default.func};Al.defaultProps={isOpen:!1,portalClassName:r0,bodyOpenClassName:l0,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Gs.default.createElement("div",t,n)},contentElement:function(t,n){return Gs.default.createElement("div",t,n)}};Al.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Zx.polyfill)(Al);Dn.default=Al;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Dn,r=l(n);function l(s){return s&&s.__esModule?s:{default:s}}t.default=r.default,e.exports=t.default})(ua,ua.exports);var s0=ua.exports;const Co=Ld(s0);Co.setAppElement("#root");function yn({open:e,onClose:t,title:n,children:r,footer:l,variant:s="sheet",className:i="",contentClassName:a="",shouldCloseOnOverlayClick:u=!0}){const c=["bottom-sheet-content",s==="fullscreen"?"is-fullscreen":"is-sheet",a].filter(Boolean).join(" ");return o.jsx(Co,{isOpen:!!e,onRequestClose:t,shouldCloseOnOverlayClick:u,overlayClassName:["bottom-sheet-overlay",i].filter(Boolean).join(" "),className:c,contentLabel:n||"Sheet",children:o.jsxs("div",{className:"bottom-sheet-panel",role:"dialog","aria-modal":"true",children:[o.jsxs("header",{className:"bottom-sheet-head",children:[o.jsx("div",{className:"bottom-sheet-title",children:n||""}),o.jsx("button",{type:"button",className:"bottom-sheet-close",onClick:t,"aria-label":"Close",children:""})]}),o.jsx("div",{className:"bottom-sheet-body",children:r}),l?o.jsx("footer",{className:"bottom-sheet-foot",children:l}):null]})})}function o0({open:e,onClose:t,title:n,url:r,kind:l="image"}){return r?o.jsx(yn,{open:e,onClose:t,title:n||"Preview",variant:"fullscreen",footer:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("a",{href:r,target:"_blank",rel:"noreferrer",className:"ui-button is-muted w-full text-center",children:"Open"}),o.jsx("button",{type:"button",className:"ui-button is-primary w-full",onClick:t,children:"Close"})]}),children:o.jsx("div",{className:"url-viewer-stage",children:l==="video"?o.jsx("video",{src:r,controls:!0,className:"url-viewer-media",autoPlay:!0}):o.jsx("img",{src:r,alt:n||"Preview",className:"url-viewer-media"})})}):null}function i0({input:e,value:t,onFormChange:n}){const{previewUrl:r,imgReady:l,setImgReady:s,displayName:i,serverOpen:a,openServer:u,closeServer:c,cwd:m,setCwd:p,page:g,setPage:v,perPage:w,setPerPage:C,totalPages:S,topDirs:h,loading:f,search:y,setSearch:j,imagesOnly:F,setImagesOnly:L,shownEntries:z,pickerSource:k,setPickerSource:D,handleUpload:T,clearImage:Z,selectServer:te}=Qv({input:e,value:t,onFormChange:n}),q=d.useRef(null),V=d.useRef(null),[A,O]=d.useState(0),[x,E]=d.useState(!1);d.useEffect(()=>{const P=V.current;if(!P)return;const $=Q=>{Q.preventDefault(),Q.stopPropagation()},G=async Q=>{var K,b;$(Q);const ne=(b=(K=Q.dataTransfer)==null?void 0:K.files)==null?void 0:b[0];ne&&(await T(ne),q.current&&(q.current.value=""),O(N=>N+1))};return["dragenter","dragover","dragleave","drop"].forEach(Q=>P.addEventListener(Q,Q==="drop"?G:$)),()=>{["dragenter","dragover","dragleave","drop"].forEach(Q=>P.removeEventListener(Q,Q==="drop"?G:$))}},[T]);const I=async P=>{var G;const $=(G=P.target.files)==null?void 0:G[0];$&&(await T($),q.current&&(q.current.value=""),O(Q=>Q+1))},U=()=>{q.current&&q.current.click()};return o.jsxs("div",{className:"asset-card",children:[o.jsxs("div",{className:"mb-2 flex items-center justify-between gap-2",children:[o.jsx("h3",{className:"text-sm font-semibold text-[#F8F4FF] truncate",children:i}),o.jsx("span",{className:"text-[11px] text-[#C3C7FFB3] truncate",children:"Image"})]}),o.jsx("div",{ref:V,className:"mb-3 rounded-xl border border-dashed border-[#3D4270] bg-[#0b1226] flex items-center justify-center min-h-[140px] sm:min-h-[180px] overflow-hidden",children:r?o.jsx("button",{type:"button",className:"asset-preview-btn",onClick:()=>E(!0),"aria-label":`Preview ${i}`,title:"Open preview",children:o.jsx("img",{src:r,alt:i,className:`max-h-64 max-w-full object-contain transition-opacity ${l?"opacity-100":"opacity-0"}`,onLoad:()=>s(!0)})}):o.jsx("div",{className:"text-[11px] text-[#9DA3FFCC] text-center px-6",children:"Drop an image here, upload from your device, or choose one from your server."})}),o.jsx("input",{ref:q,type:"file",accept:"image/*",className:"hidden",onChange:I},A),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("button",{type:"button",className:"ui-button is-primary is-compact",onClick:u,children:"Choose"}),o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:U,children:"Upload"}),o.jsx("button",{type:"button",className:"ui-button is-ghost is-compact",onClick:Z,children:"Clear"})]}),o.jsx(Yv,{open:a,cwd:m,setCwd:p,page:g,setPage:v,perPage:w,setPerPage:C,totalPages:S,topDirs:h,loading:f,imagesOnly:F,setImagesOnly:L,search:y,setSearch:j,shownEntries:z,pickerSource:k,setPickerSource:D,onSelect:te,onClose:c}),o.jsx(o0,{open:x,onClose:()=>E(!1),title:i||"Preview",url:r,kind:"image"})]})}function a0({open:e,onClose:t,title:n,description:r,render:l,index:s=0,total:i=0,children:a}){const[u,c]=d.useState("idle");if(d.useEffect(()=>{if(u==="queued"){const p=setTimeout(()=>c("idle"),1600);return()=>clearTimeout(p)}},[u]),!e)return null;const m=typeof l=="function"?l():a;return o.jsxs("div",{className:"spotlight-overlay",role:"dialog","aria-modal":"true",children:[o.jsx("div",{className:"spotlight-backdrop",onClick:t}),o.jsxs("div",{className:"spotlight-sheet",children:[o.jsxs("div",{className:"spotlight-header",children:[o.jsxs("div",{className:"spotlight-meta",children:[o.jsx("div",{className:"spotlight-kicker",children:"Focused control"}),o.jsx("div",{className:"spotlight-title",children:n||"Control"}),r?o.jsx("div",{className:"spotlight-hint",children:r}):null]}),o.jsx("button",{type:"button",className:"spotlight-close",onClick:t,"aria-label":"Close",children:""})]}),o.jsx("div",{className:"spotlight-body",children:m}),o.jsx("div",{className:"spotlight-footer",children:o.jsx("div",{className:"spotlight-footer-right",children:o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:t,"aria-label":"Close",children:"Close"})})})]})]})}function bn(e){const t=String(e||"").trim();if(!t)return"";const n=t.toLowerCase(),r={scifi:"Sci-Fi",sci:"Sci",ui:"UI",vfx:"VFX",hdr:"HDR",dof:"DoF",bokeh:"Bokeh",vhs:"VHS",jpeg:"JPEG",jpg:"JPG",png:"PNG",gif:"GIF",webp:"WebP",api:"API",sfx:"SFX",fx:"FX",lora:"LoRA",loras:"LoRAs",ip:"IP",egirl:"E-girl",i2v:"I2V",t2i:"T2I",img2img:"Img2Img",txt2img:"Txt2Img",tts:"TTS",asmr:"ASMR",ai:"AI",highleg:"High-Leg","one-piece":"One-Piece","three-quarter":"Three-Quarter"};return r[n]?r[n]:/^\d+$/.test(n)?n:n==="3d"?"3D":n==="2d"?"2D":n.length===1?n.toUpperCase():n.charAt(0).toUpperCase()+n.slice(1)}function u0(e=""){const t=String(e||"").trim().toLowerCase();return t?t.startsWith("flirty_")?"flirty":t.startsWith("action_")||t.startsWith("dynamic_")||t.startsWith("stealth_")||t.startsWith("athletic_")||t.startsWith("running_")||t.startsWith("walking_")?"action":t.startsWith("sleepy_")||t.startsWith("relaxed_")||t.startsWith("reclining_")||t.startsWith("sitting_")||t.startsWith("kneeling_")?"rest":t.startsWith("happy_")||t.startsWith("sad_")||t.startsWith("angry_")||t.startsWith("nervous_")||t.startsWith("smug_")||t.startsWith("surprised_")||t.startsWith("scared_")||t.startsWith("tipsy_")?"emotion":t.startsWith("composed_")||t.startsWith("contemplative_")||t.startsWith("looking_")?"posed":"everyday":""}function c0(e=""){const t=String(e||"").trim().toLowerCase();if(!t)return"";const n=t.split("_")[0]||"";return n==="lingerie"?"lingerie":n==="swimwear"||n==="swim"?"swimwear":n==="costumes"||n==="tech"?"costumes":n==="uniform"?"uniform":n==="formal"?"formal":n==="alt"?"alt":n==="casual"||n==="street"||n==="lounge"||n==="sporty"||n==="dress"?"everyday":n||"everyday"}function Wr(e="",t=""){const n=String(e||"").trim(),r=String(t||"").trim().toLowerCase();if(!n)return"";if(r==="outfit")return c0(n)||"everyday";if(r==="pose")return u0(n)||"everyday";const l=n.indexOf("_");return l<=0?"":n.slice(0,l).trim()}function Fm(e=""){const t=String(e||"").trim();return t?t.includes(":")?t.split(":").slice(1).join(":"):t:""}function ma({token:e="",name:t=""}={}){const n=String(t||"").trim()||Fm(e);if(!n)return"";let l=n.replace(/_(\d+)$/u,"").split("_").filter(Boolean);if(l.length===0)return n;const s=[];for(let p=0;p<l.length;p++){const g=l[p],v=l[p+1];if(g&&v&&g.toLowerCase()==="one"&&v.toLowerCase()==="piece"){s.push("one-piece"),p+=1;continue}if(g&&v&&g.toLowerCase()==="three"&&v.toLowerCase()==="quarter"){s.push("three-quarter"),p+=1;continue}s.push(g)}if(l=s,Array.from(new Set(l.map(p=>String(p).toLowerCase()))).length===1)return bn(l[0]);const a=l[0],u=l.slice(1),c=bn(a),m=u.map(bn).join(" ").trim();return m?m.toLowerCase()===c.toLowerCase()?u.length===1&&String(u[0]).toLowerCase()===String(a).toLowerCase()?c||n:l.map(bn).join(" ").trim()||n:`${c} - ${m}`:l.map(bn).join(" ").trim()||n}function Cu(e){if(!e)return{subcategory:"",displayName:""};const t=e.name||"",n=e.token||"",r=Fm(n)||t,l=Wr(r,e.category)||"other",s=ma({token:n,name:t})||n||t||"Alias";return{subcategory:l,displayName:s}}function Tn(e=""){const t=String(e||"").trim();return t?t==="All"?"All":{camera:"Camera",body:"Body",char:"Characters",outfit:"Outfits",pose:"Poses",scene:"Scenes",weather:"Weather",style:"Style",hair:"Hair",lighting:"Lighting"}[t]||bn(t):""}function Qs(e=""){const t=String(e||"").trim();return t?t==="All"?"All":t.split(/[_-]+/u).filter(Boolean).map(n=>bn(n)).join(" ").trim():""}function d0({open:e,onClose:t,value:n="",onChange:r,aliasOptions:l=[],aliasCatalog:s=[],aliasLookup:i,fieldLabel:a="Prompt"}){const u=d.useRef(null),c=d.useRef(null),m=d.useRef(null),p=d.useRef(null),[g,v]=d.useState(n),[w,C]=d.useState(""),[S,h]=d.useState("All"),[f,y]=d.useState("All"),[j,F]=d.useState(30),[L,z]=d.useState("compose"),[k,D]=d.useState(null),[T,Z]=d.useState(null),te=d.useRef(null),q=d.useRef(null);d.useEffect(()=>{e&&v(n)},[e,n]);const V=d.useMemo(()=>(Array.isArray(s)?s.filter(R=>R&&R.name):[]).map(R=>({...R,...Cu(R)})),[s]),A=d.useMemo(()=>{const R=new Set(["All"]);return V.forEach(H=>{H.category&&R.add(H.category)}),Array.from(R).sort((H,X)=>H.localeCompare(X))},[V]),O=d.useMemo(()=>{const R=new Set(["All"]);return V.forEach(H=>{(!S||S==="All"||H.category===S)&&H.subcategory&&R.add(H.subcategory)}),Array.from(R).sort((H,X)=>H.localeCompare(X))},[V,S]),x=d.useMemo(()=>{const R=w.trim().toLowerCase();return V.filter(H=>{var X,ue,ae,he;return S!=="All"&&(H.category||"")!==S||f!=="All"&&(H.subcategory||"other")!==f?!1:R?((X=H.token)==null?void 0:X.toLowerCase().includes(R))||((ue=H.text)==null?void 0:ue.toLowerCase().includes(R))||((ae=H.name)==null?void 0:ae.toLowerCase().includes(R))||((he=H.displayName)==null?void 0:he.toLowerCase().includes(R)):!0}).sort((H,X)=>{const ue=(H.subcategory||"").toLowerCase(),ae=(X.subcategory||"").toLowerCase();return ue!==ae?ue.localeCompare(ae):H.token.localeCompare(X.token)})},[V,S,f,w]),E=d.useMemo(()=>x.slice(0,j),[x,j]);d.useEffect(()=>{F(30)},[S,f,w,V]),d.useEffect(()=>{y("All")},[S]),d.useEffect(()=>{const R=p.current;if(!R)return;const H=new IntersectionObserver(X=>{X[0].isIntersecting&&j<x.length&&F(ae=>Math.min(ae+20,x.length))},{threshold:.1});return H.observe(R),()=>H.disconnect()},[j,x.length]);const I=d.useMemo(()=>{if(typeof g!="string")return[];const R=[],H=/\$([a-z0-9_:-]+)\$/gi;let X;for(;X=H.exec(g);)R.push({token:X[1],index:X.index,length:X[0].length});return R},[g]),U=d.useMemo(()=>{if(!g||!i)return g;try{return g.replace(/\$([a-z0-9_:-]+)\$/gi,(R,H)=>{const X=i.get(H.toLowerCase());return typeof X=="string"?X:R})}catch{return g}},[g,i]);d.useEffect(()=>{const R=document.body;if(e&&R){const H=window.scrollY||window.pageYOffset;c.current=H,R.style.position="fixed",R.style.top=`-${H}px`,R.style.left="0",R.style.right="0",R.style.width="100%"}else if(!e&&R&&c.current!==null){const H=c.current;R.style.position="",R.style.top="",R.style.left="",R.style.right="",R.style.width="",window.scrollTo({top:H,behavior:"auto"}),c.current=null}},[e]),d.useEffect(()=>{e&&u.current&&requestAnimationFrame(()=>{var R;return(R=u.current)==null?void 0:R.focus({preventScroll:!0})})},[e]);const P=R=>{v(R.target.value)},$=R=>{const H=u.current,X=`$${R}$`,ue=g||"",ae=(H==null?void 0:H.selectionStart)??ue.length,he=(H==null?void 0:H.selectionEnd)??ue.length,ye=ue.slice(0,ae),we=ue.slice(he),ze=ye.match(/[^\s]$/),re=we.match(/^[^\s]/),ce=ze&&ze[0]!==","?", ":"",pe=re&&re[0]!==","?", ":"",_=ye+ce+X+pe+we;v(_);const W=(ye+ce+X+pe).length;z("compose"),requestAnimationFrame(()=>{H&&(H.focus(),H.setSelectionRange(W,W))})},G=R=>{const H=g||"",X=R.index,ue=R.index+R.length,ae=H.slice(0,X).replace(/[\s,]*$/,""),he=H.slice(ue).replace(/^[\s,]*/,""),ye=ae?`${ae} ${he}`.trim():he.trim();v(ye)},Q=d.useCallback((R,H)=>{if(R===H||R===null||H===null)return;const X=g||"",ue=I[0],ae=I[I.length-1],he=ue?X.slice(0,ue.index).replace(/[\s,]*$/,""):"",ye=ae?X.slice(ae.index+ae.length).replace(/^[\s,]*/,""):"",we=[...I],[ze]=we.splice(R,1);we.splice(H,0,ze);const ce=we.map(_=>`$${_.token}$`).join(", ");let pe="";he?pe=`${he}, ${ce}`:pe=ce,ye&&(pe=`${pe}, ${ye}`),v(pe.trim())},[g,I]),ne=d.useCallback((R,H)=>{D(H),te.current=R.target,R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("text/plain",H.toString()),requestAnimationFrame(()=>{te.current&&te.current.classList.add("is-dragging")})},[]),K=d.useCallback(()=>{te.current&&te.current.classList.remove("is-dragging"),k!==null&&T!==null&&k!==T&&Q(k,T),D(null),Z(null),te.current=null},[k,T,Q]),b=d.useCallback((R,H)=>{R.preventDefault(),R.dataTransfer.dropEffect="move",H!==T&&Z(H)},[T]),N=d.useCallback(()=>{},[]),M=d.useCallback((R,H)=>{const X=R.touches[0];q.current={idx:H,startX:X.clientX,startY:X.clientY,moved:!1}},[]),Y=d.useCallback(R=>{if(!q.current)return;const H=R.touches[0],X=Math.abs(H.clientX-q.current.startX),ue=Math.abs(H.clientY-q.current.startY);if(X>10||ue>10){q.current.moved=!0,D(q.current.idx);const ae=document.querySelectorAll(".composer-token-draggable"),he=H.clientX,ye=H.clientY;for(let we=0;we<ae.length;we++){const ze=ae[we].getBoundingClientRect();if(he>=ze.left&&he<=ze.right&&ye>=ze.top&&ye<=ze.bottom){Z(we);break}}}},[]),se=d.useCallback(()=>{var R;(R=q.current)!=null&&R.moved&&k!==null&&T!==null&&k!==T&&Q(k,T),q.current=null,D(null),Z(null)},[k,T,Q]),ie=()=>{r==null||r(g),t==null||t()},Ce=()=>{t==null||t()};return e?o.jsx(yn,{open:e,onClose:Ce,title:"Prompt composer",variant:"fullscreen",footer:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"ui-button is-muted w-full",onClick:Ce,children:"Cancel"}),o.jsx("button",{type:"button",className:"ui-button is-primary w-full",onClick:ie,children:"Apply"})]}),children:o.jsxs("div",{className:"composer-shell",children:[o.jsxs("div",{className:"composer-subhead",children:[o.jsx("div",{className:"sheet-label",children:"Editing"}),o.jsx("div",{className:"composer-field",children:a})]}),o.jsxs("div",{className:"composer-tabs",role:"tablist","aria-label":"Composer tabs",children:[o.jsx("button",{type:"button",role:"tab","aria-selected":L==="compose",className:`composer-tab ${L==="compose"?"is-active":""}`,onClick:()=>z("compose"),children:"Write"}),o.jsxs("button",{type:"button",role:"tab","aria-selected":L==="aliases",className:`composer-tab ${L==="aliases"?"is-active":""}`,onClick:()=>z("aliases"),children:["Aliases",V.length>0&&o.jsx("span",{className:"composer-tab-badge",children:V.length})]})]}),o.jsxs("div",{className:`composer-panel composer-panel-compose ${L==="compose"?"is-visible":""}`,children:[o.jsx("div",{className:"composer-textarea-wrap",children:o.jsx("textarea",{ref:u,value:g,onChange:P,placeholder:"Write your prompt here Use $alias$ tokens to insert dynamic content.",className:"composer-textarea",rows:8})}),I.length>0&&o.jsxs("div",{className:"composer-tokens",children:[o.jsxs("div",{className:"composer-tokens-label",children:["Active tokens ",o.jsx("span",{className:"composer-tokens-hint",children:"(drag to reorder)"})]}),o.jsx("div",{className:"composer-tokens-list",children:I.map((R,H)=>{const X=withSubcategory.find(ye=>{var we;return((we=ye.token)==null?void 0:we.toLowerCase())===R.token.toLowerCase()}),ue=(X==null?void 0:X.displayName)||R.token,ae=k===H,he=T===H&&k!==null&&k!==H;return o.jsxs("span",{className:`composer-token composer-token-draggable ${ae?"is-dragging":""} ${he?"is-drop-target":""}`,title:`$${R.token}$`,draggable:!0,onDragStart:ye=>ne(ye,H),onDragEnd:K,onDragOver:ye=>b(ye,H),onDragLeave:N,onTouchStart:ye=>M(ye,H),onTouchMove:Y,onTouchEnd:se,children:[o.jsx("span",{className:"composer-token-drag-handle","aria-hidden":"true",children:o.jsx(la,{size:14})}),o.jsx("span",{className:"composer-token-name",children:ue}),o.jsx("button",{type:"button",className:"composer-token-remove",onClick:ye=>{ye.stopPropagation(),G(R)},"aria-label":`Remove ${R.token}`,children:o.jsx(sa,{size:12})})]},`${R.token}-${R.index}`)})})]}),o.jsxs("div",{className:"composer-preview",children:[o.jsx("div",{className:"composer-preview-label",children:"Preview (expanded)"}),o.jsx("div",{className:"composer-preview-content",children:U||""})]})]}),o.jsxs("div",{className:`composer-panel composer-panel-aliases ${L==="aliases"?"is-visible":""}`,children:[o.jsxs("div",{className:"composer-filters",children:[o.jsx("input",{ref:m,type:"text",value:w,onChange:R=>C(R.target.value),placeholder:"Search aliases",className:"composer-search"}),o.jsx("select",{value:S,onChange:R=>h(R.target.value),className:"composer-subcategory-select","aria-label":"Filter by category",children:A.map(R=>o.jsx("option",{value:R,children:R==="All"?"Category: All":Tn(R)},`cat-${R}`))}),O.length>2&&o.jsx("select",{value:f,onChange:R=>y(R.target.value),className:"composer-subcategory-select",children:O.map(R=>o.jsx("option",{value:R,children:R==="All"?"All subcategories":Qs(R)},R))})]}),o.jsx("div",{className:"composer-alias-list",children:x.length===0?o.jsx("div",{className:"composer-alias-empty",children:"No aliases found."}):o.jsxs(o.Fragment,{children:[E.map(R=>o.jsxs("button",{type:"button",onClick:()=>$(R.token),className:"composer-alias-item",children:[o.jsxs("div",{className:"composer-alias-header",children:[o.jsx("div",{className:"composer-alias-name",children:R.displayName||R.token}),R.category?o.jsx("span",{className:"composer-alias-category",children:Tn(R.category)}):null]}),o.jsxs("div",{className:"composer-alias-token",children:["$",R.token,"$"]}),o.jsx("div",{className:"composer-alias-text",children:R.text})]},R.key)),j<x.length&&o.jsx("div",{ref:p,className:"composer-sentinel"})]})})]})]})}):null}function f0({open:e,onClose:t,title:n,value:r,onChange:l,placeholder:s="",description:i}){const a=n||"Edit",u=d.useMemo(()=>`sheet-textarea-${Math.random().toString(36).slice(2,9)}`,[]);return o.jsxs(yn,{open:e,onClose:t,title:a,variant:"fullscreen",footer:o.jsx("button",{type:"button",className:"ui-button is-primary w-full",onClick:t,children:"Done"}),children:[i?o.jsx("div",{className:"text-[12px] text-[#9DA3FFCC] mb-3",children:i}):null,o.jsx("textarea",{id:u,value:r??"",onChange:c=>l==null?void 0:l(c.target.value),placeholder:s,className:"sheet-textarea",rows:12,autoFocus:!0})]})}function cd({name:e,label:t,description:n,value:r,onChange:l,onEnter:s,disabled:i=!1,multiline:a=!1,aliasOptions:u=[],aliasCatalog:c=[],onOpenComposer:m}){const p=d.useRef(null),g=d.useRef(null),v=d.useRef({start:null,end:null}),w=d.useRef(null),C=d.useRef(null),[S,h]=d.useState(null),[f,y]=d.useState(null),[j,F]=d.useState(!1),[L,z]=d.useState(""),[k,D]=d.useState("All"),[T,Z]=d.useState("All"),[te]=d.useState([]),[q,V]=d.useState([]),A=d.useRef(null),[O,x]=d.useState(!1);d.useMemo(()=>Array.isArray(u)?u.filter(Boolean):[],[u]);const E=d.useMemo(()=>(Array.isArray(c)?c.filter(_=>_&&_.name):[]).map(_=>({..._,...Cu(_)})),[c]),I=d.useMemo(()=>E,[E]),U=_=>{const W=_.target.value;l==null||l(W),Q(W)},P=_=>{if(!a&&_.key==="Enter"){_.preventDefault(),s==null||s(_.target.value,_);return}};d.useEffect(()=>{if(!a)return;const _=p.current;if(!_)return;(()=>{_.style.height="auto",_.style.height=`${Math.min(_.scrollHeight,320)}px`})()},[r,a]);const $=d.useMemo(()=>{const _=new Set(["All"]);return E.forEach(W=>{W.category&&_.add(W.category)}),Array.from(_).sort((W,le)=>W.localeCompare(le))},[E]),G=d.useMemo(()=>{const _=new Set(["All"]);return I.forEach(W=>{(!k||k==="All"||W.category===k)&&W.subcategory&&_.add(W.subcategory)}),Array.from(_).sort((W,le)=>W.localeCompare(le))},[I,k]);d.useEffect(()=>{Z("All")},[k]);const Q=_=>{if(typeof _!="string"){V([]);return}const W=[],le=/\$([a-z0-9_:-]+)\$/gi;let J;for(;J=le.exec(_);)W.push({token:J[1],index:J.index,length:J[0].length});V(W)};d.useEffect(()=>{Q(r||"")},[r]),d.useEffect(()=>{j&&A.current&&requestAnimationFrame(()=>{var _;return(_=A.current)==null?void 0:_.focus({preventScroll:!0})})},[j]);const ne=()=>{try{const _=p.current;_?v.current={start:_.selectionStart??null,end:_.selectionEnd??null}:v.current={start:null,end:null}}catch{v.current={start:null,end:null}}g.current&&g.current.scrollIntoView({block:"center",behavior:"smooth"}),F(!0)},K=d.useMemo(()=>{const _=L.trim().toLowerCase();return I.filter(W=>{var le,J,fe;return k!=="All"&&(W.category||"")!==k||T!=="All"&&(W.subcategory||"other")!==T?!1:_?((le=W.token)==null?void 0:le.toLowerCase().includes(_))||((J=W.text)==null?void 0:J.toLowerCase().includes(_))||((fe=W.name)==null?void 0:fe.toLowerCase().includes(_)):!0}).sort((W,le)=>{const J=(W.subcategory||"").toLowerCase(),fe=(le.subcategory||"").toLowerCase();return J!==fe?J.localeCompare(fe):W.token.localeCompare(le.token)})},[I,k,T,L]),[b,N]=d.useState(30),M=d.useMemo(()=>K.slice(0,b),[K,b]);d.useEffect(()=>{N(30)},[k,T,L,E]),d.useEffect(()=>{Z("All")},[k]);const Y=(_,{closeAfter:W=!0}={})=>{var bu,_u;const le=p.current,J=`$${_}$`,fe=r||"",ve=(bu=v.current)==null?void 0:bu.start,oe=(_u=v.current)==null?void 0:_u.end,je=(le==null?void 0:le.selectionStart)??(typeof ve=="number"?ve:fe.length),_e=(le==null?void 0:le.selectionEnd)??(typeof oe=="number"?oe:fe.length),Ne=fe.slice(0,je),_r=fe.slice(_e),Vn=Ne.match(/[^\s]$/),zl=_r.match(/^[^\s]/),Nu=Vn&&Vn[0]!==","?", ":"",ku=zl&&zl[0]!==","?", ":"",Um=Ne+Nu+J+ku+_r;l==null||l(Um);const Eu=(Ne+Nu+J+ku).length;v.current={start:Eu,end:Eu},W&&(F(!1),requestAnimationFrame(()=>{var Pu;(Pu=le==null?void 0:le.blur)==null||Pu.call(le)}))},se=_=>{const W=r||"",le=_.index,J=_.index+_.length,fe=W.slice(0,le).replace(/[\s,]*$/,""),ve=W.slice(J).replace(/^[\s,]*/,""),oe=fe?`${fe} ${ve}`.trim():ve.trim();l==null||l(oe)},ie=d.useMemo(()=>(_,W)=>{if(_===W||_===null||W===null||!(q!=null&&q.length))return;const le=r||"",J=q[0],fe=q[q.length-1],ve=J?le.slice(0,J.index).replace(/[\s,]*$/,""):"",oe=fe?le.slice(fe.index+fe.length).replace(/^[\s,]*/,""):"",je=[...q],[_e]=je.splice(_,1);je.splice(W,0,_e);const _r=je.map(zl=>`$${zl.token}$`).join(", ");let Vn=ve?`${ve}, ${_r}`:_r;oe&&(Vn=`${Vn}, ${oe}`),l==null||l(Vn.trim())},[l,q,r]),Ce=(_,W)=>{h(W),w.current=_.currentTarget,_.dataTransfer.effectAllowed="move",_.dataTransfer.setData("text/plain",String(W)),requestAnimationFrame(()=>{w.current&&w.current.classList.add("is-dragging")})},R=(_,W)=>{_.preventDefault(),_.dataTransfer.dropEffect="move",W!==f&&y(W)},H=_=>{_!==f&&y(_)},X=_=>{S!==null&&_!==null&&S!==_&&ie(S,_),h(null),y(null),w.current=null},ue=()=>{w.current&&w.current.classList.remove("is-dragging"),X(f)},ae=(_,W)=>{_.preventDefault(),X(W)},he=(_,W)=>{_.preventDefault();const le=_.touches[0];C.current={idx:W,startX:le.clientX,startY:le.clientY,moved:!1}},ye=_=>{if(!C.current)return;const W=_.touches[0],le=Math.abs(W.clientX-C.current.startX),J=Math.abs(W.clientY-C.current.startY);if(le<=10&&J<=10)return;C.current.moved=!0,h(C.current.idx),_.preventDefault();const fe=g.current,ve=fe?fe.querySelectorAll(".token-chip-draggable"):document.querySelectorAll(".token-chip-draggable"),oe=W.clientX,je=W.clientY;for(let _e=0;_e<ve.length;_e++){const Ne=ve[_e].getBoundingClientRect();if(oe>=Ne.left&&oe<=Ne.right&&je>=Ne.top&&je<=Ne.bottom){y(_e);break}}},we=()=>{var _;(_=C.current)!=null&&_.moved&&S!==null&&f!==null&&S!==f&&ie(S,f),C.current=null,h(null),y(null)},ze={id:e,name:e,value:r??"",onChange:U,disabled:i,className:"w-full rounded-xl border border-[rgba(255,255,255,0.10)] bg-[rgba(255,255,255,0.03)] px-3 py-2.5 pr-10 text-[13px] sm:text-sm text-[rgba(237,242,255,0.92)] placeholder-[rgba(159,178,215,0.65)] focus:outline-none focus:border-[rgba(68,225,197,0.60)] focus:shadow-[0_0_0_3px_rgba(68,225,197,0.16)] transition",placeholder:"","aria-label":t||e,"aria-describedby":n?`${e}-description`:void 0},re=()=>{F(!1),requestAnimationFrame(()=>{var _,W;(W=(_=p.current)==null?void 0:_.blur)==null||W.call(_)})},ce=(()=>{const _=String(e||"").toLowerCase(),W=String(t||"").toLowerCase();return!!`${_} ${W}`.trim().includes("prompt")})(),pe=()=>o.jsx(yn,{open:j,onClose:re,title:ce?"Insert alias":"Aliases",footer:o.jsx("button",{type:"button",className:"ui-button is-primary w-full",onClick:re,children:"Done"}),children:o.jsxs("div",{className:"sheet-stack",children:[o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Search"}),o.jsxs("div",{className:"composer-filters",children:[o.jsx("input",{ref:A,type:"text",value:L,onChange:_=>z(_.target.value),placeholder:"Search aliases",className:"composer-search"}),o.jsx("select",{value:k,onChange:_=>D(_.target.value),className:"composer-subcategory-select","aria-label":"Filter by category",children:["All",...$.filter(_=>_!=="All")].map(_=>o.jsx("option",{value:_,children:_==="All"?"Category: All":Tn(_)},`cat-${_}`))}),G.length>2?o.jsx("select",{value:T,onChange:_=>Z(_.target.value),className:"composer-subcategory-select",children:G.map(_=>o.jsx("option",{value:_,children:_==="All"?"All subcategories":Qs(_)},_))}):null]})]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Results"}),o.jsx("div",{className:"composer-alias-list",children:K.length===0?o.jsx("div",{className:"composer-alias-empty",children:"No aliases found."}):o.jsxs(o.Fragment,{children:[M.map(_=>o.jsxs("button",{type:"button",onClick:()=>Y(_.token,{closeAfter:!ce}),className:"composer-alias-item",children:[o.jsxs("div",{className:"composer-alias-header",children:[o.jsx("div",{className:"composer-alias-name",children:_.displayName||_.token}),_.category?o.jsx("span",{className:"composer-alias-category",children:Tn(_.category)}):null]}),o.jsxs("div",{className:"composer-alias-token",children:["$",_.token,"$"]}),o.jsx("div",{className:"composer-alias-text",children:_.text})]},_.key)),b<K.length?o.jsxs("button",{type:"button",onClick:()=>N(_=>Math.min(_+30,K.length)),className:"ui-button is-muted w-full",children:["Show more (",K.length-b," left)"]}):null]})})]})]})});return d.useEffect(()=>{if(!j)return;const _=setTimeout(()=>{var W,le,J,fe;(le=(W=A.current)==null?void 0:W.focus)==null||le.call(W),(fe=(J=A.current)==null?void 0:J.select)==null||fe.call(J)},50);return()=>clearTimeout(_)},[j]),a?o.jsxs("div",{className:"relative space-y-2",ref:g,children:[m&&!ce?o.jsxs("div",{className:"stringinput-toolbar",children:[o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:()=>m(e),children:"Prompt Studio"}),E.length?o.jsx("button",{type:"button",className:"ui-button is-ghost is-compact",onClick:ne,children:"Aliases"}):null,o.jsx("button",{type:"button",className:"ui-button is-ghost is-compact",onClick:()=>x(!0),children:"Expand"})]}):null,o.jsx("textarea",{ref:p,...ze,rows:3,wrap:"soft",onKeyDown:P,className:ze.className+" resize-none min-h-[88px] max-h-[160px] leading-relaxed overflow-y-auto overflow-x-hidden break-words whitespace-pre-wrap",style:{whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"}}),m&&ce?o.jsx("div",{className:"stringinput-underbar",children:o.jsxs("div",{className:"stringinput-underbar-actions",children:[o.jsx("button",{type:"button",className:"stringinput-action-link",onClick:()=>m(e),children:"Prompt Studio"}),E.length?o.jsx("button",{type:"button",className:"stringinput-action-link",onClick:ne,children:"Insert alias"}):null]})}):null,o.jsx(f0,{open:O,onClose:()=>x(!1),title:t||e,value:r??"",onChange:l,description:n}),q.length?o.jsxs("div",{className:"stringinput-tokens",children:[o.jsxs("div",{className:"stringinput-tokens-label",children:["Active aliases ",o.jsx("span",{className:"stringinput-tokens-hint",children:"(drag to reorder)"})]}),o.jsx("div",{className:"stringinput-tokens-list",children:q.map((_,W)=>{const le=I.find(oe=>{var je;return((je=oe.token)==null?void 0:je.toLowerCase())===_.token.toLowerCase()}),J=(le==null?void 0:le.displayName)||_.token,fe=S===W,ve=f===W&&S!==null&&S!==W;return o.jsxs("div",{className:`token-chip token-chip-draggable ${fe?"is-dragging":""} ${ve?"is-drop-target":""}`,title:`$${_.token}$`,role:"button",tabIndex:0,draggable:!0,onDragStart:oe=>Ce(oe,W),onDragEnd:ue,onDragEnter:()=>H(W),onDragOver:oe=>R(oe,W),onDrop:oe=>ae(oe,W),onTouchStart:oe=>he(oe,W),onTouchMove:ye,onTouchEnd:we,onClick:()=>{if(S!==null)return;const oe=_.index,je=_.index+_.length,_e=p.current;_e&&(_e.focus(),_e.setSelectionRange(oe,je))},onKeyDown:oe=>{if(oe.key==="Enter"||oe.key===" "){oe.preventDefault();const je=_.index,_e=_.index+_.length,Ne=p.current;Ne&&(Ne.focus(),Ne.setSelectionRange(je,_e))}},children:[o.jsx("span",{className:"token-chip-drag-handle","aria-hidden":"true",children:o.jsx(la,{size:14})}),o.jsx("span",{className:"token-chip-label",children:J}),o.jsx("button",{type:"button",className:"token-chip-remove",onClick:oe=>{oe.stopPropagation(),se(_)},"aria-label":`Remove ${_.token}`,children:o.jsx(sa,{size:12})})]},`${_.token}-${_.index}`)})})]}):null,j?o.jsx(pe,{}):null]}):o.jsxs("div",{className:"relative space-y-2",ref:g,children:[o.jsx("input",{...ze,type:"text",inputMode:"text",autoComplete:"off",onKeyDown:P,className:ze.className+" min-h-[44px]",ref:p}),q.length?o.jsxs("div",{className:"stringinput-tokens",children:[o.jsxs("div",{className:"stringinput-tokens-label",children:["Active aliases ",o.jsx("span",{className:"stringinput-tokens-hint",children:"(drag to reorder)"})]}),o.jsx("div",{className:"stringinput-tokens-list",children:q.map((_,W)=>{const le=I.find(oe=>{var je;return((je=oe.token)==null?void 0:je.toLowerCase())===_.token.toLowerCase()}),J=(le==null?void 0:le.displayName)||_.token,fe=S===W,ve=f===W&&S!==null&&S!==W;return o.jsxs("div",{className:`token-chip token-chip-draggable ${fe?"is-dragging":""} ${ve?"is-drop-target":""}`,title:`$${_.token}$`,onClick:()=>{if(S!==null)return;const oe=_.index,je=_.index+_.length,_e=p.current;_e&&(_e.focus(),_e.setSelectionRange(oe,je)),ne()},role:"button",tabIndex:0,draggable:!0,onDragStart:oe=>Ce(oe,W),onDragEnd:ue,onDragEnter:()=>H(W),onDragOver:oe=>R(oe,W),onDrop:oe=>ae(oe,W),onTouchStart:oe=>he(oe,W),onTouchMove:ye,onTouchEnd:we,onKeyDown:oe=>{if(oe.key==="Enter"||oe.key===" "){oe.preventDefault();const je=_.index,_e=_.index+_.length,Ne=p.current;Ne&&(Ne.focus(),Ne.setSelectionRange(je,_e)),ne()}},children:[o.jsx("span",{className:"token-chip-drag-handle","aria-hidden":"true",children:o.jsx(la,{size:14})}),o.jsx("span",{className:"token-chip-label",children:J}),o.jsx("button",{type:"button",className:"token-chip-remove",onClick:oe=>{oe.stopPropagation(),se(_)},"aria-label":`Remove ${_.token}`,children:o.jsx(sa,{size:12})})]},`${_.token}-${_.index}`)})})]}):null,E.length?o.jsx("button",{type:"button",className:"stringinput-trailing ui-button is-ghost is-compact",onClick:()=>m?m(e):ne(),title:m?"Open prompt composer":"Insert alias",children:m?o.jsx(yu,{size:16}):o.jsx(Tl,{size:16})}):null,o.jsx(pe,{})]})}const dd=e=>e==null?void 0:String(e).trim().replace(/[^A-Za-z0-9_-]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||void 0;function nl({name:e,label:t,description:n,value:r,onChange:l,disabled:s=!1,min:i,max:a,step:u,isFloat:c=!1,inputId:m}){const p=u??(c?.01:1),g=m??dd(e),v=S=>{if(S===""||S===null||S===void 0)return"";const h=c?parseFloat(S):parseInt(S,10);return Number.isNaN(h)?"":h},w=S=>{const h=S.target.value,f=v(h);l==null||l(f)},C=S=>{if(S.key!=="ArrowUp"&&S.key!=="ArrowDown")return;S.preventDefault();const h=typeof r=="number"?r:v(String(r??""))||0,f=S.key==="ArrowUp"?p:-p;let y=h+f;if(typeof i=="number"&&(y=Math.max(i,y)),typeof a=="number"&&(y=Math.min(a,y)),c){const j=typeof p=="number"?(String(p).split(".")[1]||"").length:2;y=parseFloat(y.toFixed(Math.max(j,2)))}l==null||l(y)};return o.jsxs("div",{className:"w-full flex items-center gap-2",children:[o.jsx("input",{id:g,name:e,type:"number",inputMode:c?"decimal":"numeric",value:r??"",onChange:w,onKeyDown:C,disabled:s,min:i,max:a,step:p,"aria-label":t||e,"aria-describedby":n?`${g||dd(e)||e}-description`:void 0,className:"w-full rounded-xl border border-[#2A2E4A] bg-[#050716] px-3 py-2.5 text-[13px] sm:text-sm text-[#E5E7FF] placeholder-[#6A6FA8] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] transition-shadow shadow-[0_0_18px_rgba(5,7,22,0.7)]"}),typeof i=="number"||typeof a=="number"?o.jsxs("div",{className:"hidden sm:flex flex-col text-[10px] text-[#6A6FA8] text-right leading-tight",children:[typeof i=="number"&&o.jsxs("span",{children:["min ",i]}),typeof a=="number"&&o.jsxs("span",{children:["max ",a]})]}):null]})}function fd({name:e,label:t,description:n,value:r,onChange:l,disabled:s=!1}){const i=!!r,a=()=>{s||l==null||l(!i)},u=c=>{(c.key===" "||c.key==="Enter")&&(c.preventDefault(),a())};return o.jsxs("button",{id:e,type:"button",role:"switch","aria-checked":i,"aria-label":t||e,"aria-describedby":n?`${e}-description`:void 0,onClick:a,onKeyDown:u,disabled:s,className:"inline-flex items-center justify-between gap-2 rounded-full border border-[#3D4270] bg-[#050716] px-2.5 py-1.5 text-[10px] sm:text-[11px] text-[#C3C7FF] transition-colors shadow-[0_0_16px_rgba(5,7,22,0.9)] "+(i?"bg-[radial-gradient(circle_at_0%_0%,#3EF0FF,transparent_60%),radial-gradient(circle_at_100%_100%,#FF60D0,transparent_60%)] text-[#050716]":"hover:border-[#3EF0FF80]"),children:[o.jsx("span",{className:"relative inline-flex h-4 w-8 items-center rounded-full "+(i?"bg-[#3EF0FF]":"bg-[#2A2E4A]"),children:o.jsx("span",{className:"h-3 w-3 rounded-full bg-[#050716] shadow-[0_0_6px_rgba(0,0,0,0.6)] transform transition-transform "+(i?"translate-x-[14px]":"translate-x-[2px]")})}),o.jsx("span",{className:"uppercase tracking-[0.16em]",children:i?"TRUE":"FALSE"})]})}const p0=/\.(safetensors|ckpt|pt|pth)$/i;function rl(e){if(typeof e!="string")return!1;const t=e.trim();if(!t)return!1;const r=t.replace(/\\/g,"/").split("/").filter(Boolean).pop()||"";return p0.test(r)}function Lm(e){if(typeof e!="string")return{folder:"",base:""};const n=e.trim().replace(/\\/g,"/").split("/").filter(Boolean),l=(n.pop()||"").replace(/\.[^.]+$/,"");return{folder:n.join(" ").trim(),base:l}}function ha(e){if(!rl(e))return e;const{folder:t,base:n}=Lm(e);if(!n)return e;if(!t)return n;const r=t.split(/\s+/).filter(Boolean),l=r[r.length-1]||"";if(l&&n.toLowerCase().startsWith(l.toLowerCase())){const s=n.slice(l.length);return s?`${t}${s}`:t}return`${t} ${n}`.trim()}function m0(e,t){try{if(typeof window>"u"||!e)return null;const n=e.getItem(t);return n?JSON.parse(n):null}catch{return null}}function jo(e,t,n){try{if(typeof window>"u"||!e)return;e.setItem(t,JSON.stringify(n))}catch{}}function _t(){try{return typeof window>"u"?null:window.sessionStorage||null}catch{return null}}function br(){try{return typeof window>"u"?null:window.localStorage||null}catch{return null}}const Om=260,Ut=new Map,pn=new Map,dr=new Map,mn=new Map;function Rm(e){pn.has(e)&&(clearTimeout(pn.get(e)),pn.delete(e)),Ut.has(e)&&(jo(_t(),e,Ut.get(e)),Ut.delete(e))}function h0(e){if(pn.has(e))return;const t=setTimeout(()=>{pn.delete(e),Ut.has(e)&&(jo(_t(),e,Ut.get(e)),Ut.delete(e))},Om);pn.set(e,t)}function g0(){Array.from(pn.values()).forEach(e=>clearTimeout(e)),pn.clear(),Array.from(Ut.entries()).forEach(([e,t])=>{jo(_t(),e,t)}),Ut.clear(),Array.from(mn.values()).forEach(e=>clearTimeout(e)),mn.clear(),Array.from(dr.entries()).forEach(([e,t])=>{try{const n=_t();n&&n.setItem(e,t)}catch{}}),dr.clear()}if(typeof window<"u"&&!window.__cozygenFormStateFlush){const e=()=>g0();window.addEventListener("beforeunload",e),window.addEventListener("pagehide",e),window.__cozygenFormStateFlush=!0}function y0(e){var r;if(!e)return{};const t=`${e}_formData`,n=m0(_t(),t);if(n&&typeof n=="object")return n;try{const l=br();(r=l==null?void 0:l.removeItem)==null||r.call(l,t)}catch{}return{}}function Ys(e,t,n={}){var s;if(!e)return;const{immediate:r=!1}=n||{},l=`${e}_formData`;if(r){Rm(l),jo(_t(),l,t||{});try{const i=br();(s=i==null?void 0:i.removeItem)==null||s.call(i,l)}catch{}return}Ut.set(l,t||{}),h0(l)}function v0(e){e&&Rm(`${e}_formData`)}function x0(e,t,n=Om){if(dr.set(e,t),mn.has(e))return;const r=setTimeout(()=>{mn.delete(e);const l=dr.get(e);dr.delete(e);try{const s=_t();s&&s.setItem(e,l)}catch{}},n);mn.set(e,r)}function w0(e,t={}){var l;const{immediate:n=!1}=t||{},r="cozygen_last_param";if(n){mn.has(r)&&(clearTimeout(mn.get(r)),mn.delete(r)),dr.delete(r);try{const s=_t();s&&s.setItem(r,e||"");const i=br();(l=i==null?void 0:i.removeItem)==null||l.call(i,r)}catch{}return}x0(r,e||"")}function S0(){var t,n;const e="cozygen_last_param";try{const r=_t(),l=((t=r==null?void 0:r.getItem)==null?void 0:t.call(r,e))||"";if(l)return l;const s=br();(n=s==null?void 0:s.removeItem)==null||n.call(s,e)}catch{}return""}function Tm(e,t){const n=e?String(e):"global",r=t?String(t):"";return`cozygen_dropdown_folder:${n}:${r}`}function pd(e,t){var r,l;const n=Tm(e,t);try{const s=_t(),i=((r=s==null?void 0:s.getItem)==null?void 0:r.call(s,n))||"";if(i)return i;const a=br();(l=a==null?void 0:a.removeItem)==null||l.call(a,n)}catch{}return""}function C0(e,t,n){var l;const r=Tm(e,t);try{const s=_t();s&&s.setItem(r,String(n||""));const i=br();(l=i==null?void 0:i.removeItem)==null||l.call(i,r)}catch{}}function ga({workflowName:e,name:t,label:n,description:r,value:l,onChange:s,disabled:i=!1,options:a=[]}){const u=l??"",[c,m]=d.useState(()=>pd(e,t)||"All");d.useEffect(()=>{const h=pd(e,t);m(h||"All")},[e,t]);const p=d.useMemo(()=>(a||[]).map(h=>typeof h=="string"?{value:h,label:h}:{value:h.value??h.name??"",label:h.label??h.name??String(h.value??"")}),[a]),g=(h="")=>{if(typeof h!="string")return"Other";if(!h.includes("/"))return"root";const f=h.split("/");return f.slice(0,f.length-1).join("/")||"root"},v=d.useMemo(()=>{const h=new Set(["All"]);return p.forEach(f=>h.add(g(f.label))),Array.from(h).sort((f,y)=>f.localeCompare(y))},[p]);d.useEffect(()=>{v.includes(c)||m("All")},[v,c]),d.useEffect(()=>{C0(e,t,c)},[e,t,c]);const w=d.useMemo(()=>{const h=f=>f.replace(/\.[^.]+$/,"");return p.filter(f=>{const y=g(f.label);return c==="All"||y===c}).map(f=>{const y=f.label||"";if(rl(y)){const{base:L}=Lm(y),z=ha(y);return{...f,label:c==="All"?z:L||z}}if(c==="All")return f;const j=y.split("/"),F=h(j[j.length-1]||y);return{...f,label:F}}).sort((f,y)=>f.label.localeCompare(y.label))},[p,c]),C=d.useMemo(()=>u===""||u===null||u===void 0?!0:w.some(h=>String(h.value)===String(u)),[w,u]),S=h=>{s==null||s(h.target.value)};return o.jsxs("div",{className:"w-full space-y-2",children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx("select",{value:c,onChange:h=>m(h.target.value),disabled:i,className:"w-full rounded-lg border border-[#2A2E4A] bg-[#050716] px-3 py-2 pr-8 text-[13px] sm:text-sm text-[#E5E7FF] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] appearance-none transition-shadow shadow-[0_0_12px_rgba(5,7,22,0.6)]","aria-label":`Choose folder for ${n||t}`,children:v.map(h=>o.jsx("option",{value:h,children:h},h))}),o.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center",children:o.jsx("span",{className:"inline-block h-[6px] w-[10px] border-x-[5px] border-t-[6px] border-x-transparent border-t-[#9CF7FF]"})})]}),o.jsxs("div",{className:"relative w-full",children:[o.jsxs("select",{id:t,name:t,value:u,onChange:S,disabled:i,"aria-label":n||t,"aria-describedby":r?`${t}-description`:void 0,className:"w-full rounded-xl border border-[#2A2E4A] bg-[#050716] px-3 py-2.5 pr-8 text-[13px] sm:text-sm text-[#E5E7FF] focus:outline-none focus:ring-1 focus:ring-[#3EF0FF80] appearance-none transition-shadow shadow-[0_0_18px_rgba(5,7,22,0.7)]",children:[!C&&u!==""&&o.jsx("option",{value:u,children:ha(String(u))}),w.length>0&&(u===void 0||u==="")&&o.jsx("option",{value:"",children:"Select"}),w.map(h=>o.jsx("option",{value:h.value,children:h.label},h.value)),w.length===0&&o.jsx("option",{value:"",children:"No matches"})]},`${t||"field"}:${c}`),o.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center",children:o.jsx("span",{className:"inline-block h-[6px] w-[10px] border-x-[5px] border-t-[6px] border-x-transparent border-t-[#9CF7FF]"})})]})]})}function md(e=[]){return e.map(t=>typeof t=="string"?{value:t,label:t}:{value:t.value??t.name??"",label:t.label??t.name??String(t.value??"")})}function hd(e,t){if(!e)return null;const n=String(e);if(t==="high"){const r=n.match(/(.+)-high(\.[^.]*)?$/i);return r?r[1]:null}if(t==="low"){const r=n.match(/(.+)-low(\.[^.]*)?$/i);return r?r[1]:null}return null}function j0(e){return e?e.replace(/[_-]+/g," ").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase()):""}const N0=(...e)=>e.flat().map(n=>String(n??"").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")).filter(Boolean).join("-")||"field";function gd({name:e,label:t,description:n,highParam:r,lowParam:l,highChoices:s=[],lowChoices:i=[],formData:a={},onChangeParam:u,highStrengthParam:c,lowStrengthParam:m,strengthValue:p,onChangeStrength:g,highStrengthValue:v,lowStrengthValue:w,onChangeHighStrength:C,onChangeLowStrength:S,disabled:h=!1}){const f=d.useMemo(()=>md(s),[s]),y=d.useMemo(()=>md(i),[i]),j=d.useMemo(()=>{const K=new Map;y.forEach(N=>{const M=hd(N.value,"low");M&&(K.has(M)||K.set(M,N))});const b=[];return f.forEach(N=>{const M=hd(N.value,"high");if(!M)return;const Y=K.get(M);Y&&b.push({base:M,label:j0(M),highValue:N.value,lowValue:Y.value})}),b.sort((N,M)=>N.label.localeCompare(M.label)),b},[f,y]),F=d.useMemo(()=>{const K=a[r],b=a[l];if(!K||!b)return"";const N=j.find(M=>M.highValue===K&&M.lowValue===b);return N?N.base:""},[a,r,l,j]),L=c||m||`${e}_strength`,z=d.useMemo(()=>N0(e||"lora",L||"strength"),[e,L]),k=!!(c||m),D=!!(c&&m),T=(K,b=1)=>typeof K=="number"?K:b,Z=T(typeof p=="number"?p:typeof v=="number"?v:typeof w=="number"?w:void 0,1),te=T(typeof v=="number"?v:void 0,Z),q=T(typeof w=="number"?w:void 0,D?Z:te),V=D&&Math.abs(te-q)>1e-4,[A,O]=d.useState(V);d.useEffect(()=>{O(V)},[V,r,l]);const x=K=>{if(!u)return;const b=j.find(N=>N.base===K);b&&(u(r,b.highValue),u(l,b.lowValue))};if(j.length===0)return o.jsxs("div",{className:"text-[11px] text-[#9DA3FFCC]",children:["No matching ",o.jsx("span",{className:"font-semibold",children:"-high"})," /"," ",o.jsx("span",{className:"font-semibold",children:"-low"})," LoRA pairs found."]});const E=`${z}-linked`,I=`${z}-high`,U=`${z}-low`,P=D?"Linked":"Strength",$=D?"Applies to high + low":c||m||"",G=(K,b)=>{const N=Array.isArray(K)?K:[K];let M=!1;N.forEach(Y=>{if(Y==="high"&&typeof C=="function"){C(b);return}if(Y==="low"&&typeof S=="function"){S(b);return}typeof g=="function"&&!M&&(g(b),M=!0)})},Q=K=>{(c||!c&&!m)&&G("high",K),m&&G("low",K)},ne=()=>{D&&O(K=>{const b=!K;return b||Q(typeof te=="number"?te:typeof q=="number"?q:Z),b})};return o.jsxs("div",{className:"space-y-2",children:[o.jsx(ga,{name:`${e}_pair`,label:t,description:n,value:F||"",onChange:x,disabled:h,options:j.map(K=>({value:K.base,label:K.label}))}),k&&o.jsxs("div",{className:"space-y-1.5",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] uppercase tracking-[0.16em] text-[#9DA3FFCC]",children:"Strength"}),D&&o.jsx("button",{type:"button",className:"text-[10px] font-semibold tracking-[0.12em] uppercase text-[#E5E7FF]",onClick:ne,disabled:h,children:A?"Link values":"Split values"})]}),A&&D?o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-3",children:[o.jsxs("div",{className:"flex-1 max-w-[220px]",children:[o.jsxs("label",{htmlFor:I,className:"lora-strength-label is-high",children:[o.jsx("span",{className:"lora-strength-label-pill",children:"High"}),o.jsxs("span",{className:"lora-strength-label-text",children:["High strength",c&&o.jsx("span",{className:"lora-strength-label-hint",children:c})]})]}),o.jsx(nl,{name:`${L}_high`,label:"High strength",description:"",value:te,onChange:K=>G("high",K),disabled:h,isFloat:!0,min:0,max:2,step:.05,inputId:I})]}),o.jsxs("div",{className:"flex-1 max-w-[220px]",children:[o.jsxs("label",{htmlFor:U,className:"lora-strength-label is-low",children:[o.jsx("span",{className:"lora-strength-label-pill",children:"Low"}),o.jsxs("span",{className:"lora-strength-label-text",children:["Low strength",m&&o.jsx("span",{className:"lora-strength-label-hint",children:m})]})]}),o.jsx(nl,{name:`${L}_low`,label:"Low strength",description:"",value:q,onChange:K=>G("low",K),disabled:h,isFloat:!0,min:0,max:2,step:.05,inputId:U})]})]}):o.jsxs("div",{className:"flex-1 max-w-[220px]",children:[o.jsxs("label",{htmlFor:E,className:"lora-strength-label is-linked",children:[o.jsx("span",{className:"lora-strength-label-pill",children:P}),o.jsxs("span",{className:"lora-strength-label-text",children:["LoRA strength",$&&o.jsx("span",{className:"lora-strength-label-hint",children:$})]})]}),o.jsx(nl,{name:L,label:"LoRA strength",description:"",value:Z,onChange:Q,disabled:h,isFloat:!0,min:0,max:2,step:.05,inputId:E})]})]})]})}function Zo({id:e,label:t,description:n,preview:r,expanded:l=!1,onToggle:s,children:i,trailing:a,className:u=""}){const c=typeof s=="function",m=e?`${e}-description`:void 0,p=e?`${e}-panel`:void 0,g=typeof r=="string"||typeof r=="number"?String(r):void 0,v=c?"button":"div",w=c?{type:"button",onClick:s,"aria-expanded":l,"aria-controls":p}:{};return o.jsxs("div",{className:["field-row",u].filter(Boolean).join(" "),children:[o.jsxs(v,{...w,className:["field-row-head",c?"is-collapsible":"is-static",l?"is-expanded":""].filter(Boolean).join(" "),children:[o.jsxs("div",{className:"field-row-main",children:[o.jsx("div",{className:"field-row-label",children:t}),n?o.jsx("div",{id:m,className:"field-row-description",children:n}):null]}),o.jsxs("div",{className:"field-row-trailing",children:[a?o.jsx("div",{className:"field-row-trailing-control",children:a}):null,r?o.jsx("div",{className:"field-row-preview",title:g,children:r}):null,c?o.jsx("div",{className:"field-row-chevron","aria-hidden":"true",children:""}):null]})]}),c&&l?o.jsx("div",{id:p,className:"field-row-body",children:i}):null]})}const k0=16,E0=[" - "," ","-","_"],Im=e=>[...new Set(e.filter(Boolean))],qs=(e,t)=>{const n=String(e||"").trim(),r=E0.map(l=>`${n}${l}${t}`);return r.push(`${n}${t}`),Im(r)},yd=(e,t)=>{const n=qs(`${e} Strength`,t),r=qs(e,t).map(l=>`${l} Strength`);return Im([...n,...r])},vd=e=>String(e||"").toLowerCase().replace(/[\s_-]+/g,""),rs=(e,t=[])=>{if(!e)return null;const n=Array.isArray(t)?t:[t];for(const l of n){if(!l)continue;const s=e.get(l);if(s)return{name:l,input:s}}const r=new Map;n.forEach(l=>{l&&r.set(vd(l),l)});for(const[l,s]of e.entries()){const i=vd(l);if(r.has(i))return{name:l,input:s}}return null},b0=Array.from({length:k0},(e,t)=>{const n=t+1,r=qs("Lora High",n),l=qs("Lora Low",n),s=yd("Lora High",n),i=yd("Lora Low",n);return{id:`video_lora_${n}`,label:`Video LoRA ${n}`,highParam:r[0],lowParam:l[0],highParamAliases:r,lowParamAliases:l,highStrengthParam:s[0],lowStrengthParam:i[0],highStrengthParamAliases:s,lowStrengthParamAliases:i}});function _0(e){var r,l;const t=((r=e==null?void 0:e.inputs)==null?void 0:r.param_type)||((l=e==null?void 0:e.inputs)==null?void 0:l.Param_type),n=String(t||"STRING").toUpperCase();return["NUMBER","FLOAT","INT"].includes(n)?"NUMBER":["BOOLEAN","BOOL"].includes(n)?"BOOLEAN":["DROPDOWN","CHOICE","SELECT"].includes(n)?"DROPDOWN":"STRING"}function P0(e){const t=(e==null?void 0:e.inputs)||{};return t.label||t.display_name||t.title||t.param_name||(e==null?void 0:e.title)||(e==null?void 0:e.class_type)||"Parameter"}function F0(e){const t=(e==null?void 0:e.inputs)||{};return t.description||t.help||t.tooltip||t.doc||""}function ya(e){const t=(e==null?void 0:e.inputs)||{};return t.param_name||t.name||t.key||t.id||`param_${(e==null?void 0:e.id)||"unknown"}`}function Br(e){const t=(e==null?void 0:e.inputs)||{},n=t.choices||t.options||[],r=t.default_value??t.value??t.default_choice??(n&&n.length?n[0]:"")??"";return{paramName:ya(e),label:P0(e),description:F0(e),paramType:_0(e),multiline:!!t.multiline,min:typeof t.min=="number"?t.min:void 0,max:typeof t.max=="number"?t.max:void 0,step:typeof t.step=="number"?t.step:void 0,choices:n,defaultValue:r}}function L0({inputs:e=[],formData:t={},onFormChange:n,workflowName:r,onParamEdited:l,onSpotlight:s,compactControls:i=!0,collapseAllKey:a=0,collapseAllCollapsed:u=!0,lastEditedParam:c="",spotlightName:m="",onCloseSpotlight:p=()=>{},onVisibleParamsChange:g=()=>{},aliasOptions:v=[],aliasCatalog:w=[],onOpenComposer:C}){const[S,h]=d.useState({}),[f,y]=d.useState(0),j=d.useCallback((A,O)=>{if((A==null?void 0:A.paramType)==="BOOLEAN")return O?"On":"Off";if(O==null||O==="")return"Empty";if(typeof O=="string"){const x=O.trim();return x?ha(x):"Empty"}return String(O)},[]),F=(A,O)=>{n&&(n(A,O),l==null||l(A),h(x=>({...x,[A]:!1})))},L=d.useCallback(A=>{A&&h(O=>({...O,[A]:!(O!=null&&O[A])}))},[]),z=d.useMemo(()=>e||[],[e]);d.useEffect(()=>{const A={};(e||[]).forEach(O=>{const x=ya(O);x&&(A[x]=u)}),c&&(A[c]=!1),h(A)},[a,u,e,c]);const k=d.useMemo(()=>{const A=new Map;return(e||[]).forEach(O=>{const x=ya(O);x&&A.set(x,O)}),A},[e]),D=d.useMemo(()=>{const A=[];return b0.forEach(O=>{const x=rs(k,O.highParamAliases||O.highParam),E=rs(k,O.lowParamAliases||O.lowParam);if(!x||!E)return;const I=x.input,U=E.input,P=Br(I),$=Br(U);if(P.paramType!=="DROPDOWN"||$.paramType!=="DROPDOWN")return;const G=P.choices||[],Q=$.choices||[];if(!G.length||!Q.length)return;const ne=rs(k,O.highStrengthParamAliases||O.highStrengthParam),K=rs(k,O.lowStrengthParamAliases||O.lowStrengthParam);A.push({...O,highParam:x.name,lowParam:E.name,highStrengthParam:ne==null?void 0:ne.name,lowStrengthParam:K==null?void 0:K.name,highInput:I,lowInput:U,highCfg:P,lowCfg:$})}),A},[k]),T=d.useMemo(()=>{const A=new Map;return D.forEach(O=>{A.set(O.highParam,O)}),A},[D]),Z=d.useMemo(()=>{const A=new Set;return D.forEach(O=>{A.add(O.highParam),A.add(O.lowParam),O.highStrengthParam&&A.add(O.highStrengthParam),O.lowStrengthParam&&A.add(O.lowStrengthParam)}),A},[D]),te=d.useMemo(()=>{const A=[];return(z||[]).forEach(O=>{const x=Br(O),E=x.paramName,I=T.get(E);if(I){A.push({name:E,label:I.label||x.label,description:x.description,render:U=>{const P=U||t||{},$=I.highStrengthParam?P[I.highStrengthParam]:void 0,G=I.lowStrengthParam?P[I.lowStrengthParam]:void 0,Q=$??G??1;return o.jsx(gd,{name:I.id||I.highParam,label:I.label||x.label,highParam:I.highParam,lowParam:I.lowParam,highChoices:I.highCfg.choices,lowChoices:I.lowCfg.choices,formData:P,onChangeParam:F,highStrengthParam:I.highStrengthParam,lowStrengthParam:I.lowStrengthParam,strengthValue:Q,highStrengthValue:$,lowStrengthValue:G,onChangeHighStrength:I.highStrengthParam?ne=>F(I.highStrengthParam,ne):void 0,onChangeLowStrength:I.lowStrengthParam?ne=>F(I.lowStrengthParam,ne):void 0,disabled:!1},`lora-${E}-${f}`)}});return}Z.has(E)||A.push({name:E,label:x.label,description:x.description,render:U=>{const P=U||t||{},$={name:E,label:x.label,description:x.description,value:P[E],defaultValue:x.defaultValue,disabled:!1};return x.paramType==="NUMBER"?o.jsx(nl,{...$,onChange:G=>F(E,G),min:x.min,max:x.max,step:x.step,isFloat:!0},`field-${E}-number-${f}`):x.paramType==="BOOLEAN"?o.jsx(fd,{...$,onChange:G=>F(E,G)},`field-${E}-bool-${f}`):x.paramType==="DROPDOWN"?o.jsx(ga,{...$,workflowName:r,onChange:G=>F(E,G),options:x.choices||[]},`field-${E}-dropdown-${f}`):o.jsx(cd,{...$,aliasOptions:v,aliasCatalog:w,onOpenComposer:C,onChange:G=>F(E,G),onEnter:(G,Q)=>{var ne,K;F(E,G),(K=(ne=Q==null?void 0:Q.target)==null?void 0:ne.blur)==null||K.call(ne),m===E&&(p==null||p())},multiline:x.multiline},`field-${E}-string-${f}`)}})}),A},[z,T,Z,t,f,m,p]),q=d.useMemo(()=>{const A=new Map;return te.forEach(O=>A.set(O.name,O)),A},[te]);d.useEffect(()=>{g==null||g(te.map(A=>A.name))},[te,g]);const V=d.useCallback(A=>{const O=te.map(P=>P.name),x=q.get(A);if(!x)return;const E=O.indexOf(A),I=E>0?O[E-1]:null,U=E>=0&&E<O.length-1?O[E+1]:null;y(P=>P+1),s==null||s({name:A,label:x.label,description:x.description,render:P=>x.render(P||t),order:O,index:E>=0?E:0,total:O.length,onPrev:I?()=>V(I):null,onNext:U?()=>V(U):null})},[q,t,s,te]);return o.jsx("div",{className:"settings-list",children:z.map(A=>{const O=Br(A),x=O.paramName,E=T.get(x);if(E){const{id:K,label:b,highParam:N,lowParam:M,highStrengthParam:Y,lowStrengthParam:se,highCfg:ie,lowCfg:Ce}=E,R=Y?t[Y]:void 0,H=se?t[se]:void 0,X=R??H??1,ue=x?`param-${x}`:void 0,ae=i?S[x]??!0:!!S[x],he=j(O,[t[N],t[M]].filter(Boolean).join("  ")),ye=(we=t)=>{const ze=Y?we==null?void 0:we[Y]:void 0,re=se?we==null?void 0:we[se]:void 0,ce=ze??re??X;return o.jsx(gd,{name:K||N,label:b||O.label,highParam:N,lowParam:M,highChoices:ie.choices,lowChoices:Ce.choices,formData:we,onChangeParam:F,highStrengthParam:Y,lowStrengthParam:se,strengthValue:ce,highStrengthValue:ze,lowStrengthValue:re,onChangeHighStrength:Y?pe=>F(Y,pe):void 0,onChangeLowStrength:se?pe=>F(se,pe):void 0,disabled:!1},`lora-${x}`)};return o.jsx("div",{id:ue,"data-param-name":x,"data-param-label":b||O.label,"data-param-type":"lora_pair",className:"settings-row",children:o.jsx(Zo,{id:x,label:b||O.label,description:O.description,preview:he,expanded:!ae,onToggle:()=>L(x),children:ye()})},`lora_pair_${K||N}`)}if(Z.has(x))return null;const I=t[x],U=!1,P=j(O,I),$={name:x,label:O.label,description:O.description,value:I,disabled:U,defaultValue:O.defaultValue},G=(K=t,b=!1)=>{const N={...$,value:K==null?void 0:K[x]};return O.paramType==="NUMBER"?o.jsx(nl,{...N,inputId:x,onChange:M=>F(x,M),min:O.min,max:O.max,step:O.step,isFloat:!0},`field-${x}-number-${f}`):O.paramType==="BOOLEAN"?o.jsx(fd,{...N,onChange:M=>F(x,M)},`field-${x}-bool-${f}`):O.paramType==="DROPDOWN"?o.jsx(ga,{...N,workflowName:r,onChange:M=>F(x,M),options:O.choices||[]},`field-${x}-dropdown-${f}`):o.jsx(cd,{...N,aliasOptions:v,aliasCatalog:w,onOpenComposer:C,onChange:M=>F(x,M),onEnter:(M,Y)=>{var se,ie;F(x,M),(ie=(se=Y==null?void 0:Y.target)==null?void 0:se.blur)==null||ie.call(se),m===x&&(p==null||p())},multiline:O.multiline||m===x||b},`field-${x}-string-${f}`)},Q=x?`param-${x}`:void 0,ne=i?S[x]??!0:!!S[x];return O.paramType==="BOOLEAN"?o.jsx("div",{id:Q,"data-param-name":x,"data-param-label":O.label,"data-param-type":"single",className:"settings-row",children:o.jsx(Zo,{id:x,label:O.label,description:O.description,trailing:G(t,!0)})},x):o.jsx("div",{id:Q,"data-param-name":x,"data-param-label":O.label,"data-param-type":"single",className:"settings-row",children:o.jsx(Zo,{id:x,label:O.label,description:O.description,preview:P,expanded:!ne,onToggle:()=>L(x),children:G(t,!ne)})},x)})})}function O0(e){return(e||[]).map(t=>{var n;if(["CozyGenFloatInput","CozyGenIntInput","CozyGenStringInput","CozyGenChoiceInput"].includes(t.class_type)){let r=t.class_type.replace("CozyGen","").replace("Input","").toUpperCase();return r==="CHOICE"&&(r="DROPDOWN"),{...t,inputs:{...t.inputs,param_type:r,Multiline:((n=t.inputs)==null?void 0:n.display_multiline)||!1}}}return t})}function R0({workflowName:e,dynamicInputs:t,formData:n,onFormChange:r,sectionRef:l,compactControls:s=!1,collapseAllState:i=null,onSpotlight:a,spotlightName:u,onCloseSpotlight:c,onVisibleParamsChange:m,aliasOptions:p=[],aliasCatalog:g=[],onOpenComposer:v}){const w=d.useMemo(()=>O0((t||[]).filter(C=>C.class_type!=="CozyGenImageInput")),[t]);return o.jsx("section",{className:"settings-surface scroll-mt-24",ref:l,children:o.jsx(L0,{workflowName:e,inputs:w,formData:n,onFormChange:r,compactControls:s,collapseAllKey:(i==null?void 0:i.key)??0,collapseAllCollapsed:(i==null?void 0:i.collapsed)??!0,onSpotlight:a,spotlightName:u,onCloseSpotlight:c,onVisibleParamsChange:m,aliasOptions:p,aliasCatalog:g,onOpenComposer:v})})}function T0({workflowName:e,dynamicInputs:t,formData:n,onFormChange:r,parameterSectionRef:l,compactControls:s=!0,collapseAllState:i=null,onSpotlight:a,spotlightName:u,onCloseSpotlight:c,onVisibleParamsChange:m,aliasOptions:p=[],aliasCatalog:g=[],onOpenComposer:v}){return o.jsx(R0,{workflowName:e,dynamicInputs:t,formData:n,onFormChange:r,sectionRef:l,compactControls:s,collapseAllState:i,onSpotlight:a,spotlightName:u,onCloseSpotlight:c,onVisibleParamsChange:m,aliasOptions:p,aliasCatalog:g,onOpenComposer:v})}const ei=d.forwardRef(function({title:t,kicker:n,meta:r,defaultOpen:l=!0,variant:s="card",className:i="",bodyClassName:a,children:u},c){const m=s==="bare",p=(m?["collapsible-section","collapsible-section--bare",i]:["ui-panel","collapsible-card","sectioned-card",i]).filter(Boolean).join(" "),g=(m?["collapsible-section-body",a||"space-y-4"]:["collapsible-card-body",a||"space-y-4"]).filter(Boolean).join(" "),v=r!=null?o.jsx("div",{className:"collapsible-card-summary-meta",children:r}):null;return o.jsxs("details",{ref:c,className:p,open:l,children:[o.jsxs("summary",{className:m?"collapsible-section-summary":"collapsible-card-summary",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[n?o.jsx("span",{className:"ui-kicker",children:n}):null,o.jsx("span",{className:"text-sm font-semibold tracking-wide",children:t})]}),v,m?o.jsx("span",{className:"collapsible-section-chevron","aria-hidden":"true",children:""}):null]}),o.jsx("div",{className:g,children:u})]})});function xd(e){try{return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return""}}function I0({open:e,onClose:t,logs:n=[],onClear:r}){const l=d.useMemo(()=>(n||[]).map(s=>`[${xd(s.ts)}] ${String(s.level||"info").toUpperCase()} ${s.message}`).join(`
`),[n]);return o.jsx(yn,{open:e,onClose:t,title:"Run logs",footer:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"ui-button is-muted w-full",onClick:()=>{var s,i;try{(i=(s=navigator.clipboard)==null?void 0:s.writeText)==null||i.call(s,l||"")}catch{}},children:"Copy"}),o.jsx("button",{type:"button",className:"ui-button is-ghost w-full",onClick:r,children:"Clear"}),o.jsx("button",{type:"button",className:"ui-button is-primary w-full",onClick:t,children:"Close"})]}),children:o.jsx("pre",{className:"runlog-pre",children:n!=null&&n.length?n.map((s,i)=>o.jsxs("div",{className:`runlog-line is-${s.level||"info"}`,children:[o.jsx("span",{className:"runlog-ts",children:xd(s.ts)}),o.jsx("span",{className:"runlog-msg",children:s.message})]},`${s.ts}-${i}`)):"No logs yet."})})}function A0(){const[e,t]=d.useState([]),[n,r]=d.useState(null),[l,s]=d.useState(!0),[i,a]=d.useState(null);d.useEffect(()=>{let c=!1;async function m(){s(!0),a(null);try{const p=await vv();if(c)return;const g=(p==null?void 0:p.workflows)||[];t(g);let v=null;try{if(v=typeof window<"u"?sessionStorage.getItem("selectedWorkflow"):null,typeof window<"u")try{localStorage.removeItem("selectedWorkflow")}catch{}}catch{v=null}if(v&&g.includes(v))r(v);else if(g.length>0){r(g[0]);try{typeof window<"u"&&sessionStorage.setItem("selectedWorkflow",g[0])}catch{}}else r(null)}catch(p){if(c)return;console.error("Failed to load workflows",p),a(p)}finally{c||s(!1)}}return m(),()=>{c=!0}},[]);const u=d.useCallback(c=>{r(c);try{if(typeof window<"u"&&sessionStorage.setItem("selectedWorkflow",c),typeof window<"u")try{localStorage.removeItem("selectedWorkflow")}catch{}}catch{}},[]);return{workflows:e,selectedWorkflow:n,selectWorkflow:u,loading:l,error:i}}const z0={clip_name1:"clip",clip_name2:"clip",unet_name:"unet",vae_name:"vae",sampler_name:"sampler",scheduler:"scheduler"},M0=["CozyGenDynamicInput","CozyGenImageInput","CozyGenFloatInput","CozyGenIntInput","CozyGenStringInput","CozyGenChoiceInput"];function $0(e){const[t,n]=d.useState(null),[r,l]=d.useState([]),[s,i]=d.useState({}),[a,u]=d.useState(!1),[c,m]=d.useState(null);d.useEffect(()=>{if(!e){n(null),l([]),i({});return}let w=!1;const C=new AbortController;async function S(){u(!0),m(null);try{typeof performance<"u"&&performance.mark&&performance.mark("cozygen:workflow:load")}catch{}try{const h=await xv(e,{signal:C.signal});if(w)return;for(const L in h){const z=h[L];z.class_type==="CozyGenImageInput"&&!z.inputs.param_name&&(z.inputs.param_name="Image Input"),h[L].id=L}n(h);const f=Object.values(h).filter(L=>M0.includes(L.class_type)),y=await Promise.all(f.map(async L=>{const z=L.class_type==="CozyGenDynamicInput"&&L.inputs.param_type==="DROPDOWN",k=L.class_type==="CozyGenChoiceInput";if(z||k){const D=L.inputs.param_name;let T=L.inputs.choice_type||L.properties&&L.properties.choice_type;if(!T&&z&&(T=z0[D]),T)try{const Z=await wv(T,{signal:C.signal});L.inputs.choices=Z.choices||[]}catch(Z){(Z==null?void 0:Z.name)!=="AbortError"&&console.error(`Choices for ${D} failed`,Z),L.inputs.choices=[]}}return L}));if(w)return;l(y);const j=y0(e),F={};y.forEach(L=>{const z=L.inputs.param_name;if(!z)return;if(j[z]!==void 0){F[z]=j[z];return}let k;if(["CozyGenDynamicInput","CozyGenFloatInput","CozyGenIntInput","CozyGenStringInput"].includes(L.class_type)){if(k=L.inputs.default_value,L.class_type==="CozyGenIntInput"){const D=parseInt(k,10);k=Number.isNaN(D)?0:D}else if(L.class_type==="CozyGenFloatInput"){const D=parseFloat(k);k=Number.isNaN(D)?0:D}}else if(L.class_type==="CozyGenChoiceInput"){const D=L.inputs.choices||[];k=D.length?D[0]:""}else L.class_type,k="";F[z]=k}),i(F);try{typeof performance<"u"&&performance.measure&&(performance.mark("cozygen:workflow:ready"),performance.measure(`cozygen:workflow:ready:${e||"unknown"}`,"cozygen:workflow:load","cozygen:workflow:ready"))}catch{}}catch(h){if(w)return;console.error("Failed to load workflow",h),m(h),n(null),l([])}finally{w||u(!1)}}return S(),()=>{v0(e),w=!0,C.abort()}},[e]);const p=d.useMemo(()=>r.filter(w=>w.class_type==="CozyGenImageInput"),[r]),g=p[0]||null,v=d.useCallback((w,C)=>{i(S=>{const h={...S,[w]:C};return e&&Ys(e,h),h})},[e]);return{workflowData:t,dynamicInputs:r,imageInputs:p,primaryImageInput:g,formData:s,setFormData:i,handleFormChange:v,loading:a,error:c}}const wd="::";function ll(e){const t={};return Object.entries(e||{}).forEach(([n,r])=>{const l=String(n||"").trim();if(!l||typeof r!="string")return;const s=r.trim();s&&(t[l]=s)}),t}function ju(e){const t=new Map;return Object.entries(ll(e)).forEach(([n,r])=>{const l=n.toLowerCase();t.set(l,r),l.includes(wd)&&t.set(l.replace(wd,":"),r)}),t}function Am(e,t){if(typeof e!="string"||!e.includes("$"))return e;const n=t instanceof Map?t:ju(t);return n.size?e.replace(/\$([a-z0-9_:-]+)\$/gi,(r,l)=>{const s=n.get(l.toLowerCase());return typeof s=="string"?s:r}):e}function D0(e,t){const n=t instanceof Map?t:ju(t);if(!n.size||!e||typeof e!="object")return e;let r=!1;const l={};return Object.entries(e).forEach(([s,i])=>{if(typeof i=="string"){const a=Am(i,n);l[s]=a,a!==i&&(r=!0)}else l[s]=i}),r?l:e}function U0(e){return e?JSON.parse(JSON.stringify(e)):{}}function W0(e,t,n){const r=U0(e),l={...n||{}};if(!t||!Array.isArray(t))return{workflow:r,formData:l};for(const s of t){if(!s||!s.id||!s.inputs||!r[s.id])continue;const i=s.inputs.param_name;if(!i||s.class_type==="CozyGenImageInput")continue;let a=l[i];const u=r[s.id];if(!u||!u.inputs)continue;const c=s.class_type;a===void 0&&(c==="CozyGenChoiceInput"?a=s.inputs.value??s.inputs.default_choice??(s.inputs.choices&&s.inputs.choices[0])??"":a=s.inputs.default_value),a===void 0&&(a=""),l[i]=a,c==="CozyGenFloatInput"||c==="CozyGenIntInput"||c==="CozyGenStringInput"||c==="CozyGenDynamicInput"?u.inputs.default_value=a:c==="CozyGenChoiceInput"&&(u.inputs.value=a)}return{workflow:r,formData:l}}function B0({selectedWorkflow:e,workflowData:t,dynamicInputs:n,imageInputs:r,formData:l,setFormData:s,promptAliases:i=null}){const[a,u]=d.useState(!1),[c,m]=d.useState(!1),[p,g]=d.useState(0),[v,w]=d.useState(0),[C,S]=d.useState("Idle"),[h,f]=d.useState("idle"),[y,j]=d.useState([]),F=d.useRef({ts:0,value:0,max:0}),L=d.useRef(null),z=d.useRef(t),k=d.useRef(l),D=d.useRef(!1),T=d.useRef(0),Z=d.useRef(0),te=d.useRef("idle"),q=d.useRef(null),V=d.useRef(null);d.useEffect(()=>{z.current=t},[t]),d.useEffect(()=>{D.current=c},[c]),d.useEffect(()=>{T.current=p},[p]),d.useEffect(()=>{Z.current=v},[v]),d.useEffect(()=>{te.current=h},[h]),d.useEffect(()=>{k.current=l},[l]);const A=()=>{q.current&&(clearTimeout(q.current),q.current=null)},O=()=>{V.current&&(clearTimeout(V.current),V.current=null)},x=d.useCallback((Q,ne,K=null)=>{const b={ts:Date.now(),level:Q||"info",message:String(ne||""),extra:K||null};j(N=>{const M=[...N||[],b];return M.length>250?M.slice(M.length-250):M})},[]),E=d.useCallback(()=>j([]),[]),I=()=>{if(!(typeof window>"u"||typeof window.dispatchEvent!="function"))try{window.dispatchEvent(new CustomEvent("cozygen:queue-finished"))}catch{}},U=()=>{O(),V.current=setTimeout(()=>{D.current||(f("idle"),S("Idle"),g(0),w(0))},8e3)},P=d.useCallback(()=>{A(),u(!1),m(!1),g(0),w(0),S("Finished"),f("finished"),x("success","Finished"),U(),I()},[x]),$=d.useCallback((Q="Error")=>{A(),u(!1),m(!1),S(Q),f("error"),x("error",Q||"Error"),U()},[x]);d.useEffect(()=>{A(),!(!c||!v||v<=0||p<v)&&(q.current=setTimeout(()=>{const Q=D.current,ne=T.current,K=Z.current,b=te.current;Q&&K>0&&ne>=K&&b!=="finished"&&b!=="error"&&P()},800))},[c,p,v,P]),d.useEffect(()=>{const Q=()=>{const ne=window.location.protocol==="https:"?"wss":"ws",K=window.location.host,b=hu(),N=`${ne}://${K}/ws${b?`?token=${encodeURIComponent(b)}`:""}`,M=new WebSocket(N);L.current=M,M.onmessage=Y=>{var Ce,R,H;if(typeof Y.data!="string")return;let se;try{se=JSON.parse(Y.data)}catch{return}const ie=se.type;if(ie==="cozygen_batch_ready"){P();return}if(ie==="execution_success"||ie==="execution_finished"){D.current&&P();return}if(ie==="execution_error"||ie==="execution_interrupted"){x("error","Execution error"),$("Execution error");return}if(ie==="status"){const X=se.data||{},ue=X.status||X,ae=ue.exec_info||X.exec_info||ue;if(ae&&D.current){const he=ae.queue_remaining??ae.queue_pending??ae.queue_remaining_items??0;(ae.queue_running??ae.running??0)===0&&he===0&&P()}return}if(ie==="executing"){O(),f("running");const X=(Ce=se.data)==null?void 0:Ce.node,ue=z.current;if(X&&ue&&ue[X]){const ae=ue[X],he=ae.title||ae.class_type||"Node";x("info",`Executing: ${he}`,{nodeId:X}),S(`Executing: ${he}`)}else x("info","Executing"),S("Executing");return}if(ie==="progress"){const X=((R=se.data)==null?void 0:R.value)??0,ue=((H=se.data)==null?void 0:H.max)??0;g(X),w(ue);const ae=Date.now(),he=F.current;ae-he.ts>2500&&(X!==he.value||ue!==he.max)&&ue>0&&(F.current={ts:ae,value:X,max:ue},x("info",`Progress: ${X}/${ue}`));return}},M.onclose=()=>{setTimeout(Q,1e3)}};return Q(),()=>{A(),O(),L.current&&(L.current.onclose=null,L.current.close())}},[x,$,P]);const G=d.useCallback(async(Q={})=>{if(!t)return;const{overrides:ne=null,persistFormState:K=!0}=Q||{};A(),O(),u(!0),m(!0),S("Queuing prompt"),f("queued"),g(0),w(0),x("info","Queuing prompt",{workflow:e||""});const b=k.current||{},N=ne?{...b,...ne||{}}:b,M=D0(N,i||{}),{workflow:Y,formData:se}=W0(t,n||[],M||{}),ie={...se,...N};K&&e&&Ys(e,ie),K&&s(ie);const Ce=r||[];for(const R of Ce){if(!R||!R.id||!R.inputs)continue;const H=R.inputs.param_name;if(!H)continue;const X=ie[H];if(!X){alert(`Please upload or select an image for "${H}" before generating.`),$("Missing image input");return}Y[R.id]&&Y[R.id].inputs&&(Y[R.id].inputs.image_filename=X)}try{let R=Y;if(i){const H=X=>{if(typeof X=="string")return Am(X,i);if(Array.isArray(X))return X.map(ue=>H(ue));if(X&&typeof X=="object"){const ue=Array.isArray(X)?[]:{};return Object.entries(X).forEach(([ae,he])=>{ue[ae]=H(he)}),ue}return X};try{R=H(Y)}catch{R=Y}}Pv({workflowName:e,workflow:R,timestamp:Date.now()}),await im({prompt:R}),x("info","Prompt queued")}catch(R){console.error("Failed to queue prompt",R),R!=null&&R.unauthorized?(x("error","Session expired. Please sign in again."),$("Session expired. Please sign in again."),window.location.hash="#/login"):(x("error","Error queuing prompt"),$("Error queuing prompt"))}},[t,n,r,i,e,s,$,x]);return{isLoading:a,progressValue:p,progressMax:v,statusText:C,statusPhase:h,handleGenerate:G,logEntries:y,clearLogs:E}}const V0="cozygen_field_order_v1";function H0(e,t){if(!e)return t;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:t}catch{return t}}function G0(){if(typeof window>"u")return{};try{return H0(window.localStorage.getItem(V0),{})}catch{return{}}}function K0(e){if(Array.isArray(e))return{order:e.filter(Boolean),hidden:{}};if(!e||typeof e!="object")return{order:[],hidden:{}};const t=Array.isArray(e.order)?e.order.filter(Boolean):[],n=e.hidden&&typeof e.hidden=="object"?e.hidden:{};return{order:t,hidden:n}}function Q0(e){if(!e)return{order:[],hidden:{}};const n=G0()[e];return K0(n)}function Y0(e,t){let n=Array.isArray(t)?t:[];if(!e||n.length===0)return n;const{order:r,hidden:l}=Q0(e);if(r&&r.length){const s=new Map;n.forEach(a=>{var c;const u=(c=a==null?void 0:a.inputs)==null?void 0:c.param_name;u&&!s.has(u)&&s.set(u,a)});const i=[];r.forEach(a=>{const u=s.get(a);u&&(i.push(u),s.delete(a))}),n.forEach(a=>{var c;const u=(c=a==null?void 0:a.inputs)==null?void 0:c.param_name;if(!u){i.push(a);return}s.has(u)&&(i.push(a),s.delete(u))}),n=i}return n=n.filter(s=>{var a;const i=(a=s==null?void 0:s.inputs)==null?void 0:a.param_name;return i?!l[i]:!0}),n}const zm="cozygen_prompt_aliases",Mm="cozygen_alias_categories",$m="cozygen_alias_category_list";function Sd(){if(typeof window>"u")return{};try{const e=window.localStorage.getItem(zm);return e?JSON.parse(e)||{}:{}}catch{return{}}}function ti(e){if(!(typeof window>"u"))try{window.localStorage.setItem(zm,JSON.stringify(e||{}))}catch{}}function Cd(){if(typeof window>"u")return{};try{const e=window.localStorage.getItem(Mm);return e?JSON.parse(e)||{}:{}}catch{return{}}}function ni(e){if(!(typeof window>"u"))try{window.localStorage.setItem(Mm,JSON.stringify(e||{}))}catch{}}function jd(){if(typeof window>"u")return[];try{const e=window.localStorage.getItem($m);return Array.isArray(JSON.parse(e))?JSON.parse(e):[]}catch{return[]}}function ri(e){if(!(typeof window>"u"))try{window.localStorage.setItem($m,JSON.stringify(e||[]))}catch{}}function Dm(){const[e,t]=d.useState(()=>Sd()),[n,r]=d.useState(()=>Cd()),[l,s]=d.useState(()=>jd()),[i,a]=d.useState(!1),[u,c]=d.useState(!1),[m,p]=d.useState(null),g=d.useCallback(async()=>{a(!0),p(null);try{const S=await Cv(),h=ll((S==null?void 0:S.items)||S||{}),f=(S==null?void 0:S.categories)||{},y=Array.isArray(S==null?void 0:S.categoryList)?S.categoryList:[];t(h),r(f),s(y),ti(h),ni(f),ri(y)}catch(S){console.error("Failed to load prompt aliases",S),p(S);const h=ll(Sd()),f=Cd(),y=jd();t(h),r(f),s(y)}finally{a(!1)}},[]),v=d.useCallback(async S=>{const h=(S==null?void 0:S.items)||S||{},f=(S==null?void 0:S.categories)||n||{},y=Array.isArray(S==null?void 0:S.categoryList)&&S.categoryList.length?S.categoryList:l.length?l:Array.from(new Set(Object.values(f).filter(Boolean))),j=ll(h||{});c(!0),p(null);try{await jv({items:j,categories:f,categoryList:y}),t(j),r(f),s(y),ti(j),ni(f),ri(y)}catch(F){throw console.error("Failed to save prompt aliases",F),p(F),ti(j),ni(f),ri(y),F}finally{c(!1)}},[n,l]);d.useEffect(()=>{g()},[g]);const w=d.useMemo(()=>{const S=ju(e),h=new Map(S);return Object.entries(n||{}).forEach(([f,y])=>{const j=String(y||"").trim();j&&(e!=null&&e[f])&&h.set(`${j}:${f}`,e[f])}),h},[e,n]),C=d.useMemo(()=>{const S=new Set,h=[];return w.forEach((f,y)=>{let j=y.includes("::")?y.replace("::",":"):y;const F=j.split(":");F.length>=3&&F[0]&&F[1]&&F[0].toLowerCase()===F[1].toLowerCase()&&(j=[F[0],...F.slice(2)].join(":"));const L=j.toLowerCase();S.has(L)||(S.add(L),h.push(j))}),h},[w]);return{aliases:e,aliasCategories:n,categoryList:l,aliasLookup:w,aliasOptions:C,loading:i,saving:u,error:m,refreshAliases:g,persistAliases:v}}const q0=d.memo(function({workflows:t,selectedWorkflow:n,onWorkflowChange:r,workflowData:l}){return o.jsx("div",{className:"context-bar",children:o.jsx("div",{className:"context-chip",children:o.jsxs("select",{value:n||"",onChange:s=>r(s.target.value),className:"context-select","aria-label":"Workflow",children:[o.jsx("option",{value:"",children:"Select workflow"}),t.map(s=>o.jsx("option",{value:s,children:s},s))]})})})}),X0=d.memo(function({workflowData:t,expandedPrompt:n,onOpenComposer:r,promptFieldName:l}){return t?o.jsxs("div",{className:"studio-preview-card",children:[o.jsxs("div",{className:"studio-preview-head",children:[o.jsx("span",{className:"studio-preview-title",children:"Expanded prompt"}),o.jsx("button",{type:"button",onClick:()=>r(l),className:"ui-button is-muted is-compact",children:o.jsx("span",{children:"Compose"})})]}),o.jsx("div",{className:"studio-preview-body",children:n||""})]}):null});function Nd(){const{workflows:e=[],selectedWorkflow:t,selectWorkflow:n}=A0(),{workflowData:r,dynamicInputs:l=[],imageInputs:s=[],formData:i,setFormData:a,handleFormChange:u}=$0(t),{aliases:c,aliasCategories:m,aliasLookup:p,aliasOptions:g}=Dm(),{isLoading:v,progressValue:w,progressMax:C,statusText:S,statusPhase:h,handleGenerate:f,logEntries:y,clearLogs:j}=B0({selectedWorkflow:t,workflowData:r,dynamicInputs:l,imageInputs:s,formData:i,setFormData:a,promptAliases:p}),F=d.useRef(null),L=d.useRef(null),[z]=d.useState({key:0,collapsed:!0}),[k,D]=d.useState(()=>S0()),[T,Z]=d.useState(null),te=(T==null?void 0:T.name)||"",q=d.useCallback(()=>Z(null),[]),[V,A]=d.useState(!1),[O,x]=d.useState("prompt"),[E,I]=d.useState(!1),[U,P]=d.useState([]),$=d.useRef(new Map),G=i||{},Q=d.useMemo(()=>Y0(t,l),[t,l]),ne=d.useMemo(()=>{const re=(Q||l||[]).filter(J=>(J==null?void 0:J.class_type)!=="CozyGenImageInput"),ce=/\b(checkpoint|ckpt|lora|model|vae|embedding|clip|sampler|scheduler|seed)\b/i,pe=J=>{const fe=String((J==null?void 0:J.paramName)||"").toLowerCase(),ve=String((J==null?void 0:J.label)||"").toLowerCase(),oe=`${fe} ${ve}`,je=i==null?void 0:i[J==null?void 0:J.paramName],_e=typeof je=="string"?je:"";let Ne=0;return oe.includes("prompt")&&(Ne+=100),oe.includes("negative")&&oe.includes("prompt")&&(Ne-=15),J!=null&&J.multiline&&(Ne+=10),_e.includes("$")&&(Ne+=20),ce.test(oe)&&(Ne-=200),rl(_e)&&(Ne-=200),Ne};if(typeof(i==null?void 0:i.prompt)=="string")return"prompt";const _=re.map(J=>Br(J)).filter(J=>(J==null?void 0:J.paramType)==="STRING"&&(J==null?void 0:J.paramName));if(!_.length){const J=Object.entries(i||{}).find(([,ve])=>typeof ve=="string"&&ve.includes("$")&&!rl(ve));if(J)return J[0];const fe=Object.entries(i||{}).find(([,ve])=>typeof ve=="string"&&!rl(ve));return(fe==null?void 0:fe[0])||"prompt"}let W=_[0],le=pe(W);for(let J=1;J<_.length;J++){const fe=_[J],ve=pe(fe);ve>le&&(W=fe,le=ve)}return(W==null?void 0:W.paramName)||"prompt"},[l,i,Q]),K=d.useMemo(()=>{const re=[];return Object.entries(c||{}).forEach(([ce,pe])=>{const _=String(ce).split("::"),W=_.length>1,le=m&&m[ce]||(W?_[0]:""),J=W?_.slice(1).join("::"):ce,fe={key:ce,name:J,category:le,text:pe,token:le?`${le}:${J}`:J};re.push({...fe,...Cu(fe)})}),re},[c,m]);d.useEffect(()=>{if(h==="finished"&&typeof window<"u"){try{window.localStorage.setItem("cozygen_gallery_pending","1")}catch{}window.dispatchEvent(new Event("cozygen:gallery-pending"))}},[h]);const b=d.useMemo(()=>{if(ne&&typeof(G==null?void 0:G[ne])=="string")return ne;if(typeof(G==null?void 0:G.prompt)=="string")return"prompt";const re=Object.entries(G||{}).find(([,pe])=>typeof pe=="string"&&pe.includes("$"));if(re)return re[0];const ce=Object.entries(G||{}).find(([,pe])=>typeof pe=="string");return(ce==null?void 0:ce[0])||""},[G,ne]),N=d.useMemo(()=>{if(!b)return"";const re=(G==null?void 0:G[b])||"";if(!re||!p)return re;try{return re.replace(/\$([a-z0-9_:-]+)\$/gi,(ce,pe)=>{const _=p.get(pe.toLowerCase());return typeof _=="string"?_:ce})}catch{return re}},[G,p,b]),M=d.useCallback(re=>{!re||re===t||(t&&Ys(t,i||{},{immediate:!0}),n(re))},[i,t,n]);d.useCallback(re=>{re&&a(ce=>{const pe={...ce||{},...re||{}};return t&&Ys(t,pe),pe})},[t,a]);const Y=d.useCallback((re="prompt")=>{x(re),A(!0)},[]),se=d.useCallback(re=>{O&&u(O,re)},[O,u]),ie=d.useCallback(()=>{Y(ne||"prompt")},[Y,ne]),Ce=s||[],R=!!(r&&t),H=Ce.length>0,X=r?H?`${Ce.length} slots`:"No inputs":"Waiting",ue=r?"":"Waiting",ae=d.useCallback((re,ce)=>{const pe=$.current;ce&&re&&pe.set(re,ce);const _=U.length?U:(ce==null?void 0:ce.order)||[],W=_.length,le=W>0?_.indexOf(re):-1,J=le>0?_[le-1]:null,fe=le>=0&&le<W-1?_[le+1]:null,ve=J?pe.get(J):null,oe=fe?pe.get(fe):null;return{...ce,index:le>=0?le:0,total:W,onPrev:ve?()=>Z(ae(J,ve)):null,onNext:oe?()=>Z(ae(fe,oe)):null,onRender:f}},[U,f]),he=d.useCallback(re=>{const ce=re||[];P(pe=>pe.length===ce.length&&pe.every((_,W)=>_===ce[W])?pe:ce)},[]),ye=d.useCallback(re=>{const ce=re||"";D(ce),w0(ce)},[]),we=d.useCallback(re=>{re!=null&&re.name&&Z(ae(re.name,re))},[ae]),ze=d.useCallback(()=>{var re;return(re=T==null?void 0:T.render)==null?void 0:re.call(T,i)},[T,i]);return d.useEffect(()=>{const re=()=>{!R||v||f()};return window.addEventListener("cozygen:request-render",re),()=>window.removeEventListener("cozygen:request-render",re)},[f,R,v]),d.useEffect(()=>{const re=ce=>{var _;const pe=(_=ce==null?void 0:ce.detail)==null?void 0:_.fieldName;if(typeof pe=="string"&&pe.trim()){Y(pe.trim());return}ie()};return window.addEventListener("cozygen:open-composer",re),()=>window.removeEventListener("cozygen:open-composer",re)},[Y,ie]),d.useEffect(()=>{const re=h==="queued"||h==="running"||v;try{window.dispatchEvent(new CustomEvent("cozygen:render-state",{detail:{active:re}}))}catch{}},[h,v]),!e||e.length===0?o.jsx("div",{className:"page-shell",children:o.jsx("div",{className:"neon-card px-3 py-3 sm:px-4 sm:py-4",children:o.jsx("p",{className:"text-sm text-[#9DA3FFCC]",children:"No workflows found. Drop a workflow file in CozyGen and refresh."})})}):o.jsxs("div",{className:"page-shell page-stack has-dock",children:[o.jsxs(ei,{kicker:"Parameters",title:o.jsxs(o.Fragment,{children:[o.jsx(Lv,{size:18,className:"inline-block mr-2 align-text-bottom"}),"Controls"]}),meta:ue,bodyClassName:"control-shell",defaultOpen:!0,variant:"bare",children:[o.jsx(q0,{workflows:e,selectedWorkflow:t,onWorkflowChange:M,workflowData:r}),r?o.jsx(T0,{workflowName:t,dynamicInputs:Q,formData:i,onFormChange:u,parameterSectionRef:F,compactControls:!0,collapseAllState:z,lastEditedParam:k,spotlightName:te,onCloseSpotlight:q,onVisibleParamsChange:he,aliasOptions:g,aliasCatalog:K,onOpenComposer:Y,onParamEdited:ye,onSpotlight:we}):o.jsxs("div",{className:"empty-state-inline",children:[o.jsx("span",{className:"empty-state-arrow",children:o.jsx(zv,{size:20})}),o.jsx("span",{children:"Select a workflow above to get started"})]}),o.jsx(X0,{workflowData:r,expandedPrompt:N,onOpenComposer:Y,promptFieldName:ne})]}),o.jsx(ei,{kicker:"Run",title:o.jsxs(o.Fragment,{children:[o.jsx(Ov,{size:18,className:"inline-block mr-2 align-text-bottom"}),"Status"]}),meta:S||"Idle",defaultOpen:!1,className:"studio-status-card is-compact",children:o.jsxs("div",{className:"run-status-strip",children:[o.jsxs("div",{className:"run-status-left",children:[o.jsx("div",{className:`run-status-dot is-${h||"idle"}`,"aria-hidden":"true"}),o.jsxs("div",{className:"run-status-text",children:[o.jsx("div",{className:"run-status-phase",children:h||"idle"}),o.jsx("div",{className:"run-status-msg",children:S||"Idle"})]})]}),o.jsxs("div",{className:"run-status-actions",children:[v&&C>0?o.jsx("div",{className:"run-status-meter","aria-label":"Progress",children:o.jsx("div",{className:"run-status-meter-fill",style:{width:`${Math.max(0,Math.min(100,Math.round((w||0)/C*100)))}%`}})}):null,o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:()=>I(!0),children:"View logs"})]})]})}),H?o.jsx(ei,{ref:L,className:"scroll-mt-24 is-compact",kicker:"Assets",title:o.jsxs(o.Fragment,{children:[o.jsx(Rv,{size:18,className:"inline-block mr-2 align-text-bottom"}),"Images"]}),meta:X,defaultOpen:!1,variant:"bare",children:r?o.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:Ce.map(re=>o.jsx(i0,{input:re,value:i[re.inputs.param_name]||"",onFormChange:u},re.id))}):null}):null,o.jsx("section",{className:"dock-panel",children:o.jsx(Vv,{busy:v,progressValue:w,progressMax:C,statusText:S,statusPhase:h,primaryLabel:"Render",onPrimary:f,primaryDisabled:!R})}),o.jsx(a0,{open:!!T,onClose:q,title:T==null?void 0:T.label,description:T==null?void 0:T.description,render:ze,index:(T==null?void 0:T.index)??0,total:(T==null?void 0:T.total)??0,onPrev:(T==null?void 0:T.onPrev)||null,onNext:(T==null?void 0:T.onNext)||null,onRender:(T==null?void 0:T.onRender)||null,children:null}),o.jsx(d0,{open:V,onClose:()=>A(!1),value:(i==null?void 0:i[O])||"",onChange:se,aliasOptions:g,aliasCatalog:K,aliasLookup:p,fieldLabel:O}),o.jsx(I0,{open:E,onClose:()=>I(!1),logs:y,onClear:j})]})}function J0({subfolder:e,crumbs:t=[],dirChips:n=[],onBack:r,onRoot:l,onCrumb:s,onSelectDir:i}){return o.jsxs("div",{className:"space-y-3 text-[#F8F4FF]",children:[o.jsx("div",{className:"flex items-center justify-start gap-2 flex-wrap"}),o.jsx("div",{className:"flex items-center gap-2 flex-wrap text-[#C3C7FF]",role:"navigation","aria-label":"Gallery path",children:t.map((a,u)=>o.jsxs(d.Fragment,{children:[o.jsx("span",{className:"text-[#6A6FA8]",children:"/"}),o.jsx("button",{type:"button",className:"gallery-chip-btn",onClick:()=>s==null?void 0:s(a.path),"aria-current":u===t.length-1?"page":void 0,children:a.name})]},a.path||a.name||u))}),n.length>0?o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:n.map(a=>o.jsx("button",{type:"button",className:"gallery-chip-btn",onClick:()=>i==null?void 0:i(a.subfolder),children:a.filename||a.subfolder||"Collection"},a.subfolder||a.filename))}):null]})}const Z0=(e="")=>/\.(mp4|webm|mov|mkv)$/i.test(e),ew=({src:e,poster:t,autoPlay:n})=>{const r=d.useRef(null);return d.useEffect(()=>{const l=r.current;l&&(l.pause(),l.currentTime=0,l.load())},[e]),d.useEffect(()=>{const l=r.current;if(!l)return;let s;const i=()=>{const u=l.play();u&&typeof u.catch=="function"&&u.catch(()=>{})},a=()=>{l.pause()};return n?typeof window<"u"&&"IntersectionObserver"in window?(s=new IntersectionObserver(c=>{c.forEach(m=>{m.isIntersecting?i():a()})},{threshold:.65}),s.observe(l)):i():(a(),l.currentTime=0),()=>{s&&s.disconnect(),a()}},[n,e]),e?o.jsx("video",{ref:r,src:e,poster:t||void 0,muted:!0,playsInline:!0,loop:!0,preload:"metadata",className:"w-full h-auto max-h-[80vh] rounded-2xl object-contain bg-black/40"}):o.jsx("div",{className:"flex items-center justify-center py-16 text-[11px] text-[#9DA3FFCC]",children:"No preview available"})},kd={contentVisibility:"auto",containIntrinsicSize:"260px 320px"};function tw({item:e,onSelect:t,variant:n="grid",autoPlay:r=!1}){if(!e)return null;const l=e.type==="directory",s=e.filename||"",i=e.subfolder||"",a=s||i||"Unknown",u=()=>{t&&t(e)},c=n==="feed"?768:384,m=!l&&s?`/cozygen/thumb?type=output&subfolder=${encodeURIComponent(i)}&filename=${encodeURIComponent(s)}&w=${c}`:null,p=!l&&s?(()=>{const v=e.type&&e.type!=="directory"?e.type:"output",w=e.mtime?`&v=${encodeURIComponent(String(e.mtime))}`:"";return`/view?filename=${encodeURIComponent(s)}&subfolder=${encodeURIComponent(i)}&type=${encodeURIComponent(v)}${w}`})():null,g=Z0(s);if(l)return o.jsx("button",{type:"button",onClick:u,className:"gallery-dir-tile",style:kd,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-7 w-7 rounded-lg bg-gradient-to-br from-[#6B5BFF] to-[#FF4F9A] opacity-80 group-hover:opacity-100 flex items-center justify-center text-[11px] text-white",children:""}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-[11px] font-medium text-[#E5E7FF] truncate",children:a}),o.jsx("div",{className:"text-[10px] text-[#9DA3FFCC] truncate",children:"Collection"})]})]})});if(n==="feed"){const v={contentVisibility:"auto",containIntrinsicSize:"520px 720px"};return o.jsxs("div",{className:"gallery-feed-item",style:v,children:[o.jsxs("button",{type:"button",onClick:u,className:"gallery-feed-media",children:[o.jsx("div",{className:"relative w-full flex items-center justify-center bg-[#020312]",children:g?o.jsx(ew,{src:p,poster:m,autoPlay:r}):m?o.jsx("img",{src:m,alt:a,className:"w-full h-auto max-h-[80vh] rounded-2xl object-contain bg-black/40",loading:"lazy",decoding:"async"}):o.jsx("div",{className:"flex items-center justify-center py-16 text-[11px] text-[#9DA3FFCC]",children:"No preview available"})}),o.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#05071680] opacity-0 group-hover:opacity-100 transition-opacity"}),g&&o.jsx("div",{className:"pointer-events-none absolute left-2 top-2 rounded-full bg-[#050716CC] px-2 py-[1px] text-[10px] text-[#CFFAFE] border border-[#3EF0FF80]",children:"Video"})]}),o.jsx("div",{className:"gallery-feed-meta",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"gallery-feed-title",children:a}),i&&o.jsx("div",{className:"gallery-feed-subfolder",children:i})]})})]})}return o.jsxs("button",{type:"button",onClick:u,className:"gallery-tile",style:kd,children:[o.jsxs("div",{className:"gallery-tile-media",children:[m?o.jsx("img",{src:m,alt:a,className:"gallery-tile-img",loading:"lazy",decoding:"async"}):o.jsx("div",{className:"gallery-tile-empty",children:"No preview"}),g&&o.jsx("div",{className:"gallery-badge",children:"Video"})]}),o.jsx("div",{className:"gallery-tile-caption",children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"gallery-tile-title",children:a}),g&&o.jsx("span",{className:"gallery-tile-flag",children:"Vid"})]})})]})}const Ed=d.memo(tw);Co.setAppElement("#root");const nw=(e="")=>/\.(mp4|webm|mov|mkv)$/i.test(e),rw=e=>{if(!e)return"";const t=e.filename||"",n=e.subfolder||"",r=e.type||"output",l=e.mtime?`&v=${encodeURIComponent(String(e.mtime))}`:"";return`/view?filename=${encodeURIComponent(t)}&subfolder=${encodeURIComponent(n)}&type=${encodeURIComponent(r)}${l}`};function lw({isOpen:e,media:t,onClose:n,onPrev:r,onNext:l}){if(!t)return null;const s=rw(t),i=t.subfolder||"Gallery",a=nw(t.filename);return o.jsx(Co,{isOpen:e,onRequestClose:n,overlayClassName:"react-modal-overlay",className:"react-modal-content",contentLabel:"Preview",children:o.jsxs("div",{className:"media-viewer-panel",children:[o.jsxs("header",{className:"media-viewer-head",children:[o.jsxs("div",{className:"media-viewer-meta",children:[o.jsx("div",{className:"media-viewer-title",title:t.filename,children:t.filename}),o.jsxs("div",{className:"media-viewer-sub",children:[o.jsx("span",{className:"media-chip",children:i}),o.jsx("span",{className:`media-chip ${a?"is-clip":"is-still"}`,children:a?"Video":"Image"})]})]}),o.jsxs("div",{className:"media-viewer-actions",children:[o.jsx("button",{type:"button",className:"media-btn ghost",onClick:r,"aria-label":"Previous item",children:""}),o.jsx("button",{type:"button",className:"media-btn ghost",onClick:l,"aria-label":"Next item",children:""}),o.jsx("a",{href:s,target:"_blank",rel:"noreferrer",className:"media-btn",children:"Open"}),o.jsx("button",{type:"button",className:"media-btn solid",onClick:n,children:"Close"})]})]}),o.jsxs("div",{className:"media-viewer-stage",children:[o.jsx("button",{type:"button",className:"media-stage-nav is-left",onClick:r,"aria-label":"Previous",children:""}),o.jsx("div",{className:"media-viewer-frame",children:a?o.jsx("video",{src:s,controls:!0,className:"media-viewer-media",autoPlay:!0}):o.jsx("img",{src:s,alt:t.filename,className:"media-viewer-media"})}),o.jsx("button",{type:"button",className:"media-stage-nav is-right",onClick:l,"aria-label":"Next",children:""})]})]})})}const sw=(e="")=>e.startsWith("."),ow=(e="")=>/\.(png|jpe?g|gif|webp|bmp|tif?f)$/i.test(e),iw=(e="")=>/\.(mp4|webm|mov|mkv)$/i.test(e);function aw(){const e=(P,$="")=>{try{return typeof window<"u"&&localStorage.getItem(P)||$}catch{return $}},t=(P,$)=>{try{typeof window<"u"&&localStorage.setItem(P,$)}catch{}},[n,r]=d.useState(e("galleryPath","")),[l,s]=d.useState([]),[i,a]=d.useState(!1),[u,c]=d.useState(1),[m,p]=d.useState(1),[g,v]=d.useState(()=>{const P=e("galleryPageSize","30"),$=parseInt(P,10);return Number.isFinite($)?$:30}),[w,C]=d.useState("all"),[S,h]=d.useState(!1),[f,y]=d.useState(""),[j,F]=d.useState(()=>e("galleryRecursive","0")==="1"),[L,z]=d.useState(0);d.useEffect(()=>{let P=!1;const $=new AbortController;return(async()=>{a(!0);try{typeof performance<"u"&&performance.mark&&performance.mark("cozygen:gallery:fetch")}catch{}try{const Q=await am(n,u,g,S,j,w,L,{signal:$.signal});if(P)return;Q&&Q.items?(s(Q.items),p(Q.total_pages||1)):(s([]),p(1));try{typeof performance<"u"&&performance.measure&&(performance.mark("cozygen:gallery:ready"),performance.measure("cozygen:gallery:first-paint","cozygen:gallery:fetch","cozygen:gallery:ready"))}catch{}}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;console.error("Failed to load gallery",Q),P||(s([]),p(1))}finally{!P&&!$.signal.aborted&&a(!1)}})(),t("galleryPath",n),t("galleryPageSize",String(g)),()=>{P=!0,$.abort()}},[n,u,g,L,S,j,w]);const k=d.useMemo(()=>{if(!n)return[];const P=n.replace(/\\/g,"/").split("/").filter(Boolean),$=[];for(let G=0;G<P.length;G++)$.push({name:P[G],path:P.slice(0,G+1).join("/")});return $},[n]),D=d.useMemo(()=>l.filter(P=>P.type==="directory").map(P=>({filename:P.filename,subfolder:P.subfolder})),[l]),T=d.useMemo(()=>{const P=(f||"").trim().toLowerCase();return l.filter($=>{const G=($.filename||"").toLowerCase();return!(!S&&sw(G)||$.type!=="directory"&&(w==="image"&&!ow(G)||w==="video"&&!iw(G))||P&&!G.includes(P))})},[l,S,w,f]),Z=d.useMemo(()=>T.filter(P=>P.type!=="directory"),[T]),te=d.useCallback(()=>{if(!n)return;const P=n.replace(/\\/g,"/").lastIndexOf("/"),$=P===-1?"":n.slice(0,P);r($),c(1)},[n]),q=d.useCallback(()=>{r(""),c(1)},[]),V=d.useCallback(P=>{r(P||""),c(1)},[]),A=d.useCallback(P=>{r(P),c(1)},[]),O=d.useCallback(P=>{const $=parseInt(String(P),10)||30;v($),c(1)},[]),x=d.useCallback(P=>{C(P),c(1)},[]),E=d.useCallback(P=>{const $=!!P;F($),c(1),t("galleryRecursive",$?"1":"0")},[]),I=d.useCallback(P=>{y(P),c(1)},[]),U=d.useCallback(()=>{z(P=>P+1)},[]);return d.useEffect(()=>{const P=()=>U();return typeof window<"u"&&window.addEventListener&&window.addEventListener("cozygen:queue-finished",P),()=>{typeof window<"u"&&window.removeEventListener&&window.removeEventListener("cozygen:queue-finished",P)}},[U]),d.useEffect(()=>{if(typeof window>"u")return;let P=!1,$,G;const Q=()=>{G&&(clearTimeout(G),G=null)},ne=(b=8e3)=>{Q(),G=window.setTimeout(()=>{P||(U(),ne(8e3))},b)};return(()=>{if(!("EventSource"in window)){ne();return}const b=new URLSearchParams({subfolder:n||"",recursive:j?"1":"0",show_hidden:S?"1":"0"});$=new EventSource(`/cozygen/api/gallery/stream?${b.toString()}`),$.onmessage=()=>{P||U()},$.onerror=()=>{$&&($.close(),$=null),ne()}})(),()=>{P=!0,Q(),$&&($.close(),$=null)}},[n,j,S,U]),{path:n,items:l,loading:i,page:u,totalPages:m,perPage:g,kind:w,showHidden:S,query:f,recursive:j,crumbs:k,dirChips:D,filtered:T,mediaItems:Z,setPage:c,setPerPage:O,setShowHidden:h,setQuery:I,setKind:x,setRecursive:E,goBack:te,goRoot:q,goToPath:V,selectDir:A,refresh:U}}function uw(e){const[t,n]=d.useState(!1),[r,l]=d.useState(null);d.useEffect(()=>{if(!e||e.length===0){l(null),n(!1);return}l(m=>m==null?m:m>=e.length?e.length-1:m)},[e]);const s=d.useCallback(m=>{if(!e||!e.length||!m)return;const p=e.indexOf(m);p!==-1&&(l(p),n(!0))},[e]),i=d.useCallback(()=>{n(!1),l(null)},[]),a=d.useCallback(()=>{!e||!e.length||l(m=>m==null?m:(m+1)%e.length)},[e]),u=d.useCallback(()=>{!e||!e.length||l(m=>m==null?m:(m-1+e.length)%e.length)},[e]),c=r!=null&&r>=0&&e&&r<e.length?e[r]:null;return{viewerOpen:t,viewerIndex:r,currentMedia:c,open:s,close:i,next:a,prev:u,setViewerOpen:n}}const bd="cozygen_gallery_view_mode",_d="cozygen_gallery_feed_autoplay";function cw(e,t){const n=d.useRef(null),[r,l]=d.useState(0),[s,i]=d.useState({width:0,cols:0,top:0,viewport:typeof window<"u"&&window.innerHeight||800}),a=g=>{if(!g||typeof window>"u")return null;let v=g.parentElement;for(;v;){const w=window.getComputedStyle(v);if(w.overflowY==="auto"||w.overflowY==="scroll")return v;v=v.parentElement}return window};d.useEffect(()=>{if(!t)return;const g=n.current;if(!g||typeof window>"u"||typeof ResizeObserver>"u")return;const v=a(g)||window,w=()=>{const f=g.getBoundingClientRect(),y=f.width||g.clientWidth||1,j=Math.max(1,Math.floor(y/160)),F=v===window?window.scrollY||0:v.scrollTop||0,L=v===window?{top:0}:v.getBoundingClientRect(),z=v===window?f.top+(window.scrollY||0):f.top-L.top+F,k=v===window?window.innerHeight||800:v.clientHeight||800;i(D=>D.width===y&&D.cols===j&&D.top===z&&D.viewport===k?D:{width:y,cols:j,top:z,viewport:k}),l(F)};w();const C=new ResizeObserver(()=>w());C.observe(g),window.addEventListener("resize",w);let S=!1;const h=()=>{S||(S=!0,window.requestAnimationFrame(()=>{S=!1;const f=v===window?window.scrollY||0:v.scrollTop||0;l(f)}))};return v.addEventListener("scroll",h,{passive:!0}),()=>{C.disconnect(),window.removeEventListener("resize",w),v.removeEventListener("scroll",h)}},[t]);const u=t&&s.cols>0&&e.length>60,{visibleItems:c,topSpacer:m,bottomSpacer:p}=d.useMemo(()=>{if(!u)return{visibleItems:e,topSpacer:0,bottomSpacer:0};const g=s.width/s.cols,v=Math.max(180,Math.ceil(g*1.25)+32),w=Math.ceil(e.length/s.cols),C=Math.max(0,r-s.top),S=Math.max(0,Math.floor(C/v)-2),h=Math.min(w,Math.ceil((C+s.viewport)/v)+2),f=S*s.cols,y=Math.min(e.length,h*s.cols);return{visibleItems:e.slice(f,y),topSpacer:S*v,bottomSpacer:Math.max(0,(w-h)*v)}},[e,s,r,u]);return{containerRef:n,visibleItems:c,topSpacer:m,bottomSpacer:p,virtualized:u}}function dw(){const{path:e,loading:t,page:n,totalPages:r,perPage:l,kind:s,showHidden:i,recursive:a,crumbs:u,dirChips:c,filtered:m,mediaItems:p,setPage:g,setPerPage:v,setShowHidden:w,setKind:C,setRecursive:S,goBack:h,goRoot:f,goToPath:y,selectDir:j,refresh:F}=aw(),{viewerOpen:L,currentMedia:z,open:k,close:D,next:T,prev:Z}=uw(p),[te,q]=d.useState(()=>{if(typeof window>"u")return"grid";const b=window.localStorage.getItem(bd);return b==="feed"||b==="grid"?b:"grid"}),[V,A]=d.useState(()=>typeof window>"u"?!1:window.localStorage.getItem(_d)==="true");d.useEffect(()=>{try{window.localStorage.setItem(bd,te)}catch{}},[te]),d.useEffect(()=>{try{window.localStorage.setItem(_d,V?"true":"false")}catch{}},[V]);const O=d.useCallback(b=>{if(b.type==="directory"){j(b.subfolder);return}k(b)},[k,j]),x=te==="grid",[E,I]=d.useState(!1),U=b=>b.type==="directory"?`dir:${b.subfolder||b.filename}`:`${b.subfolder||""}|${b.filename}`;d.useEffect(()=>{try{window.localStorage.setItem("cozygen_gallery_pending","0")}catch{}window.dispatchEvent(new Event("cozygen:gallery-viewed"))},[]);const P=t?"Loading":`${m.length} items`,{containerRef:$,visibleItems:G,topSpacer:Q,bottomSpacer:ne,virtualized:K}=cw(m,x);return o.jsxs("div",{className:"page-shell gallery-shell",children:[o.jsx("div",{className:"screen-sticky gallery-header",children:o.jsxs("div",{className:"gallery-header-inner space-y-3",children:[o.jsx(J0,{subfolder:e,crumbs:u,dirChips:c,onBack:h,onRoot:f,onCrumb:b=>y(b),onSelectDir:b=>j(b)}),o.jsxs("div",{className:"md:hidden flex items-center justify-between gap-2",children:[o.jsx("button",{type:"button",className:"ui-button is-muted is-compact",onClick:()=>I(!0),children:"Filters"}),o.jsxs("div",{className:"gallery-view-toggle",role:"group","aria-label":"View mode",children:[o.jsx("button",{type:"button",className:te==="grid"?"is-active":"",onClick:()=>q("grid"),"aria-pressed":te==="grid",title:"Grid view",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[o.jsx("rect",{x:"1",y:"1",width:"6",height:"6",rx:"1"}),o.jsx("rect",{x:"9",y:"1",width:"6",height:"6",rx:"1"}),o.jsx("rect",{x:"1",y:"9",width:"6",height:"6",rx:"1"}),o.jsx("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"})]})}),o.jsx("button",{type:"button",className:te==="feed"?"is-active":"",onClick:()=>q("feed"),"aria-pressed":te==="feed",title:"Feed view",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[o.jsx("rect",{x:"2",y:"1",width:"12",height:"5",rx:"1"}),o.jsx("rect",{x:"2",y:"8",width:"12",height:"5",rx:"1"})]})})]})]}),o.jsx("div",{className:"md:hidden gallery-mobile-meta",children:t?"Loading":`${P}  Page ${n} of ${r}`}),o.jsxs("div",{className:"gallery-toolbar",children:[o.jsx("div",{className:"gallery-toolbar-left",children:o.jsx("div",{className:"gallery-pills",role:"group","aria-label":"Filter by type",children:[{key:"all",label:"All"},{key:"image",label:"Images"},{key:"video",label:"Videos"}].map(b=>o.jsx("button",{type:"button",className:`gallery-pill ${s===b.key?"is-active":""}`,onClick:()=>C(b.key),"aria-pressed":s===b.key,children:b.label},b.key))})}),o.jsxs("div",{className:"gallery-toolbar-right",children:[o.jsxs("div",{className:"gallery-view-toggle",role:"group","aria-label":"View mode",children:[o.jsx("button",{type:"button",className:te==="grid"?"is-active":"",onClick:()=>q("grid"),"aria-pressed":te==="grid",title:"Grid view",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[o.jsx("rect",{x:"1",y:"1",width:"6",height:"6",rx:"1"}),o.jsx("rect",{x:"9",y:"1",width:"6",height:"6",rx:"1"}),o.jsx("rect",{x:"1",y:"9",width:"6",height:"6",rx:"1"}),o.jsx("rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"})]})}),o.jsx("button",{type:"button",className:te==="feed"?"is-active":"",onClick:()=>q("feed"),"aria-pressed":te==="feed",title:"Feed view",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[o.jsx("rect",{x:"2",y:"1",width:"12",height:"5",rx:"1"}),o.jsx("rect",{x:"2",y:"8",width:"12",height:"5",rx:"1"})]})})]}),o.jsxs("div",{className:"gallery-options",children:[o.jsx("button",{type:"button",className:`gallery-option-btn ${a?"is-active":""}`,onClick:()=>S(b=>!b),title:a?"Showing subfolders":"This folder only",children:a?o.jsx(Qc,{size:16}):o.jsx(Yc,{size:16})}),o.jsx("button",{type:"button",className:`gallery-option-btn ${i?"is-active":""}`,onClick:()=>w(b=>!b),title:i?"Showing hidden":"Hiding hidden",children:i?o.jsx(qc,{size:16}):o.jsx(Xc,{size:16})}),te==="feed"&&o.jsx("button",{type:"button",className:`gallery-option-btn ${V?"is-active":""}`,onClick:()=>A(b=>!b),title:V?"Autoplay on":"Autoplay off",children:V?o.jsx(Jc,{size:16}):o.jsx(Zc,{size:16})}),o.jsx("button",{type:"button",className:"gallery-option-btn",onClick:F,title:"Refresh",children:o.jsx(ra,{size:16})})]})]})]}),o.jsxs("div",{className:"gallery-pagination",children:[o.jsx("div",{className:"gallery-pagination-info",children:t?o.jsx("span",{className:"gallery-loading-text",children:"Loading"}):o.jsx("span",{children:P})}),o.jsxs("div",{className:"gallery-pagination-controls",children:[o.jsx("button",{type:"button",className:"gallery-page-btn",onClick:()=>g(b=>Math.max(1,b-1)),disabled:n<=1||t,"aria-label":"Previous page",children:o.jsx(Tv,{size:16})}),o.jsxs("span",{className:"gallery-page-indicator",children:[n," / ",r]}),o.jsx("button",{type:"button",className:"gallery-page-btn",onClick:()=>g(b=>b<r?b+1:b),disabled:n>=r||t,"aria-label":"Next page",children:o.jsx(Iv,{size:16})}),o.jsxs("select",{value:l,onChange:b=>v(parseInt(b.target.value,10)||30),className:"gallery-page-size","aria-label":"Items per page",children:[o.jsx("option",{value:15,children:"15"}),o.jsx("option",{value:30,children:"30"}),o.jsx("option",{value:60,children:"60"}),o.jsx("option",{value:120,children:"120"})]})]})]})]})}),t&&m.length===0?o.jsx("div",{className:"gallery-grid-responsive",children:Array.from({length:8}).map((b,N)=>o.jsxs("div",{className:"gallery-skeleton-item",children:[o.jsx("div",{className:"gallery-skeleton-thumb skeleton"}),o.jsx("div",{className:"gallery-skeleton-label skeleton skeleton-text"})]},N))}):m.length===0&&!t?o.jsxs("div",{className:"gallery-empty",children:[o.jsx("div",{className:"gallery-empty-icon",children:o.jsx(Av,{size:48})}),o.jsx("div",{className:"gallery-empty-title",children:"No media found"}),o.jsx("div",{className:"gallery-empty-desc",children:s!=="all"?`No ${s}s match your filters. Try selecting "All" or adjusting your search.`:"This folder is empty. Render something new or navigate to a different folder."})]}):x?o.jsx("div",{className:"w-full overflow-hidden",children:o.jsxs("div",{className:"gallery-grid-responsive",ref:$,children:[K&&Q>0?o.jsx("div",{"aria-hidden":!0,style:{gridColumn:"1 / -1",height:`${Q}px`}}):null,G.map(b=>o.jsx(Ed,{item:b,onSelect:O,variant:"grid",autoPlay:!1},U(b))),K&&ne>0?o.jsx("div",{"aria-hidden":!0,style:{gridColumn:"1 / -1",height:`${ne}px`}}):null]})}):o.jsx("div",{className:"flex flex-col gap-6 items-center",children:m.filter(b=>b.type!=="directory").map(b=>o.jsx("div",{className:"w-full flex justify-center",children:o.jsx(Ed,{item:b,onSelect:O,variant:"feed",autoPlay:V})},U(b)))}),o.jsx(lw,{isOpen:L,media:z,onClose:D,onPrev:Z,onNext:T}),o.jsx(yn,{open:E,onClose:()=>I(!1),title:"Gallery filters",footer:o.jsx("button",{type:"button",className:"ui-button is-primary w-full",onClick:()=>I(!1),children:"Done"}),children:o.jsxs("div",{className:"sheet-stack",children:[o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Type"}),o.jsx("div",{className:"gallery-pills",role:"group","aria-label":"Filter by type",children:[{key:"all",label:"All"},{key:"image",label:"Images"},{key:"video",label:"Videos"}].map(b=>o.jsx("button",{type:"button",className:`gallery-pill ${s===b.key?"is-active":""}`,onClick:()=>C(b.key),"aria-pressed":s===b.key,children:b.label},b.key))})]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Options"}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("button",{type:"button",className:`ui-button is-compact ${a?"is-primary":"is-muted"}`,onClick:()=>S(b=>!b),children:o.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a?o.jsx(Qc,{size:14}):o.jsx(Yc,{size:14}),o.jsx("span",{children:a?"Subfolders":"This folder"})]})}),o.jsx("button",{type:"button",className:`ui-button is-compact ${i?"is-primary":"is-muted"}`,onClick:()=>w(b=>!b),children:o.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[i?o.jsx(qc,{size:14}):o.jsx(Xc,{size:14}),o.jsx("span",{children:i?"Hidden on":"Hidden off"})]})}),te==="feed"?o.jsx("button",{type:"button",className:`ui-button is-compact ${V?"is-primary":"is-muted"}`,onClick:()=>A(b=>!b),children:o.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[V?o.jsx(Jc,{size:14}):o.jsx(Zc,{size:14}),o.jsx("span",{children:V?"Autoplay":"No autoplay"})]})}):null,o.jsx("button",{type:"button",className:"ui-button is-compact is-ghost",onClick:F,children:o.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[o.jsx(ra,{size:14}),o.jsx("span",{children:"Refresh"})]})})]})]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Page size"}),o.jsxs("select",{value:l,onChange:b=>v(parseInt(b.target.value,10)||30),className:"sheet-select","aria-label":"Items per page",children:[o.jsx("option",{value:15,children:"15"}),o.jsx("option",{value:30,children:"30"}),o.jsx("option",{value:60,children:"60"}),o.jsx("option",{value:120,children:"120"})]}),o.jsx("div",{className:"sheet-hint",children:t?"Loading":`${P}  Page ${n} of ${r}`}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",className:"ui-button is-muted w-full",onClick:()=>g(b=>Math.max(1,b-1)),disabled:n<=1||t,children:"Prev"}),o.jsx("button",{type:"button",className:"ui-button is-muted w-full",onClick:()=>g(b=>b<r?b+1:b),disabled:n>=r||t,children:"Next"})]})]})]})})]})}const Xs="::";function fw(){return`alias-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`}function li(e,t={}){return Object.entries(ll(e)).map(([n,r],l)=>{const[s,i]=String(n).includes(Xs)?n.split(Xs):["",n],a=i||n,u=t[n]||t[a]||s||"";return{id:`existing-${l}-${n}`,name:a,text:r,category:u}})}function Pd(e){const t={};return e.forEach(n=>{const r=String((n==null?void 0:n.name)||"").trim(),l=typeof(n==null?void 0:n.text)=="string"?n.text.trim():"";if(r&&l){const s=String((n==null?void 0:n.category)||"").trim(),i=s?`${s}${Xs}${r}`:r;t[i]=l}}),t}function Fd(e){const t={};return e.forEach(n=>{const r=String((n==null?void 0:n.name)||"").trim(),l=typeof(n==null?void 0:n.category)=="string"?n.category.trim():"";if(r){const s=l?`${l}${Xs}${r}`:r;t[s]=l}}),t}function pw(){const{aliases:e,aliasCategories:t,categoryList:n,loading:r,saving:l,error:s,persistAliases:i,refreshAliases:a}=Dm(),[u,c]=d.useState(()=>li(e,t)),[m,p]=d.useState(()=>Array.isArray(n)?n:[]),[g,v]=d.useState("All"),[w,C]=d.useState("All"),[S,h]=d.useState(""),[f,y]=d.useState(""),[j,F]=d.useState(!1),[L,z]=d.useState(!1),[k,D]=d.useState(""),T=d.useRef(null),[Z,te]=d.useState(!1),[q,V]=d.useState("");d.useEffect(()=>{if(Z)return;const N=li(e,t||{});c(N),f&&!N.some(M=>M.id===f)&&(y(""),F(!1))},[t,Z]),d.useEffect(()=>{Z||Array.isArray(n)&&p(n)},[n,Z]),d.useEffect(()=>{if(Z)return;const N=li(e,t||{});c(N),f&&!N.some(M=>M.id===f)&&(y(""),F(!1))},[e,t,f,Z]);const A=d.useMemo(()=>Pd(u),[u]),O=()=>{const N={id:fw(),name:"",text:"",category:""};c(M=>[...M,N]),y(N.id),D(""),te(!0),F(!0)},x=(N,M,Y)=>{te(!0),c(se=>se.map((ie,Ce)=>Ce===N?{...ie,[M]:Y}:ie))},E=N=>{te(!0),c(M=>{var se;const Y=M.filter((ie,Ce)=>Ce!==N);return(Y.length===0||f===((se=M[N])==null?void 0:se.id))&&(y(""),F(!1)),Y})},I=async()=>{D("");try{const N=Fd(u);await i({items:A,categories:N,categoryList:m}),te(!1),D("Saved.")}catch{D("Unable to save right now.")}},U=d.useMemo(()=>{const N=S.trim().toLowerCase(),Y=[...u.filter(se=>{const ie=(se.category||"").trim();if(g===""&&ie||g!=="All"&&g!==""&&ie!==g)return!1;const Ce=Wr(se.name||"",se.category||"");if(w!=="All"&&Ce!==w)return!1;if(!N)return!0;const R=ie?`${ie}:${se.name}`:se.name;return(se.name||"").toLowerCase().includes(N)||(se.text||"").toLowerCase().includes(N)||(ie||"").toLowerCase().includes(N)||(R||"").toLowerCase().includes(N)})];return Y.sort((se,ie)=>(se.name||"").localeCompare(ie.name||"")),Y},[u,g,w,S]),P=U.find(N=>N.id===f)||u.find(N=>N.id===f)||null,$=d.useMemo(()=>{const N=new Set(m||[]);return u.forEach(M=>{M.category&&N.add(M.category)}),Array.from(N).sort((M,Y)=>M.localeCompare(Y))},[u,m]),G=d.useMemo(()=>{const N=new Set;return u.forEach(M=>{const Y=(M.category||"").trim();if(g===""&&Y||g!=="All"&&g!==""&&Y!==g)return;const se=Wr(M.name||"",M.category||"");se&&N.add(se)}),Array.from(N).sort((M,Y)=>M.localeCompare(Y))},[u,g]);d.useEffect(()=>{w!=="All"&&(G.includes(w)||C("All"))},[G,w]),d.useEffect(()=>{j&&T.current&&T.current.focus()},[j,f]);const Q=async()=>{const N=q.trim();if(!N){D("Enter a category name.");return}const M=Array.from(new Set([...m||[],N]));p(M),V(""),D("Category added.");const Y=Pd(u),se=Fd(u);te(!0);try{await i({items:Y,categories:se,categoryList:M}),te(!1),D("Category saved.")}catch{D("Unable to save right now.")}},ne=N=>{N&&(y(N.id),F(!0),D(""))},K=()=>{F(!1),D("")},b=d.useMemo(()=>{const N=u.length,M=U.length;return r?"Loading":N===M?`${N} aliases`:`${M} of ${N} aliases`},[u.length,U.length,r]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"page-shell page-stack",children:[o.jsx("div",{className:"screen-sticky",children:o.jsxs("div",{className:"space-y-3 py-3",children:[o.jsxs("header",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"ui-kicker",children:"Library"}),o.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[o.jsx(Tl,{size:18}),o.jsx("span",{className:"truncate",children:"Aliases"})]}),o.jsx("div",{className:"text-[11px] text-[#9DA3FFCC] mt-1",children:b})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",className:"ui-button is-tiny is-muted",onClick:()=>z(!0),children:"Categories"}),o.jsx("button",{type:"button",className:"ui-button is-tiny is-ghost",onClick:a,disabled:r,title:"Refresh",children:o.jsxs("span",{className:"inline-flex items-center gap-2",children:[o.jsx(ra,{size:14}),"Refresh"]})}),o.jsx("button",{type:"button",className:"ui-button is-tiny is-primary",onClick:O,children:"Add"})]})]}),o.jsxs("div",{className:"composer-filters",children:[o.jsx("input",{type:"search",value:S,onChange:N=>h(N.target.value),className:"composer-search",placeholder:"Search aliases","aria-label":"Search aliases"}),o.jsxs("select",{className:"composer-subcategory-select",value:g,onChange:N=>v(N.target.value),"aria-label":"Filter by category",children:[o.jsx("option",{value:"All",children:"Category: All"}),o.jsx("option",{value:"",children:"Uncategorized"}),$.map(N=>o.jsx("option",{value:N,children:N?Tn(N):"Uncategorized"},N||"uncat"))]}),o.jsxs("select",{className:"composer-subcategory-select",value:w,onChange:N=>C(N.target.value),"aria-label":"Filter by subcategory",children:[o.jsx("option",{value:"All",children:"Subcategory: All"}),G.map(N=>o.jsx("option",{value:N,children:Qs(N)},N))]}),Z?o.jsx("button",{type:"button",className:"ui-button is-compact is-primary",onClick:I,disabled:l,children:l?"Saving":"Save changes"}):null]}),s?o.jsx("div",{className:"text-xs text-[#FF8F70]",children:"Could not load aliases. Try again later."}):null,k?o.jsx("div",{className:"text-xs text-[#9DA3FFCC]",children:k}):null]})}),u.length===0&&!r?o.jsx("section",{className:"ui-panel text-center py-16",children:o.jsx("p",{className:"text-base text-slate-200/80",children:"No aliases yet. Add your first one."})}):o.jsxs("div",{className:"composer-alias-list",role:"list",children:[U.length===0?o.jsx("div",{className:"composer-alias-empty",children:"No aliases match your filters."}):null,U.map(N=>{const M=(N.category||"").trim(),Y=M?`${M}:${N.name}`:N.name,se=(N.text||"").slice(0,140)+((N.text||"").length>140?"":"");return o.jsxs("button",{type:"button",role:"listitem",className:"composer-alias-item",onClick:()=>ne(N),children:[o.jsxs("div",{className:"composer-alias-header",children:[o.jsx("div",{className:"composer-alias-name",children:ma({name:N.name})||N.name||"Untitled"}),M?o.jsx("span",{className:"composer-alias-category",children:M}):null]}),o.jsxs("div",{className:"composer-alias-token",children:["$",Y||"alias","$"]}),o.jsx("div",{className:"composer-alias-text",children:se||""})]},N.id)})]})]}),o.jsx(yn,{open:j&&!!P,onClose:K,title:"Alias",variant:"fullscreen",footer:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"ui-button is-muted w-full",onClick:K,children:"Close"}),o.jsx("button",{type:"button",className:"ui-button is-primary w-full",onClick:I,disabled:l||!Z,children:l?"Saving":Z?"Save":"Saved"})]}),children:P?o.jsxs("div",{className:"sheet-stack",children:[o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Token"}),o.jsxs("div",{className:"composer-token",children:["$",P.category?`${P.category}:${P.name}`:P.name||"alias","$"]}),Wr(P.name||"",P.category||"")?o.jsxs("div",{className:"sheet-hint",children:["Subcategory: ",Qs(Wr(P.name||"",P.category||""))]}):null]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Friendly name"}),o.jsx("div",{className:"composer-field",children:ma({name:P.name})||P.name||"Alias"})]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Alias name"}),o.jsx("input",{ref:T,type:"text",value:P.name||"",onChange:N=>{const M=u.findIndex(Y=>Y.id===P.id);M!==-1&&x(M,"name",N.target.value)},placeholder:"e.g. cherry_fruit",className:"sheet-input"})]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Category"}),o.jsxs("select",{value:P.category||"",onChange:N=>{const M=u.findIndex(Y=>Y.id===P.id);M!==-1&&x(M,"category",N.target.value)},className:"sheet-select",children:[o.jsx("option",{value:"",children:"Uncategorized"}),$.map(N=>o.jsx("option",{value:N,children:N?Tn(N):"Uncategorized"},N||"uncat"))]}),o.jsx("button",{type:"button",className:"ui-button is-tiny is-muted",onClick:()=>z(!0),children:"Manage categories"})]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Expands to"}),o.jsx("textarea",{value:P.text,onChange:N=>{const M=u.findIndex(Y=>Y.id===P.id);M!==-1&&x(M,"text",N.target.value)},placeholder:"Prompt text for this alias",className:"sheet-textarea is-compact",rows:6})]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("button",{type:"button",className:"ui-button is-danger",onClick:()=>{const N=u.findIndex(M=>M.id===P.id);N!==-1&&(E(N),F(!1))},children:"Delete alias"}),o.jsx("div",{className:"sheet-hint",children:"Deleting removes it from your library. Use Save changes to persist."})]})]}):null}),o.jsx(yn,{open:L,onClose:()=>{z(!1),V(""),D("")},title:"Categories",variant:"sheet",footer:o.jsx("div",{className:"sheet-hint",children:"Categories help you organize aliases and improve the Insert alias picker."}),children:o.jsxs("div",{className:"sheet-stack",children:[o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Add category"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:q,onChange:N=>V(N.target.value),placeholder:"e.g. styles",className:"sheet-input"}),o.jsx("button",{type:"button",className:"ui-button is-primary is-compact",onClick:Q,children:"Add"})]})]}),o.jsxs("div",{className:"sheet-section",children:[o.jsx("div",{className:"sheet-label",children:"Existing"}),$.length===0?o.jsx("div",{className:"sheet-hint",children:"No categories yet."}):o.jsxs("select",{className:"sheet-select",defaultValue:"",onChange:N=>{const M=N.target.value;M&&(v(M),z(!1))},children:[o.jsx("option",{value:"",children:"Select a category"}),$.map(N=>o.jsx("option",{value:N,children:Tn(N)},N))]})]})]})})]})}function mw(){var h,f;const{authed:e,ready:t,login:n}=xo(),r=yo(),s=((f=(h=vt().state)==null?void 0:h.from)==null?void 0:f.pathname)||"/studio",[i,a]=d.useState(""),[u,c]=d.useState(""),[m,p]=d.useState(""),[g,v]=d.useState(!1),[w,C]=d.useState(!1);d.useEffect(()=>{try{localStorage.getItem("cozygen_idle_logout")&&(C(!0),localStorage.removeItem("cozygen_idle_logout"))}catch{}},[]),d.useEffect(()=>{t&&e&&r(s,{replace:!0})},[t,e,s,r]);const S=async y=>{y.preventDefault(),p(""),v(!0);try{await n(i,u),r(s,{replace:!0})}catch(j){j!=null&&j.unauthorized?p("Invalid username or password."):p("Unable to sign in. Please try again.")}finally{v(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-950 to-black px-4 py-10",children:o.jsx("div",{className:"w-full max-w-md rounded-2xl bg-slate-900/70 border border-slate-800/80 shadow-2xl backdrop-blur",children:o.jsxs("div",{className:"p-6 sm:p-8",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/10 border border-emerald-400/30 flex items-center justify-center text-emerald-300 text-xl",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-slate-400",children:"CozyGen"}),o.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Sign in to continue"})]})]}),o.jsxs("form",{className:"space-y-4",onSubmit:S,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"login-username",className:"block text-sm font-medium text-slate-300 mb-2",children:"Username"}),o.jsx("input",{id:"login-username",type:"text",className:"w-full rounded-xl border border-slate-700 bg-slate-800/70 px-4 py-3 text-white placeholder-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",value:i,onChange:y=>a(y.target.value),autoComplete:"username",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),o.jsx("input",{id:"login-password",type:"password",className:"w-full rounded-xl border border-slate-700 bg-slate-800/70 px-4 py-3 text-white placeholder-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",value:u,onChange:y=>c(y.target.value),autoComplete:"current-password",required:!0})]}),m&&o.jsx("div",{className:"rounded-lg border border-red-500/60 bg-red-500/10 px-4 py-3 text-red-200 text-sm",children:m}),w&&!m&&o.jsx("div",{className:"rounded-lg border border-amber-500/60 bg-amber-500/10 px-4 py-3 text-amber-200 text-sm",children:"You were signed out due to inactivity. Please sign in again."}),o.jsx("button",{type:"submit",disabled:g,className:"w-full inline-flex items-center justify-center gap-2 rounded-xl bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold px-4 py-3 transition disabled:opacity-60 disabled:cursor-not-allowed shadow-lg shadow-emerald-500/20",children:g?"Signing in":"Sign in"})]}),o.jsxs("p",{className:"text-xs text-slate-500 mt-6",children:["Access is protected by CozyGen auth. Set ",o.jsx("code",{className:"font-mono",children:"COZYGEN_AUTH_USER"})," /",o.jsx("code",{className:"font-mono",children:"COZYGEN_AUTH_PASS"})," on the server to enable."]})]})})})}function hw({containerRef:e}){const{pathname:t,hash:n}=vt();return d.useEffect(()=>{if(n)return;const r=e==null?void 0:e.current;if(r&&typeof r.scrollTo=="function"){r.scrollTo({top:0,left:0,behavior:"auto"});return}typeof window<"u"&&window.scrollTo(0,0)},[t,n,e]),null}function ls({children:e}){const{authed:t,ready:n}=xo(),r=vt();return n?t?e:o.jsx(tm,{to:"/login",state:{from:r},replace:!0}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-200",children:"Loading"})}function gw(){const{pathname:e}=vt(),{defaultCreds:t,authed:n}=xo(),r=e==="/login",l=d.useRef(null);return o.jsxs("div",{className:"app-shell",children:[!r&&o.jsx($v,{}),!r&&n&&t&&o.jsxs("div",{className:"flex-shrink-0 bg-amber-500/10 text-amber-200 border-b border-amber-400/50 px-4 py-2 text-sm text-center",children:["Default CozyGen credentials are still in use. Change ",o.jsx("code",{className:"font-mono",children:"COZYGEN_AUTH_USER"})," /",o.jsx("code",{className:"font-mono",children:"COZYGEN_AUTH_PASS"})," on the server."]}),o.jsx(hw,{containerRef:l}),o.jsx("main",{ref:l,className:r?"app-content is-login":"app-content",children:o.jsxs(lv,{children:[o.jsx(kn,{path:"/login",element:o.jsx(mw,{})}),o.jsx(kn,{path:"/",element:o.jsx(ls,{children:o.jsx(Nd,{})})}),o.jsx(kn,{path:"/studio",element:o.jsx(ls,{children:o.jsx(Nd,{})})}),o.jsx(kn,{path:"/gallery",element:o.jsx(ls,{children:o.jsx(dw,{})})}),o.jsx(kn,{path:"/aliases",element:o.jsx(ls,{children:o.jsx(pw,{})})}),o.jsx(kn,{path:"*",element:o.jsx(tm,{to:"/studio",replace:!0})})]})}),!r&&o.jsx(Wv,{})]})}function yw(){return o.jsx(fv,{children:o.jsx(_v,{children:o.jsx(gw,{})})})}si.createRoot(document.getElementById("root")).render(o.jsx(Vr.StrictMode,{children:o.jsx(yw,{})}));
